The xpath expression evaluations should rest the cached stream    &lt;route&gt; &lt;from uri='jetty:http://localhost:8084/services/simpleService'/&gt; &lt;choice&gt; &lt;when&gt; &lt;xpath&gt;/sim:GetCapabilitiesRequest&lt;/xpath&gt; &lt;/when&gt; &lt;when&gt; &lt;xpath&gt;/sim:GetMetadataRequest&lt;/xpath&gt; &lt;/when&gt; &lt;/choice&gt;&lt;/route&gt;A messages that matches the first when statement (I tested with both the route above and a version where I swapped the two xpath statements to make sure it was not dependent on the actual message) throws no errors and a call that matches the second when statement throws the Premature end of file error.   