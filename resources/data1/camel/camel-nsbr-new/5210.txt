Loop causes NullPointerException on error    The following context will cause NullPointerException. &lt;routeContext id='myCamelContext' xmlns='http://camel.apache.org/schema/spring'&gt;  &lt;route&gt; &lt;from uri='jms:myQueue'/&gt; &lt;onException&gt; &lt;exception&gt;org.xml.sax.SAXParseException&lt;/exception&gt; &lt;redeliveryPolicy maximumRedeliveries='2'/&gt; &lt;handled&gt;&lt;constant&gt;true&lt;/constant&gt;&lt;/handled&gt; &lt;to uri='log:camelfatal?showAll=true&amp;multiline=true&amp;level=ERROR'/&gt;  &lt;/onException&gt; &lt;loop copy='true'&gt; &lt;constant&gt;3&lt;/constant&gt; &lt;inOnly uri='smtp://you_can_leave_this_unchanged'/&gt; &lt;/loop&gt; &lt;/route&gt; &lt;/routeContext&gt;The callstack on the NullPointerException:Daemon Thread [Camel (appServerCamelContext) thread #1 - JmsConsumer&#91;emailOutbox&#93;] (Suspended (exception NullPointerException))  DefaultErrorHandler(RedeliveryErrorHandler).processErrorHandler(Exchange  AsyncCallback  RedeliveryErrorHandler$RedeliveryData) line: 262  DefaultErrorHandler(RedeliveryErrorHandler).process(Exchange  AsyncCallback) line: 223  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  DefaultChannel.process(Exchange  AsyncCallback) line: 304  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  LoopProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  LoopProcessor.process(Exchange  AsyncCallback  AtomicInteger  AtomicInteger) line: 103  LoopProcessor.process(Exchange  AsyncCallback) line: 74  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  InstrumentationProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  InstrumentationProcessor.process(Exchange  AsyncCallback) line: 71  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  TraceInterceptor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  TraceInterceptor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  TraceInterceptor.process(Exchange  AsyncCallback) line: 91  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  DefaultErrorHandler(RedeliveryErrorHandler).processErrorHandler(Exchange  AsyncCallback  RedeliveryErrorHandler$RedeliveryData) line: 333  DefaultErrorHandler(RedeliveryErrorHandler).process(Exchange  AsyncCallback) line: 223  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  DefaultChannel.process(Exchange  AsyncCallback) line: 304  RouteContextProcessor.processNext(Exchange  AsyncCallback) line: 45  RouteContextProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  UnitOfWorkProcessor.processAsync(Exchange  AsyncCallback  UnitOfWork) line: 150  UnitOfWorkProcessor.process(Exchange  AsyncCallback) line: 117  RouteInflightRepositoryProcessor.processNext(Exchange  AsyncCallback) line: 50  RouteInflightRepositoryProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  AsyncProcessorHelper.process(AsyncProcessor  Exchange  AsyncCallback) line: 73  InstrumentationProcessor(DelegateAsyncProcessor).processNext(Exchange  AsyncCallback) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange  AsyncCallback) line: 90  InstrumentationProcessor.process(Exchange  AsyncCallback) line: 71  AsyncProcessorHelper.process(AsyncProcessor  Exchange) line: 99  InstrumentationProcessor(DelegateAsyncProcessor).process(Exchange) line: 86  EndpointMessageListener.onMessage(Message) line: 104  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).doInvokeListener(MessageListener  Message) line: 560  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).invokeListener(Session  Message) line: 498  DefaultJmsMessageListenerContainer(AbstractMessageListenerContainer).doExecuteListener(Session  Message) line: 467  DefaultJmsMessageListenerContainer(AbstractPollingMessageListenerContainer).doReceiveAndExecute(Object  Session  MessageConsumer  TransactionStatus) line: 325  DefaultJmsMessageListenerContainer(AbstractPollingMessageListenerContainer).receiveAndExecute(Object  Session  MessageConsumer) line: 263  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener() line: 1058  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop() line: 1050  DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run() line: 947  ThreadPoolExecutor$Worker.runTask(Runnable) line: 886  ThreadPoolExecutor$Worker.run() line: 908  Thread.run() line: 662   