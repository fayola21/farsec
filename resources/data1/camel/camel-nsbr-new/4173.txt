Nullpointer in camel-mail when body is null    When trying to send a mail with an empty body (null) then we get the following NullPointer exception.We should instead either complain about the null body or send the mail with an empty body.13:27:27 010 | INFO | tp1062262230-101 | ache.camel.processor.CamelLogger 87 | 55 - org.apache.camel.camel-core - 2.7.1 | Exchange[ExchangePattern:InOut  BodyType:org.apache.cxf.message.MessageContentsList  Body:&#91;com.ier.ebo_servicerequest.ServiceRequestType@10e07658&#93;]13:27:27 013 | ERROR | tp1062262230-101 | ache.camel.processor.CamelLogger 232 | 55 - org.apache.camel.camel-core - 2.7.1 | Failed delivery for exchangeId: ID-MacBook-Pro-de-bahaaldine-local-51035-1309771358240-2-6. Exhausted after delivery attempt: 1 caught: org.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerExceptionorg.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerException at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:367)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.apache.camel.component.mail.MailProducer.process(MailProducer.java:44)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:104)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:272)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:125)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:139)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:582)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:511)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:211)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.sendToRecipientList(RecipientList.java:134)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.process(RecipientList.java:102)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:135)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask.run(FutureTask.java:138)&#91;:1.6.0_24&#93; at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:118)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:208)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:205)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:113)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:184)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:107)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at javax.servlet.http.HttpServlet.service(HttpServlet.java:713)&#91;72:org.apache.geronimo.specs.geronimo-servlet_2.5_spec:1.1.2&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:163)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:534)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:476)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:517)&#91;78:org.eclipse.jetty.security:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:934)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:404)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:184)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:869)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.Server.handle(Server.java:346)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:581)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1057)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:807)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:411)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:526)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:41)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:528)&#91;73:org.eclipse.jetty.util:7.3.1.v20110307&#93; at java.lang.Thread.run(Thread.java:680)&#91;:1.6.0_24&#93;Caused by: java.lang.NullPointerException at javax.mail.util.ByteArrayDataSource.&lt;init&gt;(ByteArrayDataSource.java:137)&#91;69:javax.mail:1.4.3&#93; at org.apache.camel.component.mail.MailBinding.populateContentOnMimeMessage(MailBinding.java:205)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailBinding.populateMailMessage(MailBinding.java:114)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailProducer$1.prepare(MailProducer.java:46)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; ... 98 more13:27:27 023 | WARN | tp1062262230-101 | ache.cxf.common.logging.LogUtils 371 | - - | Interceptor for {http://www.ier.com/WS_ServiceRequest}WSServiceRequestService#{http://www.ier.com/WS_ServiceRequest}createServiceRequest has thrown exception  unwinding noworg.apache.cxf.interceptor.Fault: Could not prepare mail; nested exception is java.lang.NullPointerException at org.apache.camel.component.cxf.CxfConsumer$1.checkFailure(CxfConsumer.java:218)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.setResponseBack(CxfConsumer.java:195)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:142)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.invoke(CxfConsumer.java:77)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)&#91;:1.6.0_24&#93; at java.util.concurrent.FutureTask.run(FutureTask.java:138)&#91;:1.6.0_24&#93; at org.apache.cxf.workqueue.SynchronousExecutor.execute(SynchronousExecutor.java:37)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:106)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:263)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:118)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:208)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:223)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:205)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:113)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:184)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:107)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at javax.servlet.http.HttpServlet.service(HttpServlet.java:713)&#91;72:org.apache.geronimo.specs.geronimo-servlet_2.5_spec:1.1.2&#93; at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:163)&#91;124:org.apache.cxf.bundle:2.4.0&#93; at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:534)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:476)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:517)&#91;78:org.eclipse.jetty.security:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:934)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:404)&#91;79:org.eclipse.jetty.servlet:7.3.1.v20110307&#93; at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:184)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:869)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72)&#91;84:org.ops4j.pax.web.pax-web-jetty:1.0.1&#93; at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.Server.handle(Server.java:346)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:581)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection$RequestHandler.content(HttpConnection.java:1057)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:807)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:220)&#91;75:org.eclipse.jetty.http:7.3.1.v20110307&#93; at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:411)&#91;77:org.eclipse.jetty.server:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:526)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:41)&#91;74:org.eclipse.jetty.io:7.3.1.v20110307&#93; at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:528)&#91;73:org.eclipse.jetty.util:7.3.1.v20110307&#93; at java.lang.Thread.run(Thread.java:680)&#91;:1.6.0_24&#93;Caused by: org.springframework.mail.MailPreparationException: Could not prepare mail; nested exception is java.lang.NullPointerException at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:367)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:344)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; at org.apache.camel.component.mail.MailProducer.process(MailProducer.java:44)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:50)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor$2.doInAsyncProducer(SendProcessor.java:104)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.impl.ProducerCache.doInAsyncProducer(ProducerCache.java:272)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:125)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.Pipeline.process(Pipeline.java:80)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:139)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:61)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:299)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:208)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:582)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.doProcessSequential(MulticastProcessor.java:511)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.MulticastProcessor.process(MulticastProcessor.java:211)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.sendToRecipientList(RecipientList.java:134)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.RecipientList.process(RecipientList.java:102)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:99)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:269)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.UnitOfWorkProcessor.process(UnitOfWorkProcessor.java:109)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:77)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.processNext(DelegateAsyncProcessor.java:98)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:89)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:68)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.util.AsyncProcessorHelper.process(AsyncProcessorHelper.java:103)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.processor.DelegateAsyncProcessor.process(DelegateAsyncProcessor.java:85)&#91;55:org.apache.camel.camel-core:2.7.1&#93; at org.apache.camel.component.cxf.CxfConsumer$1.syncInvoke(CxfConsumer.java:135)&#91;125:org.apache.camel.camel-cxf:2.7.1&#93; ... 41 moreCaused by: java.lang.NullPointerException at javax.mail.util.ByteArrayDataSource.&lt;init&gt;(ByteArrayDataSource.java:137)&#91;69:javax.mail:1.4.3&#93; at org.apache.camel.component.mail.MailBinding.populateContentOnMimeMessage(MailBinding.java:205)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailBinding.populateMailMessage(MailBinding.java:114)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.apache.camel.component.mail.MailProducer$1.prepare(MailProducer.java:46)&#91;281:org.apache.camel.camel-mail:2.7.1&#93; at org.springframework.mail.javamail.JavaMailSenderImpl.send(JavaMailSenderImpl.java:352)&#91;49:org.springframework.context.support:3.0.5.RELEASE&#93; ... 98 more   