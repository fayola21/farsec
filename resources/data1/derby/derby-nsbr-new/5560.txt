Java deadlock between LogicalConnection40 and ClientXAConnection40 (patch attached)    There is a Java deadlock between LogicalConnection40 and ClientXAConnection40. The order of calls that cause the deadlock are:Thread 1LogicalConnection.closeClientPooledConnection.recycleConnectionThread 2ClientPooledConnection.closeLogicalConnection.nullPhysicalConnectionThread 1 acquires a lock on the LogicalConnection and attempts to acquire a lock on the ClientPooledConnectionThread 2 acquires a lock on the ClientPooledConnection and attempts to acquire a lock on the LogicalConnectionIn production this occurs when one thread is committing a transaction and another thread is trying to close the connection. This occurred because the Glassfish connection pool is setup to close all connections on any error on any connection and an error has been detected on another connection in the pool.   