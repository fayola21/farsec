Network client XA should only keep XA state for transaction branch association  to track whether to send commit in autocommit mode.  All other state and state related decisions should be deferred to the server.    Network client XA should only keep XA state for transaction branch association  to track whether to send commit in autocommit mode. All other state and state related decisions should be defered to the server.The client tries to track XA state to make decisions based on current XA state. Most of this state handling was removed with DERBY246  but it still was not being handled properly. This is evidenced by multiple failures in xaSimplePostive that now that it gets past DERBY-246.This fix will have the client track only branch association as outlined in the XA+ specification. Table 6-2  State Table for Transaction Branch Association. The client will track onlyXA_TO_NOT_ASSOCIATEDXA_T1_ASSOCIATEDAssociation Suspended (T2) will map to XA_TO_NOT_ASSOCIATED for the client's pupurposes.The client commit in autocommit mode only for XA_TO_NOT_ASSOCIATED.   