With Network Server Database hangs after some time with many connections executing prepareStatement()    Rajesh found this issue in running Network Server system tests for the 10.1 release candidateWhile running the Network Server system test with 210 clients  the Network Server and all the clients hangs after some time. A Ctrl+/ on the Network Server shows that upto 180 threads waiting on the PreparedStatements to compile and comes from the embedded engine. The following is the stack trace from the java dump.3XMTHREADINFO 'DRDAConnThread_181' (TID:1007C998  sys_thread_t:85C4478  state:CW  native ID:4575ABB0) prio=54XESTACKTRACE at java.lang.Object.wait(Native Method)4XESTACKTRACE at java.lang.Object.wait(Object.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.sql.GenericStatement.prepMinion(GenericStatement.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.sql.GenericStatement.prepare(GenericStatement.java)4XESTACKTRACE at org.apache.derby.impl.sql.conn.GenericLanguageConnectionContext.prepareInternalStatement(GenericLanguageConnectionContext.java)4XESTACKTRACE at org.apache.derby.impl.jdbc.EmbedPreparedStatement.&lt;init&gt;(EmbedPreparedStatement.java)4XESTACKTRACE at org.apache.derby.impl.jdbc.EmbedPreparedStatement20.&lt;init&gt;(EmbedPreparedStatement20.java)4XESTACKTRACE at org.apache.derby.impl.jdbc.EmbedPreparedStatement30.&lt;init&gt;(EmbedPreparedStatement30.java)4XESTACKTRACE at org.apache.derby.jdbc.Driver30.newEmbedPreparedStatement(Driver30.java)4XESTACKTRACE at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(EmbedConnection.java)4XESTACKTRACE at org.apache.derby.impl.jdbc.EmbedConnection.prepareStatement(EmbedConnection.java)4XESTACKTRACE at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)4XESTACKTRACE at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java(Compiled Code))4XESTACKTRACE at java.lang.reflect.Method.invoke(Method.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.drda.DRDAStatement.prepareStatementJDBC3(DRDAStatement.java)4XESTACKTRACE at org.apache.derby.impl.drda.DRDAStatement.prepare(DRDAStatement.java)4XESTACKTRACE at org.apache.derby.impl.drda.DRDAStatement.explicitPrepare(DRDAStatement.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.drda.DRDAConnThread.parsePRPSQLSTT(DRDAConnThread.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.drda.DRDAConnThread.processCommands(DRDAConnThread.java(Compiled Code))4XESTACKTRACE at org.apache.derby.impl.drda.DRDAConnThread.run(DRDAConnThread.java)   