It is desirable to have IDENTITY_VAL_LOCAL() function return last recent user specified value or system generated value for BY DEFAULT identity columns.    Derby was recently enhanced to support BY DEFAULT identity column. While the behavior of this feature is not documented yet  I think  it is desirable for IDENTITY_VAL_LOCAL() function  that is used to retrieve last single statement insert value for identity column  to return user specified value for the default column.For GENERATED ALWAYS identity columns  this issue doesn't apply  since users can't provide a value. But for GENERATED BY DEFAULT identity columns  users can optionally specify a value. IDENTITY_VAL_LOCAL() function should return this value. Derby currently doesn't support this behavior.ij&gt; create table tauto ( i int generated by default as identity  j int  k int);0 rows inserted/updated/deletedij&gt; insert into tauto (j k) values (1 1);1 row inserted/updated/deletedij&gt; values identity_val_local();1-------------------------------11 row selectedij&gt; insert into tauto (j k) values (1 1);1 row inserted/updated/deletedij&gt; values identity_val_local();1-------------------------------21 row selectedij&gt; insert into tauto values (5 1 1);1 row inserted/updated/deletedij&gt; values identity_val_local();1-------------------------------2 &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;============= This needs be '5'1 row selectedij&gt; select * from tauto;I |J |K-----------------------------------1 |1 |12 |1 |15 |1 |13 rows selected   