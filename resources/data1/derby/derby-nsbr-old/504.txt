SELECT DISTINCT returns duplicates when selecting from subselects    When one performs a select distinct on a table generated by a subselect  there sometimes are duplicates in the result. The following example shows the problem:ij&gt; CREATE TABLE names (id INT PRIMARY KEY  name VARCHAR(10));0 rows inserted/updated/deletedij&gt; INSERT INTO names (id  name) VALUES (1  'Anna')  (2  'Ben')  (3  'Carl')  (4  'Carl')  (5  'Ben')  (6  'Anna');6 rows inserted/updated/deletedij&gt; SELECT DISTINCT(name) FROM (SELECT name  id FROM names) AS n;NAME ----------Anna Ben Carl Carl Ben Anna Six names are returned  although only three names should have been returned.When the result is explicitly sorted (using ORDER BY) or the id column is removed from the subselect  the query returns three names as expected:ij&gt; SELECT DISTINCT(name) FROM (SELECT name  id FROM names) AS n ORDER BY name;NAME ----------Anna Ben Carl 3 rows selectedij&gt; SELECT DISTINCT(name) FROM (SELECT name FROM names) AS n;NAME ----------Anna Ben Carl 3 rows selected   