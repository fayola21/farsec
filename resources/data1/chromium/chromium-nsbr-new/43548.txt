<title>Issue 43548 -   chromium -    Geolocation never fires callbacks if user closes the prompt toolbar - Project Hosting on Google Code</title> <pre> Script does this:  navigator.geolocation.getCurrentPosition(function () {alert(1)} function ()  {alert(2)});    User is prompted for permission.  Prompt toolbar has &quot;aloow&quot; &quot;deny&quot; &quot;[X]&quot; (close).  User clicks the &quot;[X]&quot; button  which is equivalent to &quot;deny&quot;  since it   means the script will never get a location.  The callback functions are not executed. The script has no way to detect   that the user can no longer give permission.    Reproducible: Always    Steps to Reproduce:  1. Prompt for geolocation  2. Click the [X] button on the prompt toolbar    Actual Results:    Callback function is not executed    Expected Results:    The errorCallback function should be executed  with code PERMISSION_DENIED.    See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=564397">https://bugzilla.mozilla.org/show_bug.cgi?id=564397</a> for Firefox's   independent version of this bug. </pre>