<title>Issue 32089 -   chromium -    memory leak in host resolver impl on chromium os unit_test - Project Hosting on Google Code</title> <pre>   -- bots ---  http://chrome-buildbot:8016/waterfall?  branch=&amp;builder=Chromium%20OS+UI+(valgrind)(1)&amp;builder=Chromium%20OS+UI+(va  lgrind)(2)&amp;builder=Chromium%20OS+UI+(valgrind)(3)&amp;builder=Chromium%20OS+UI+  (valgrind)(4)&amp;reload=90    -- full log --  http://chrome-  buildbot:8016/builders/Chromium%20OS%20UI%20(valgrind)(1)/builds/809/steps/  valgrind%20test:%20unit/logs/stdio    -- snippets --  11:06:06 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command: src/sconsbuild/Release/unit_tests --gtest_filter=-  VisitedLinkEventsTest.Coalescense:VisitedLinkRelayTest.Basics:RenderViewTes  t.ImeComposition:DnsMasterTest.MassiveConcurrentLookupTest --  gtest_print_time  48 bytes in 3 blocks are definitely lost in loss record 14 772 of 18 140    operator new(unsigned int) (ome/chrome-bot/valgrind-10880-  redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:228)    base::LinuxDynamicThreadPool::PostTask(Task*)   (base/worker_pool_linux.cc:136)    (anonymous namespace)::WorkerPoolImpl::PostTask(tracked_objects::Location   const&amp;  Task*  bool) (base/worker_pool_linux.cc:45)    WorkerPool::PostTask(tracked_objects::Location const&amp;  Task*  bool)   (base/worker_pool_linux.cc:89)    net::HostResolverImpl::Job::Start() (net/base/host_resolver_impl.cc:165)    net::HostResolverImpl::Resolve(net::HostResolver::RequestInfo const&amp;    net::AddressList*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  void**  net::LoadLog*)   (net/base/host_resolver_impl.cc:403)    net::MockHostResolverBase::Resolve(net::HostResolver::RequestInfo const&amp;    net::AddressList*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  void**  net::LoadLog*)   (net/base/mock_host_resolver.cc:54)    net::SingleRequestHostResolver::Resolve(net::HostResolver::RequestInfo   const&amp;  net::AddressList*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  net::LoadLog*)   (net/base/host_resolver.cc:39)    chrome_browser_net::DnsMaster::LookupRequest::Start()   (chrome/browser/net/dns_master.cc:51)    chrome_browser_net::DnsMaster::StartSomeQueuedResolutions()   (chrome/browser/net/dns_master.cc:401)      chrome_browser_net::DnsMaster::AppendToResolutionQueue(std::basic_string&lt;ch  ar  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; const&amp;    chrome_browser_net::DnsHostInfo::ResolutionMotivation)   (chrome/browser/net/dns_master.cc:381)      chrome_browser_net::DnsMaster::ResolveList(std::vector&lt;std::basic_string&lt;ch  ar  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt;    std::allocator&lt;std::basic_string&lt;char  std::char_traits&lt;char&gt;    std::allocator&lt;char&gt; &gt; &gt; &gt; const&amp;    chrome_browser_net::DnsHostInfo::ResolutionMotivation)   (chrome/browser/net/dns_master.cc:102)    chrome_browser_net::DnsMasterTest_BenefitLookupTest_Test::TestBody()   (chrome/browser/net/dns_master_unittest.cc:149)    testing::Test::Run() (testing/gtest/src/gtest.cc:2085)    testing::internal::TestInfoImpl::Run() (testing/gtest/src/gtest.cc:2304)    testing::TestCase::Run() (testing/gtest/src/gtest.cc:2412)    testing::internal::UnitTestImpl::RunAllTests()   (testing/gtest/src/gtest.cc:4013)    testing::UnitTest::Run() (testing/gtest/src/gtest.cc:3680)    TestSuite::Run() (base/test/test_suite.h:124)    main (chrome/test/unit/run_all_unittests.cc:8)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*     fun:_ZN4base22LinuxDynamicThreadPool8PostTaskEP4Task       fun:_ZN112_GLOBAL__N__b_slave_chromium_rel_chromeos_valgrind_tests_1_build_  src_base_worker_pool_linux.cc_00000000_9F9C69EF14WorkerPoolImpl8PostTaskERK  N15tracked_objects8LocationEP4Taskb     fun:_ZN10WorkerPool8PostTaskERKN15tracked_objects8LocationEP4Taskb     fun:_ZN3net16HostResolverImpl3Job5StartEv       fun:_ZN3net16HostResolverImpl7ResolveERKNS_12HostResolver11RequestInfoEPNS_  11AddressListEP14CallbackRunnerI6Tuple1IiEEPPvPNS_7LoadLogE       fun:_ZN3net20MockHostResolverBase7ResolveERKNS_12HostResolver11RequestInfoE  PNS_11AddressListEP14CallbackRunnerI6Tuple1IiEEPPvPNS_7LoadLogE       fun:_ZN3net25SingleRequestHostResolver7ResolveERKNS_12HostResolver11Request  InfoEPNS_11AddressListEP14CallbackRunnerI6Tuple1IiEEPNS_7LoadLogE     fun:_ZN18chrome_browser_net9DnsMaster13LookupRequest5StartEv     fun:_ZN18chrome_browser_net9DnsMaster26StartSomeQueuedResolutionsEv       fun:_ZN18chrome_browser_net9DnsMaster23AppendToResolutionQueueERKSsNS_11Dns  HostInfo20ResolutionMotivationE       fun:_ZN18chrome_browser_net9DnsMaster11ResolveListERKSt6vectorISsSaISsEENS_  11DnsHostInfo20ResolutionMotivationE       fun:_ZN18chrome_browser_net36DnsMasterTest_BenefitLookupTest_Test8TestBodyE  v     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  } </pre>