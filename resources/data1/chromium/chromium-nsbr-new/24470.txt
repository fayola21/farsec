<title>Issue 24470 -   chromium -    Chrome freeze/hang when re-laying-out due to overflow chevron - Project Hosting on Google Code</title> <pre> Chrome Version       : 4.0.221.8-<a href="/p/chromium/source/detail?r=28108">r28108</a> (google-chrome-unstable)  OS + version : Goobuntu Hardy  CPU architecture (32-bit / 64-bit): x86_64  window manager : metacity  URLs (if applicable) : all      1. Start chrome browser  2. visit any address      the ui will not hang  and the web page is displayed      total ui hang  with one chrome process (the ui thread?) consuming 100% of   one of my CPU cores.      Details/Forensics:  It seems I had a crash which has somehow corrupted something in my config   directory.  If I move ~/.config/google-chrome to a backup directory  a new   config directory is created and the hang goes away.  I attached gdb  and it   seems to be hanging somewere in glib/gtk:      --------------------------------------------------------------------------  (gdb) bt  #0  0x00007f7352fc7653 in ?? () from /usr/lib/libglib-2.0.so.0  #1  0x00007f7352fcb3fd in g_source_attach () from /usr/lib/libglib-2.0.so.0  #2  0x00007f7352fcb542 in g_idle_add_full () from /usr/lib/libglib-2.0.so.0  #3  0x00007f73548ebf70 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #4  0x00007f73549db7cd in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #5  0x00007f7354a8a12c in gtk_widget_hide () from /usr/lib/libgtk-x11-  2.0.so.0  #6  0x00007f7353869bbf in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #7  0x00007f735387d7e8 in ?? () from /usr/lib/libgobject-2.0.so.0  #8  0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #9  0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #10 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #11 0x00007f735493cba6 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #12 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #13 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #14 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #15 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  .  .  .  --------------------------------------------------------------------------      More detailed gdb info (PID 23713 was the one that was using 100% CPU):  --------------------------------------------------------------------------  jbs@baoyu:~/.config$ gdb  GNU gdb (GDB) 7.0-gg1  Copyright (C) 2009 Free Software Foundation  Inc.  License GPLv3+: GNU GPL version 3 or later   &lt;<a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>&gt;  Type &quot;show copying&quot; and &quot;show warranty&quot; for licensing/warranty details.  This GDB was configured as &quot;x86_64-linux&quot;.    (gdb) attach 23713  Attaching to process 23713  Reading symbols from /opt/google/chrome/chrome...    WARNING: no debugging symbols found.    [ lots of messages about lack of debug symbols in various so's redacted ]    [Thread debugging using libthread_db enabled]  Using host libthread_db library &quot;/lib64/libthread_db.so.1&quot;.  [New Thread 0x40944950 (LWP 23790)]  [New Thread 0x40923950 (LWP 23789)]  [New Thread 0x413b3950 (LWP 23787)]  [New Thread 0x4131b950 (LWP 23784)]  [New Thread 0x43d36950 (LWP 23751)]  [New Thread 0x412fa950 (LWP 23724)]  [New Thread 0x43535950 (LWP 23723)]  [New Thread 0x42d34950 (LWP 23722)]  [New Thread 0x42533950 (LWP 23721)]  [New Thread 0x41d32950 (LWP 23716)]    [ more messages about lack of debug symbols in various so's redacted ]    Loaded symbols for /usr/lib/nss/libnssckbi.so  0x00007f7352fc7653 in ?? () from /usr/lib/libglib-2.0.so.0  (gdb) threads  Undefined command: &quot;threads&quot;.  Try &quot;help&quot;.  (gdb) info threads    11 Thread 0x41d32950 (LWP 23716)  0x00007f7350998739 in syscall () from   /lib/libc.so.6    10 Thread 0x42533950 (LWP 23721)  0x00007f7351d90b99 in   pthread_cond_wait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    9 Thread 0x42d34950 (LWP 23722)  0x00007f7350998739 in syscall () from   /lib/libc.so.6    8 Thread 0x43535950 (LWP 23723)  0x00007f7351d90b99 in   pthread_cond_wait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    7 Thread 0x412fa950 (LWP 23724)  0x00007f7351d90b99 in   pthread_cond_wait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    6 Thread 0x43d36950 (LWP 23751)  0x00007f7351d90e1d in   pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    5 Thread 0x4131b950 (LWP 23784)  0x00007f7351d90e1d in   pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    4 Thread 0x413b3950 (LWP 23787)  0x00007f7351d90e1d in   pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    3 Thread 0x40923950 (LWP 23789)  0x00007f7351d90e1d in   pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0    2 Thread 0x40944950 (LWP 23790)  0x00007f7351d90e1d in   pthread_cond_timedwait@@GLIBC_2.3.2 () from /lib/libpthread.so.0  * 1 Thread 0x7f735590c6f0 (LWP 23713)  0x00007f7352fc7653 in ?? () from   /usr/lib/libglib-2.0.so.0  (gdb) bt  #0  0x00007f7352fc7653 in ?? () from /usr/lib/libglib-2.0.so.0  #1  0x00007f7352fcb3fd in g_source_attach () from /usr/lib/libglib-2.0.so.0  #2  0x00007f7352fcb542 in g_idle_add_full () from /usr/lib/libglib-2.0.so.0  #3  0x00007f73548ebf70 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #4  0x00007f73549db7cd in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #5  0x00007f7354a8a12c in gtk_widget_hide () from /usr/lib/libgtk-x11-  2.0.so.0  #6  0x00007f7353869bbf in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #7  0x00007f735387d7e8 in ?? () from /usr/lib/libgobject-2.0.so.0  #8  0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #9  0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #10 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #11 0x00007f735493cba6 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #12 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #13 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #14 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #15 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #16 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #17 0x00007f735490c0d5 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #18 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #19 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #20 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #21 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #22 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #23 0x00007f73548a6982 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #24 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #25 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #26 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #27 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #28 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #29 0x00007f735490c0d5 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #30 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #31 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #32 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #33 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #34 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #35 0x00007f7354a7eda2 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #36 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #37 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #38 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #39 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #40 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #41 0x00007f73548a6982 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #42 0x00007f7353869c8c in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #43 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #44 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #45 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #46 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #47 0x00007f7354a975f4 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  ---Type &lt;return&gt; to continue  or q &lt;return&gt; to quit---   #48 0x00007f7353869bbf in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #49 0x00007f735387d4be in ?? () from /usr/lib/libgobject-2.0.so.0  #50 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #51 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #52 0x00007f7354a87fb4 in gtk_widget_size_allocate () from /usr/lib/libgtk-  x11-2.0.so.0  #53 0x00007f7354a97bcc in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #54 0x00007f7353869bbf in g_closure_invoke () from /usr/lib/libgobject-  2.0.so.0  #55 0x00007f735387dbc8 in ?? () from /usr/lib/libgobject-2.0.so.0  #56 0x00007f735387f245 in g_signal_emit_valist () from /usr/lib/libgobject-  2.0.so.0  #57 0x00007f735387f633 in g_signal_emit () from /usr/lib/libgobject-  2.0.so.0  #58 0x00007f73548ebd90 in ?? () from /usr/lib/libgtk-x11-2.0.so.0  #59 0x00007f73545b289e in ?? () from /usr/lib/libgdk-x11-2.0.so.0  #60 0x00007f7352fc9384 in g_main_context_dispatch () from /usr/lib/libglib-  2.0.so.0  #61 0x00007f7352fcc695 in ?? () from /usr/lib/libglib-2.0.so.0  #62 0x00007f7352fccb7b in g_main_context_iteration () from   /usr/lib/libglib-2.0.so.0  #63 0x0000000000879cdf in ?? ()  #64 0x0000000000877577 in ?? ()  #65 0x0000000000429220 in ?? ()  #66 0x0000000000423a0f in ?? ()  #67 0x00007f73508e21c4 in __libc_start_main () from /lib/libc.so.6  #68 0x0000000000422669 in ?? ()  #69 0x00007fff5d942bc8 in ?? ()  #70 0x0000000000000000 in ?? ()  (gdb) gcore  Saved corefile core.23713  (gdb) quit  A debugging session is active.    	Inferior 1 [process 23713] will be detached.    Quit anyway? (y or n) y  Detaching from program: /opt/google/chrome/chrome  process 23713  jbs@baoyu:~/.config$ kill 23713  --------------------------------------------------------------------------    I've got a copy of the offending config directory if that's helpful. </pre>