<title>Issue 33547 -   chromium -    Crash WebCore::ScriptController - Project Hosting on Google Code</title> <pre> Platform:    Mac OS X Version 10.5.8 (Build 9L31a)    Processor: 1 Intel 1.50 GHz    RAM: 1024 MB    Chrome:    Chrome version: 5.0.307.1 <a href="/p/chromium/source/detail?r=37331">r37331</a>     QuickTime Player: 7.6.4    Flash Player: 10.0.42.34      1. Install Chrome extensions FlashBlock and adthwart.  Flashblock - (<a href="https://chrome.google.com/extensions/detail/gofhjkjmkpinhpoiabjplobcaignabnl">https://chrome.google.com/extensions/detail/gofhjkjmkpinhpoiabjplobcaignabnl</a>)   adthwart - (<a href="https://chrome.google.com/extensions/detail/cfhdojbkjhnklbpkdaibdccddilifddb">https://chrome.google.com/extensions/detail/cfhdojbkjhnklbpkdaibdccddilifddb</a>)  2. Open cnn.com (Both these should be enabled by default  so you won't see any ad's on the page)  3. Disable adthwart for cnn.com.  4. Refresh the page (the ad's are back but the flash is disabled)  5. Disable flashblock for cnn.com.    Actual:  When we disable/enable flashblock after meddling with adthwart the browser crashes. Crash report is attached.    Crash log:    Thread 0 (crashed)   0 Google Chrome Framew0.307.1.0            0x032773df WebCore::ScriptController::mainWorldScriptState() + 0x0 (OwnPtr.h:68)   1 Google Chrome Framew0.307.1.0            0x032774a2 WebCore::ScriptController::currentScriptState() + 0xf   (ScriptController.cpp:372)   2 Google Chrome Framew0.307.1.0            0x03277360 WebCore::ScriptCallStack::create(v8::Arguments const&amp;  unsigned int) +   0x4 (ScriptCallStack.cpp:58)   3 Google Chrome Framew0.307.1.0            0x039095d2 logCallback + 0x12 (V8Console.cpp:70)   4 Google Chrome Framew0.307.1.0            0x02ea0399 Builtin_HandleApiCall + 0x8 (builtins.cc:386)   5    6    7    8    9   10   11   12 Google Chrome Framew0.307.1.0            0x02eb8761 Invoke + 0x1a (execution.cc:97)  13 Google Chrome Framew0.307.1.0            0x02eb8be6   v8::internal::Execution::TryCall(v8::internal::Handle&lt;v8::internal::JSFunction&gt;  v8::internal::Handle&lt;v8::internal::Object&gt;  int    v8::internal::Object***  bool*) + 0x20 (execution.cc:124)  14 Google Chrome Framew0.307.1.0            0x02e86ab7 v8::Function::Call(v8::Handle&lt;v8::Object&gt;  int  v8::Handle&lt;v8::Value&gt;*) +   0x26 (api.cc:2426)  15 Google Chrome Framew0.307.1.0            0x03291aac WebCore::V8Proxy::callFunction(v8::Handle&lt;v8::Function&gt;    v8::Handle&lt;v8::Object&gt;  int  v8::Handle&lt;v8::Value&gt;*) + 0x1f (V8Proxy.cpp:461)  16 Google Chrome Framew0.307.1.0            0x032551a5   WebCore::V8EventListener::callListenerFunction(WebCore::ScriptExecutionContext*  v8::Handle&lt;v8::Value&gt;  WebCore::Event*) +   0x1e (V8CustomEventListener.cpp:75)  17 Google Chrome Framew0.307.1.0            0x0327d56a   WebCore::V8AbstractEventListener::invokeEventHandler(WebCore::ScriptExecutionContext*  WebCore::Event*    v8::Handle&lt;v8::Value&gt;) + 0x22 (V8AbstractEventListener.cpp:145)  18 Google Chrome Framew0.307.1.0            0x0327d7b7   WebCore::V8AbstractEventListener::handleEvent(WebCore::ScriptExecutionContext*  WebCore::Event*) + 0x19   (V8AbstractEventListener.cpp:89)  19 Google Chrome Framew0.307.1.0            0x0335b42b WebCore::EventTarget::fireEventListeners(WebCore::Event*) + 0x1f   (EventTarget.cpp:297)  20 Google Chrome Framew0.307.1.0            0x0335b54f WebCore::EventTarget::dispatchEvent(WTF::PassRefPtr&lt;WebCore::Event&gt;)   + 0xd (EventTarget.cpp:262)  21 Google Chrome Framew0.307.1.0            0x0387a96f WebCore::XMLHttpRequest::callReadyStateChangeListener() + 0xf   (XMLHttpRequest.cpp:276)  22 Google Chrome Framew0.307.1.0            0x0387b0b1 WebCore::XMLHttpRequest::didFinishLoading(unsigned long) + 0x7   (XMLHttpRequest.cpp:245)  23 Google Chrome Framew0.307.1.0            0x0353d30b WebCore::SubresourceLoader::didFinishLoading() + 0xb   (SubresourceLoader.cpp:184)  24 Google Chrome Framew0.307.1.0            0x03b2a413   webkit_glue::WebURLLoaderImpl::Context::OnCompletedRequest(URLRequestStatus const&amp;  std::string const&amp;) + 0x13   (weburlloader_impl.cc:543)  25 Google Chrome Framew0.307.1.0            0x026b70db ResourceDispatcher::OnRequestComplete(int  URLRequestStatus const&amp;    std::string const&amp;) + 0x15 (resource_dispatcher.cc:448)  26 Google Chrome Framew0.307.1.0            0x026b75f9 ResourceDispatcher::DispatchMessage(IPC::Message const&amp;) + 0x3b   (tuple.h:435)  27 Google Chrome Framew0.307.1.0            0x026b804f ResourceDispatcher::OnMessageReceived(IPC::Message const&amp;) + 0x11   (resource_dispatcher.cc:294)  28 Google Chrome Framew0.307.1.0            0x026c9820 ChildThread::OnMessageReceived(IPC::Message const&amp;) + 0xe   (child_thread.cc:109)  29 Google Chrome Framew0.307.1.0            0x030d05da RunnableMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt; &gt;::Run() + 0x13 (tuple.h:422)  30 Google Chrome Framew0.307.1.0            0x02bea62a MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask   const&amp;) + 0x7 (message_loop.cc:320)  31 Google Chrome Framew0.307.1.0            0x02beaf7a MessageLoop::DoWork() + 0xb (message_loop.cc:435)  32 Google Chrome Framew0.307.1.0            0x02bc6853 base::MessagePumpCFRunLoopBase::RunWorkSource(void*) + 0xa   (message_pump_mac.mm:291)  33 CoreFoundation      0.476.19.0           0x953c03c4 CFRunLoopRunSpecific + 0xc44  34 CoreFoundation      0.476.19.0           0x953c0aa7 CFRunLoopRunInMode + 0x57  35 HIToolbox           0.353.0.0            0x9589a2ab RunCurrentEventLoopInMode + 0x11a  36 HIToolbox           0.353.0.0            0x9589a0c4 ReceiveNextEventCommon + 0x175  37 HIToolbox           0.353.0.0            0x95899f38 BlockUntilNextEventMatchingListInMode + 0x69  38 AppKit              0.949.54.0           0x9022d6d4 _DPSNextEvent + 0x290  39 AppKit              0.949.54.0           0x9022cf87 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 0x7f  40 AppKit              0.949.54.0           0x90225f9e -[NSApplication run] + 0x31a  41 Google Chrome Framew0.307.1.0            0x02bc62fc base::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*)   + 0x19 (message_pump_mac.mm:677)  42 Google Chrome Framew0.307.1.0            0x02bc5a85 base::MessagePumpCFRunLoopBase::Run(base::MessagePump::Delegate*)   + 0xb (message_pump_mac.mm:213)  43 Google Chrome Framew0.307.1.0            0x02bea573 MessageLoop::Run() + 0xb (message_loop.cc:205)  44 Google Chrome Framew0.307.1.0            0x02b8811d RendererMain(MainFunctionParams const&amp;) + 0xc (renderer_main.cc:277)  45 Google Chrome Framew0.307.1.0            0x0267ed61 ChromeMain + 0xd (chrome_dll_main.cc:671)  46 Google Chrome Helper                     0x00001fc5   47    </pre>