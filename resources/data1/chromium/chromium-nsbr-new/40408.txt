<title>Issue 40408 -   chromium -    InlineTextBox::paint() ignores the color property in rendering composition text. - Project Hosting on Google Code</title> <pre>   1. Open the attached HTML file with test_shell.    What is the expected output?    The word 'text' is rendered in red as shown in &quot;setmarkedtext-color-webkit.png&quot;.    What do you see instead?    Our test_shell render the word 'text' twice. The first 'text' is rendered in red and the second 'text'   is rendered in while as shown in &quot;setmarkedtext-color-chromium.png&quot;.        (Since the first 'text' is an issue of our WebFrameImpl::setMarkedText()  it is better to file another   bug.)    To investigate WebKit <a title="Chrome/Chromium crashes when javascript console is opened if the executable file is not named &quot;chrome.exe&quot;" class=closed_ref href="/p/chromium/issues/detail?id=31502"> issue 31502 </a> &lt;<a href="https://bugs.webkit.org/show_bug.cgi?id=31502">https://bugs.webkit.org/show_bug.cgi?id=31502</a>&gt;    InlineTextBox::paint() ignores the 'color' property of CSS in rendering composition text when   RenderObject::selectionForegroundColor() returns a valid colour. (This issue does not happen on Safari   and Chromium Mac because their RenderObject::selectionForegroundColor() return invalid colours.)    It may be a good idea to change InlineTextBox::paint() to ignore the colour returned from   RenderObject::selectionForegroundColor() when rendering composition text so we can always render the   composition text in the colour specified in the 'color' property?    Regards  </pre>