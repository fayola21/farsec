<title>Issue 24172 -   chromium -    Plugin crash in base::WaitableEventWatcher::StartWatching - Project Hosting on Google Code</title> <pre> Platform:    Hostname: RohMac-2.local    Mac OS X Version 10.5.8 (Build 9L30)    Processor: 2 Intel 2.40 GHz    RAM: 2048 MB    Chrome:    Chrome version: 4.0.221.8  &lt;&lt;&lt;Release&gt;&gt;&gt;    QuickTime Player: 7.6.4    QuickTime PlayerX: &lt;unknown&gt;    Flash Player: 10.0.32    During our nightly Chrome launching test  we have found this crash twice.  Full crash report is attached.    We are not sure  if this is there on other platforms also  so right now  marking this as only 'OS-Mac'.    Thread 0 (crashed)   0 libSystem.B.dylib   0.111.1.4            0x9532eb7e pthread_mutex_lock +  0x12   1 Google Chrome Framew0.0.0.0              0x0257259a  base::WaitableEventWatcher::StartWatching(base::WaitableEvent*   base::WaitableEventWatcher::Delegate*) + 0xd (lock.h:16)   2 Google Chrome Framew0.0.0.0              0x02a05521  IPC::SyncChannel::WaitForReplyWithNestedMessageLoop() + 0x18  (ipc_sync_channel.cc:435)   3 Google Chrome Framew0.0.0.0              0x02a0655d  IPC::SyncChannel::WaitForReply(base::WaitableEvent*) + 0xa  (ipc_sync_channel.cc:420)   4 Google Chrome Framew0.0.0.0              0x02a066dd  IPC::SyncChannel::SendWithTimeout(IPC::Message*  int) + 0x11  (ipc_sync_channel.cc:396)   5 Google Chrome Framew0.0.0.0              0x02a04b5f  IPC::SyncChannel::Send(IPC::Message*) + 0x16 (ipc_sync_channel.cc:361)   6 Google Chrome Framew0.0.0.0              0x033040de  PluginChannelBase::Send(IPC::Message*) + 0xb (plugin_channel_base.cc:108)   7 Google Chrome Framew0.0.0.0              0x0330186d  PluginChannel::Send(IPC::Message*) + 0xe (plugin_channel.cc:189)   8 Google Chrome Framew0.0.0.0              0x032fadbe    9 Google Chrome Framew0.0.0.0              0x032fcd59  NPObjectProxy::NPNEvaluate(_NPP*  NPObject*  _NPString*  _NPVariant*) +  0x13 (npobject_proxy.cc:473)  10 Google Chrome Framew0.0.0.0              0x03301395 NPN_EvaluatePatch +  0x1f (npobject_util.cc:83)  11 Flash Player        0.0.0.0              0x044d63cd   12 Flash Player        0.0.0.0              0x044d8fa5 NP_Shutdown + 0x1f75  13 Flash Player        0.0.0.0              0x044d9f71 NP_Shutdown + 0x2f41  14 Flash Player        0.0.0.0              0x044dc5fb  Flash_EnforceLocalSecurity + 0xe5b  15 Google Chrome Framew0.0.0.0              0x03244560  NPAPI::PluginInstance::NPP_NewStream(char*  _NPStream*  unsigned char   unsigned short*) + 0x23 (plugin_instance.cc:230)  16 Google Chrome Framew0.0.0.0              0x03251a7b  NPAPI::PluginStream::Open(std::string const&amp;  std::string const&amp;  unsigned  int  unsigned int  bool) + 0x20 (plugin_stream.cc:66)  17 Google Chrome Framew0.0.0.0              0x03252615  NPAPI::PluginStreamUrl::DidReceiveResponse(std::string const&amp;  std::string  const&amp;  unsigned int  unsigned int  bool) + 0x2b (plugin_stream_url.cc:52)  18 Google Chrome Framew0.0.0.0              0x0330797f  WebPluginDelegateStub::OnDidReceiveResponse(PluginMsg_DidReceiveResponseParams  const&amp;) + 0x2b (webplugin_delegate_stub.cc:182)  19 Google Chrome Framew0.0.0.0              0x03308e13  WebPluginDelegateStub::OnMessageReceived(IPC::Message const&amp;) + 0x27  (tuple.h:422)  20 Google Chrome Framew0.0.0.0              0x02129ad0  MessageRouter::RouteMessage(IPC::Message const&amp;) + 0xe (message_router.cc:41)  21 Google Chrome Framew0.0.0.0              0x03304238  PluginChannelBase::OnMessageReceived(IPC::Message const&amp;) + 0xe  (plugin_channel_base.cc:124)  22 Google Chrome Framew0.0.0.0              0x03301967  PluginChannel::OnMessageReceived(IPC::Message const&amp;) + 0xe  (plugin_channel.cc:199)  23 Google Chrome Framew0.0.0.0              0x02a02dea  RunnableMethod&lt;IPC::ChannelProxy::Context  void  (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;  &gt;::Run() + 0x13 (tuple.h:422)  24 Google Chrome Framew0.0.0.0              0x0254ed4a  MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;) + 0x7  (message_loop.cc:314)  25 Google Chrome Framew0.0.0.0              0x0254f0fa  MessageLoop::DoWork() + 0xb (message_loop.cc:429)  26 Google Chrome Framew0.0.0.0              0x02551210  base::MessagePumpDefault::Run(base::MessagePump::Delegate*) + 0xa  (message_pump_default.cc:23)  27 Google Chrome Framew0.0.0.0              0x0254e933 MessageLoop::Run() +  0xb (message_loop.cc:199)  28 Google Chrome Framew0.0.0.0              0x02a054eb  IPC::SyncChannel::WaitForReplyWithNestedMessageLoop() + 0xc  (ipc_sync_channel.cc:432)  29 Google Chrome Framew0.0.0.0              0x02a0655d  IPC::SyncChannel::WaitForReply(base::WaitableEvent*) + 0xa  (ipc_sync_channel.cc:420)  30 Google Chrome Framew0.0.0.0              0x02a066dd  IPC::SyncChannel::SendWithTimeout(IPC::Message*  int) + 0x11  (ipc_sync_channel.cc:396)  31 Google Chrome Framew0.0.0.0              0x02a04b5f  IPC::SyncChannel::Send(IPC::Message*) + 0x16 (ipc_sync_channel.cc:361)  32 Google Chrome Framew0.0.0.0              0x033040de  PluginChannelBase::Send(IPC::Message*) + 0xb (plugin_channel_base.cc:108)  33 Google Chrome Framew0.0.0.0              0x0330186d  PluginChannel::Send(IPC::Message*) + 0xe (plugin_channel.cc:189)  34 Google Chrome Framew0.0.0.0              0x032fadbe   35 Google Chrome Framew0.0.0.0              0x032fcd59  NPObjectProxy::NPNEvaluate(_NPP*  NPObject*  _NPString*  _NPVariant*) +  0x13 (npobject_proxy.cc:473)  36 Google Chrome Framew0.0.0.0              0x03301395 NPN_EvaluatePatch +  0x1f (npobject_util.cc:83)  37 Flash Player        0.0.0.0              0x044d63cd   38 Flash Player        0.0.0.0              0x044d8fa5 NP_Shutdown + 0x1f75  39 Flash Player        0.0.0.0              0x044d9f71 NP_Shutdown + 0x2f41  40 Flash Player        0.0.0.0              0x044dc4c1  Flash_EnforceLocalSecurity + 0xd21  41 Google Chrome Framew0.0.0.0              0x03244560  NPAPI::PluginInstance::NPP_NewStream(char*  _NPStream*  unsigned char   unsigned short*) + 0x23 (plugin_instance.cc:230)  42 Google Chrome Framew0.0.0.0              0x03251a7b  NPAPI::PluginStream::Open(std::string const&amp;  std::string const&amp;  unsigned  int  unsigned int  bool) + 0x20 (plugin_stream.cc:66)  43 Google Chrome Framew0.0.0.0              0x03252615  NPAPI::PluginStreamUrl::DidReceiveResponse(std::string const&amp;  std::string  const&amp;  unsigned int  unsigned int  bool) + 0x2b (plugin_stream_url.cc:52)  44 Google Chrome Framew0.0.0.0              0x0330797f  WebPluginDelegateStub::OnDidReceiveResponse(PluginMsg_DidReceiveResponseParams  const&amp;) + 0x2b (webplugin_delegate_stub.cc:182)  45 Google Chrome Framew0.0.0.0              0x03308e13  WebPluginDelegateStub::OnMessageReceived(IPC::Message const&amp;) + 0x27  (tuple.h:422)  46 Google Chrome Framew0.0.0.0              0x02129ad0  MessageRouter::RouteMessage(IPC::Message const&amp;) + 0xe (message_router.cc:41)  47 Google Chrome Framew0.0.0.0              0x03304238  PluginChannelBase::OnMessageReceived(IPC::Message const&amp;) + 0xe  (plugin_channel_base.cc:124)  48 Google Chrome Framew0.0.0.0              0x03301967  PluginChannel::OnMessageReceived(IPC::Message const&amp;) + 0xe  (plugin_channel.cc:199)  49 Google Chrome Framew0.0.0.0              0x02a02dea  RunnableMethod&lt;IPC::ChannelProxy::Context  void  (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;  &gt;::Run() + 0x13 (tuple.h:422)  50 Google Chrome Framew0.0.0.0              0x0254ed4a  MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;) + 0x7  (message_loop.cc:314)  51 Google Chrome Framew0.0.0.0              0x0254f0fa  MessageLoop::DoWork() + 0xb (message_loop.cc:429)  52 Google Chrome Framew0.0.0.0              0x02551210  base::MessagePumpDefault::Run(base::MessagePump::Delegate*) + 0xa  (message_pump_default.cc:23)  53 Google Chrome Framew0.0.0.0              0x0254e933 MessageLoop::Run() +  0xb (message_loop.cc:199)  54 Google Chrome Framew0.0.0.0              0x033061b3  PluginMain(MainFunctionParams const&amp;) + 0xc (plugin_main.cc:158)  55 Google Chrome Framew0.0.0.0              0x020fabd9 ChromeMain + 0xd  (chrome_dll_main.cc:554)  56 Google Chrome Helper                     0x00001fc5   57    </pre>