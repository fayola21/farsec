<title>Issue 25649 -   chromium -    SDCH should handle cached content more gracefully - Project Hosting on Google Code</title> <pre> In general  SDCH should not handle cached content  as there is a chance   that the associated dictionary will not be present during a later attempt   at decoding.  For instance  if the browser is shut down and restarted  then   all dictionaries are currently purged from memory.    There are some conditions under which content that is marked as non-  cacheable is actually cached.  Two examples of this are when the user hits   a back button  and when the browser starts up  and attempts to resurrect   contents of tabs from a previous session.  In both cases  content marked as   non-cacheable may be loaded from the cache.    This bug notes that if the user does the following  then the SDCH error   recovery code is overly responsive:    a) Start the browser  such that none of the tabs visit an SDCH capable   site.  As a result  there will be no SDCH dictionaries in memory.    b) Visit an SDCH supported page.  The page will be loaded without using   content-enocding sdch because the browser will not advertise a dictionary.    A side effect of visiting the page is that the browser will (in the   background) obtain the requisite dictionary for future use.    c) Navigate across a link from the page in (b)  and then press back.    d) When the browser attempts to reload the page in (b)  it will detect that   it *now* has a dictionary that should be advertised to fetch the page  and   the page will be marked as &quot;should be SDCH encoded&quot; &lt;oops&gt;.  The browser   will then detect that the the page is not SDCH encoded  and (mistakenly)   believe that the transmission has been corrupted (e.g.  Why would a server   advertise a dicitonary  and then not use it??).  The browser will then   instigate a meta-refresh without SDCH as an acceptable encoding to get a   clean version.    The correct response in (d) is to realize that the page is cached  and   hence it is acceptable to have it not be SDCH encoded. (Note that it is   still unaccepetable to find an SDCH encoded file in the cache  when there   is no dictionary).  It is only when the page *first* arrives (not from   cache)  if a dictionary was advertised  but a server &quot;chose&quot; not to encode    then the browser should key its meta-refresh code.    Under some conditions  SDCH content may be loaded  with    </pre>