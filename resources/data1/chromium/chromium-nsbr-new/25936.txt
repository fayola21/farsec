<title>Issue 25936 -   chromium -    mksnapshot reports: &quot;Fatal error in v8::Context::New()&quot; (gcc 4.4  F12) - Project Hosting on Google Code</title> <pre> I'm filing this on behalf of Tom (spotrh) copied from <a title="glibc assert in WebCore::CSSParser::~CSSParser() (double free) -- gcc 4.4-specific?" class=closed_ref href="/p/chromium/issues/detail?id=23362"> issue 23362 </a>  comment   39. This issue appears to be separate to the problem under discussion   there  hence the new bug.    Chrome Version : 29513  OS + version : Fedora 12 beta?  CPU architecture (32-bit / 64-bit): 64 bit    [begin quote]  Yes  gcc_version=44 and no_strict_aliasing=1 and target_arch=x64 (it bails   out much  earlier if you don't pass target_arch=x64)    [spot@f12.x86-64 gyp]$ gdb  /mnt/chromium/chromium-20091020svn29513/src/sconsbuild/Debug/mksnapshot  GNU gdb (GDB) Fedora (6.8.91.20090930-2.fc12)  Copyright (C) 2009 Free Software Foundation  Inc.  License GPLv3+: GNU GPL version 3 or later   &lt;<a href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a>&gt;  This is free software: you are free to change and redistribute it.  There is NO WARRANTY  to the extent permitted by law.  Type &quot;show copying&quot;  and &quot;show warranty&quot; for details.  This GDB was configured as &quot;x86_64-redhat-linux-gnu&quot;.  For bug reporting instructions  please see:  &lt;<a href="http://www.gnu.org/software/gdb/bugs/&gt;..">http://www.gnu.org/software/gdb/bugs/&gt;..</a>.  Reading symbols from  /mnt/chromium/chromium-  20091020svn29513/src/sconsbuild/Debug/mksnapshot...done.  (gdb) set args  /mnt/chromium/chromium-  20091020svn29513/src/sconsbuild/Debug/obj/v8/_v8_snapshot_intermediate/snap  shot.cc  (gdb) run  Starting program:  /mnt/chromium/chromium-20091020svn29513/src/sconsbuild/Debug/mksnapshot  /mnt/chromium/chromium-  20091020svn29513/src/sconsbuild/Debug/obj/v8/_v8_snapshot_intermediate/snap  shot.cc  [Thread debugging using libthread_db enabled]    #  # Fatal error in v8::Context::New()  # Error initializing V8  #      Program received signal SIGABRT  Aborted.  0x0000003681833575 in raise () from /lib64/libc.so.6  (gdb) bt  #0  0x0000003681833575 in raise () from /lib64/libc.so.6  #1  0x0000003681834d55 in abort () from /lib64/libc.so.6  #2  0x000000000066eacb in v8::internal::OS::Abort () at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/platform-linux.cc:181  #3  0x0000000000523964 in API_Fatal (location=0x6dd19d   &quot;v8::Context::New()&quot;   format=0x6dbcf3 &quot;Error initializing V8&quot;) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/checks.cc:97  #4  0x00000000004fc824 in v8::DefaultFatalErrorHandler (location=0x6dd19d  &quot;v8::Context::New()&quot;  message=0x6dbcf3 &quot;Error initializing V8&quot;) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/api.cc:111  #5  0x00000000004fc8d8 in v8::Utils::ReportApiFailure (location=0x6dd19d  &quot;v8::Context::New()&quot;  message=0x6dbcf3 &quot;Error initializing V8&quot;) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/api.cc:146  #6  0x00000000004fc924 in v8::ApiCheck (condition=false  location=0x6dd19d  &quot;v8::Context::New()&quot;  message=0x6dbcf3 &quot;Error initializing V8&quot;) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/api.cc:160  #7  0x00000000004fca6d in v8::EnsureInitialized (location=0x6dd19d  &quot;v8::Context::New()&quot;) at /mnt/chromium/chromium-  20091020svn29513/src/v8/src/api.cc:218  #8  0x0000000000505e7b in v8::Context::New (extensions=0x7fffffffe340   global_template=...  global_object=...) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/api.cc:2653  #9  0x00000000004f9b52 in main (argc=2  argv=0x7fffffffe488) at  /mnt/chromium/chromium-20091020svn29513/src/v8/src/mksnapshot.cc:165  (gdb)   [end quote]    And after some debugging by Tom:    [begin quote]  And indeed  we get:    Heap::Setup(create_heap_objects) returned 0    A lot more printfs into heap.cc and I've narrowed down the reason in  Heap::Setup to:     if (!code_space_-&gt;Setup(NULL  0)) return false;    That goes into PagedSpace::Setup (spaces.cc)  and I was able to narrow  it down to this failure case:     if (!first_page_-&gt;is_valid()) {      return false;   }  [end quote]    I should note that gcc 4.4.x is in use successfully elsewhere (I run it on   F9  Joel uses it on Karmic) and mksnapshot seems to work there so the issue   may be specific to F12 or F12's gcc 4.4 or something ...    Suggestions? </pre>