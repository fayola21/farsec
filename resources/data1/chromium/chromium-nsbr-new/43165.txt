<title>Issue 43165 -   chromium -    OutOfMemory tests use fork in a not threadsafe manner - Project Hosting on Google Code</title> <pre> <a href="http://build.chromium.org/buildbot/waterfall/builders/Modules%20Linux/builds/19692/steps/base_unittests/logs/stdio">http://build.chromium.org/buildbot/waterfall/builders/Modules%20Linux/builds/19692/steps/base_unittests/logs/stdio</a>    [----------] 10 tests from OutOfMemoryTest  [ RUN      ] OutOfMemoryTest.New  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.New (5 ms)  [ RUN      ] OutOfMemoryTest.NewArray  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.NewArray (5 ms)  [ RUN      ] OutOfMemoryTest.Malloc  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Malloc (5 ms)  [ RUN      ] OutOfMemoryTest.Realloc  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Realloc (4 ms)  [ RUN      ] OutOfMemoryTest.Calloc  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Calloc (5 ms)  [ RUN      ] OutOfMemoryTest.Valloc  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Valloc (4 ms)  [ RUN      ] OutOfMemoryTest.Pvalloc  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Pvalloc (5 ms)  [ RUN      ] OutOfMemoryTest.Memalign  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Memalign (5 ms)  [ RUN      ] OutOfMemoryTest.ViaSharedLibraries  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.ViaSharedLibraries (4 ms)  [ RUN      ] OutOfMemoryTest.Posix_memalign  [WARNING] testing/gtest/src/gtest-death-test.cc:741:: Death tests use fork()  which is unsafe particularly in a threaded context. For this test  Google Test couldn't detect the number of threads.  [       OK ] OutOfMemoryTest.Posix_memalign (5 ms)  [----------] 10 tests from OutOfMemoryTest (47 ms total)    Probably we should explicitly add     ::testing::FLAGS_gtest_death_test_style = &quot;threadsafe&quot;;  to the fixture.  No idea why it is silent on Mac &amp; Win (yet?). </pre>