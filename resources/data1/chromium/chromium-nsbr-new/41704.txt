<title>Issue 41704 -   chromium -    Race condition with setting a theme and then quickly resetting to the default theme - Project Hosting on Google Code</title> <pre>   1. Start clients A and B  both with theme syncing  and reset to default theme  2. Install the theme   <a href="https://chrome.google.com/extensions/detail/iepcpohhelndknlebdckholhdbeabimb">https://chrome.google.com/extensions/detail/iepcpohhelndknlebdckholhdbeabimb</a> on client A  3. As soon as the infobar appears  click Undo quickly        client B should install the theme and then remove it.  Instead  it installs the theme  and then   eventually  client A installs it again.    So it's a race condition when receiving a theme sync notification: client B receives the   notification  kicks off the theme download  but then receives another one  resetting back to the   default theme.  But then the theme downloads and installs after that  leading to it being installed   anyway.    Not sure how to fix this  although it seems like an edge case.  Don't think it's an mstone-5   blocker. </pre>