<title>Issue 40828 -   chromium -    Consolidate functionality in delegate rather than translate infobars - Project Hosting on Google Code</title> <pre> Given that we implement the translate infobar GUI separately for each platform  we should ideally   be sharing as much logic as possible and keeping the platform-specific pieces as thin as   possible.    In the last few iterations  the following pieces of information have moved to the infobar GUI code   from the delegate and are duplicated on all 3 platforms:  * Tracking of the current infobar state [due to a race condition between observing the page   translation between the delegate and infobar].  * Information about the current error and whether a translation is pending.  * Information about the previous state transition (needed to control the animation of the infobar   background color).  * Sort order of the language popup menus.    These decisions obviously made sense in light of shipping this code quickly  but I think it's now   time to take a step back and refactor this to enable us to ship future changes quickly.    Fixing this is critical both for platform parity and stability (so we don't regress on just one   platform) and my vote would be to do this before making any more changes to the infobar since   currently updating the platform code is taking resources from Mac &amp; Linux folks.    Triage notes: I'd vote to make this a P1 and target immediately after critical mstone-5 . </pre>