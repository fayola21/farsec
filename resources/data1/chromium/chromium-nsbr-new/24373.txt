<title>Issue 24373 -   chromium -    having lots of history for one day blocks the UI thread - Project Hosting on Google Code</title> <pre> Copy the typical history profile (in   src/chrome/test/data/profiles/typical_history) into a temp directory.    Start chrome with --user-data-dir=&lt;temp directory&gt;    After chrome starts  press ctrl+h to view the history page.    CPU spikes to 100% and after a while  the UI thread gets blocked (on my   debug build  it's about 30 sec total).    First  the history thread is at 100% while it churns through the entries.    Once the history thread is done  the UI thread tries to convert the data   into JSON to send to the history page.  The conversion to JSON happens on   the UI thread and blocks the UI for seconds.    I don't know the details here  but it seems like we can limit the results   from the database since we don't show them all on the history page anyway   (there's a pager).    We could also do the JSON conversion on a different thread (although it   seems like for a reasonable amount of data  like 200 entries  it should be   fast enough on the UI thread).   </pre>