<title>Issue 31335 -   chromium -    Filter argument problem for document.createNodeIterator() - Project Hosting on Google Code</title> <pre> Chrome Version:    Chromium	4.0.285.0 (dev build 35334)  WebKit	532.8  V8	2.0.5.2        Firefox 3.x: OK        1. Open JS console with any page open  2. Run this code:    var nodeIterator = document.createNodeIterator(      document.body       NodeFilter.SHOW_ELEMENT       { acceptNode: function(node) { return NodeFilter.FILTER_REJECT; } }       false  );  var nodeList = new Array();  var currentNode;    while (currentNode = nodeIterator.nextNode()) {    nodeList.push(currentNode);  }        All nodes should be filter because of acceptNode / NodeFilter.FILTER_REJECT.        nodeList contains unfiltered nodes.    More info:    JS Code is taken from:    <a href="https://developer.mozilla.org/en/DOM/document.createNodeIterator#Specification">https://developer.mozilla.org/en/DOM/document.createNodeIterator#Specification</a>    which implements:    <a href="http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeIterator">http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-NodeIterator</a>    Chromium/webkit works if function is passed directly as argument:    var nodeIterator = document.createNodeIterator(      document.body       NodeFilter.SHOW_ELEMENT       function(node) { return NodeFilter.FILTER_REJECT; }       false  );    I am not saying Mozilla implementation is right  maybe it's their problem  but all browsers should implement it the   same way. </pre>