<title>Issue 41316 -   chromium -    disk_cache::BlockFiles crashes under ThreadSanitizer - Project Hosting on Google Code</title> <pre> I was running Chrome under ThreadSanitizer on Linux and got the following error:    [28888:28897:711514716771:ERROR:./net/disk_cache/storage_block-inl.h(130)] Failed data store.  [28888:28897:711514765518:ERROR:net/disk_cache/entry_impl.cc(112)] Failed to save user data  [28888:28897:711514815283:ERROR:./net/disk_cache/storage_block-inl.h(130)] Failed data store.  [28888:28897:711514863237:ERROR:net/disk_cache/entry_impl.cc(112)] Failed to save user data  [28888:28897:711514914414:ERROR:./net/disk_cache/storage_block-inl.h(130)] Failed data store.  [28888:28897:711514979758:ERROR:./net/disk_cache/storage_block-inl.h(130)] Failed data store.  Process terminating with default action of signal 7 (SIGBUS): dumping core   Non-existent physical address at address 0x13CF2018     at 0xC7020E: (anonymous namespace)::NeedToGrowBlockFile(disk_cache::BlockFileHeader const*  int) (block_files.cc:147)     by 0xC72102: disk_cache::BlockFiles::FileForNewBlock(disk_cache::FileType  int) (block_files.cc:319)     by 0xC7223A: disk_cache::BlockFiles::CreateBlock(disk_cache::FileType  int  disk_cache::Addr*) (block_files.cc:412)     by 0xC6E175: disk_cache::BackendImpl::CreateEntry(std::string const&amp;  disk_cache::Entry**) (backend_impl.cc:442)     by 0xC63F8B: disk_cache::BackendImpl::CreateEntry(std::string const&amp;  disk_cache::Entry**  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*) (backend_impl.cc:484)     by 0xBFC2A2: net::HttpCache::CreateEntry(std::string const&amp;  net::HttpCache::ActiveEntry**  net::HttpCache::Transaction*) (http_cache.cc:609)     by 0xC03488: net::HttpCache::Transaction::DoCreateEntry() (http_cache_transaction.cc:733)     by 0xC03AFE: net::HttpCache::Transaction::DoLoop(int) (http_cache_transaction.cc:470)     by 0xC04D7D: net::HttpCache::Transaction::AddToEntry() (http_cache_transaction.cc:1290)     by 0xC0544C: net::HttpCache::Transaction::Start(net::HttpRequestInfo const*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  net::BoundNetLog const&amp;) (http_cache_transaction.cc:219)     by 0xCAE438: URLRequestHttpJob::StartTransaction() (url_request_http_job.cc:620)     by 0xCAEBDA: URLRequestHttpJob::OnCanGetCookiesCompleted(int) (url_request_http_job.cc:454)    Seems like this is a real bug happening on Windows without TSan too:  http://crash/reportdetail?reportid=f8617e0858fbf190    Happened when I ran  ./tools/valgrind/valgrind.sh --tool=tsan ./out/Release/chrome  on <a href="/p/chromium/source/detail?r=44333">revision 44333</a>. Maybe TSan's slowness has helped me exhibit some specific thread interleaving. </pre>