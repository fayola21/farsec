<title>Issue 34670 -   chromium -    NPAPI plugin stops working after extension auto-update - Project Hosting on Google Code</title> <pre>   1. Install an extension which uses a NPAPI plugin.  2. Update the extension (manually by pressing &quot;Update extensions now&quot; or   automatically).   -OR-     To simulate the previous case  load unpacked extension (with an NPAPI   plugin) and press &quot;Reload&quot; two times quickly.      The plugin should be stopped and unloaded before loading it again from the   updated version.  And the extension still works as expected.      It sometimes stops but not start again  especially when the plugin itself   is updated and changed.  And therefore  a lot of users think that the extension stopped working   after auto-update because of this issue.    --  After logging  I noticed that Chrome calls NPP_Destroy  then calls NPP_New   without unloading the plugin by calling NP_Shutdown and then  calling   NP_Initialize.    Current behavior for reloading a NPAPI plugin:    NPP_Destroy &gt; NPP_New    Suggested behavior:    NPP_Destroy &gt; NP_Shutdown &gt; NP_Initialize &gt; NPP_New  Which is more logical  especially in our case where the plugin library   could be changed or updated and therefore it should be fully unloaded   before reloading it again. </pre>