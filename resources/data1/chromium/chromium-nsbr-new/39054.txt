<title>Issue 39054 -   chromium -    Quirks mode popup pages cause flicker when setting display:none on elements - Project Hosting on Google Code</title> <pre> Chrome Version : 5.0.356.2 (Official Build 42060) dev  Platform: Mac      1. Create a popup window without a doctype to trigger quirks mode  2. Make a call to an asynchronous extensions api function  2. In the callback  hide a list item element in the page using element.display = &quot;none&quot;;    What is the expected result?  The popup opens and resizes itself normally.    What happens instead?  The popup goes into an infinite resizing loop  which manifests itself as a rapid flickering.  This is hard to describe  so here is a video: <a href="http://dl.dropbox.com/u/5556374/popup_bug.mov">http://dl.dropbox.com/u/5556374/popup_bug.mov</a>    Here is code for a popup page that reproduces the problem:    &lt;html&gt;    &lt;head&gt;      &lt;style&gt;        ul { width:200px; }      &lt;/style&gt;    &lt;/head&gt;    &lt;body&gt;      &lt;ul&gt;        &lt;li id=&quot;list_item_a&quot;&gt;Item A&lt;/li&gt;        &lt;li id=&quot;list_item_b&quot;&gt;Item B&lt;/li&gt;        &lt;li id=&quot;list_item_c&quot;&gt;Item C&lt;/li&gt;      &lt;/ul&gt;      &lt;script&gt;          chrome.tabs.getSelected(null  function(tab) {            this.strings_menu_view = document.getElementById('list_item_a');            this.strings_menu_view.style.display = &quot;none&quot;;          });      &lt;/script&gt;    &lt;/body&gt;  &lt;/html&gt;    Note that adding a &lt;!DOCTYPE html&gt; declaration to the top of the page is a workaround for this   issue.  Hiding the list element outside of the callback also acts as a workaround to this issue.   </pre>