<title>Issue 24208 -   chromium -    REGRESSION: LayoutTestshttptestsnavigationpost-goback1.html fails - Project Hosting on Google Code</title> <pre> ( Migrated from http://buganizer/issue?id=1204878 ).      darin on June 04 2008 03:00  (Assigned)  Summary     REGRESSION: LayoutTestshttptestsnavigationpost-goback1.html fails  Component     Chrome &gt; Deprecated &gt; WebKit &gt; Glue  Reporter     darin  Assignee     darin  CC     chrome-bugs  Type     Bug  Priority     P1  Severity     S2  In prod     false  Hotlist     Cr__Rel_1.0  URLs affected     &lt;none&gt;  Notes  REGRESSION: LayoutTestshttptestsnavigationpost-goback1.html fails    This started happening after my change to the way we handle error pages   <a href="/p/chromium/source/detail?r=43187">r43187</a>.  That change modified the re-POST error page handling  so it is  perhaps unsurprising that this layout test is failing.  Unfortunately for  me  it doesn't fail on my machine.    For now it is marked as expected to fail.  mal on June 07 2008 00:38  (Assigned)  Priority     P2  eseidel on June 24 2008 11:36  (Assigned)  Hotlist     Cr__Rel_Future  Cr__Untriaged  Notes  This doesn't look like it should block us from shipping Beta.  Darin  if  you disagree  please pull this back into Cr_Beta.  Thanks.  darin on June 24 2008 11:38  (Assigned)  Hotlist     Cr__Untriaged  Cr__Rel_1.0  Notes  I don't understand.  This is a regression of unknown degree that could be  serious and should be investigated for beta.  eseidel on June 24 2008 11:49  (Accepted)  Assignee     eseidel  Notes  Darin and I discussed over chat.  I read his comments that it's possibly a  bot-only bug. In my experience real bugs are reported often (and loudly) by  users.  We have tons of regression test failures which are due to the  complexity of our setup  I expect that this may be one of those.    I will assign this to myself to investigate and confirm the severity of  this bug (or if it is even a bug).  eseidel on June 25 2008 08:51  (Accepted)  Notes  So somehow test_shell is failing to navigate back.  Not yet sure why.  This  is the diff:    ---  c:ProjectschromewebkitReleaselayout-test-resultsLayoutTests/http/tests/navigation/post-goback1-expected.txt  +++  c:ProjectschromewebkitReleaselayout-test-resultsLayoutTests/http/tests/navigation/post-goback1-actual-win.txt  @@ -3 29 +3 15 @@   layer at (0 0) size 800x600    RenderBlock {HTML} at (0 0) size 800x600      RenderBody {BODY} at (8 8) size 784x584  -      RenderText {#text} at (0 0) size 747x74  -        text run at (0 0) width 747: &quot;This is just a minimal page that we  navigate in response to&quot;  -        text run at (0 37) width 222: &quot;an HTTP POST. &quot;  -      RenderBR {BR} at (0 0) size 0x0  -      RenderBR {BR} at (0 74) size 0x37  -      RenderText {#text} at (0 111) size 763x111  -        text run at (0 111) width 743: &quot;If the next line is empty after  the colon  it probably means&quot;  -        text run at (0 148) width 178: &quot;that we made &quot;  -        text run at (178 148) width 585: &quot;a mistake and requested this  page with a GET&quot;  -        text run at (0 185) width 436: &quot;with no query instead of a POST. &quot;  -      RenderBR {BR} at (0 0) size 0x0  -      RenderBR {BR} at (0 222) size 0x37  -      RenderText {#text} at (0 259) size 709x37  -        text run at (0 259) width 709: &quot;The first text field contained:  New form text from user &quot;  -      RenderBR {BR} at (0 0) size 0x0  -      RenderText {#text} at (0 296) size 591x37  -        text run at (0 296) width 591: &quot;This page was requested with an  HTTP POST&quot;  +      RenderText {#text} at (0 0) size 722x74  +        text run at (0 0) width 722: &quot;This is just a minimal page that we  navigate to as part of&quot;  +        text run at (0 37) width 272: &quot;testing back/forward.&quot;        RenderText {#text} at (0 0) size 0x0        RenderText {#text} at (0 0) size 0x0     ============== Back Forward List ==============          http://127.0.0.1:8000/navigation/post-goback1.html  **nav target**          http://127.0.0.1:8000/navigation/resources/success200.html  **nav  target**  -curr-&gt;  http://127.0.0.1:8000/navigation/resources/postresult.pl  **nav  target**  -        http://127.0.0.1:8000/navigation/resources/otherpage.html  **nav  target**  +        http://127.0.0.1:8000/navigation/resources/postresult.pl  **nav  target**  +curr-&gt;  http://127.0.0.1:8000/navigation/resources/otherpage.html  **nav  target**   ===============================================  eseidel on June 25 2008 09:41  (Accepted)  Notes  step 0: launch an httpd server (I used run-webkit-httpd  a script part of  the upstream WebKit checkout)      When I perform the same actions in chrome:    load:  http://127.0.0.1:8000/navigation/resources/success200.html  post to: http://127.0.0.1:8000/navigation/resources/postresult.pl  load: http://127.0.0.1:8000/navigation/resources/otherpage.html  hit back.    I get the (annoying) &quot;form re-submission confirmation&quot; page.      When I perform the above in test_shell  I get:    Error loading url: -400    And this is printed to the console:  ERROR: alias ISO-8859-8-I maps to ISO-8859-8-I already  but someone is  trying to make it map to ISO-8859-8  eseidel on June 25 2008 09:53  (Accepted)  Notes  This is a link to the change Darin mentioned as being possibly related:  <a href="https://svn.corp.google.com/v/chrome?view=rev&amp;revision=43187">https://svn.corp.google.com/v/chrome?view=rev&amp;revision=43187</a>  darin on June 25 2008 14:50  (Accepted)  Notes  OK  so this is just fallout from making the test_shell generate an error  page  like chrome  when navigating back to a form submission result.   Perhaps we should just rebaseline the test output and move on.  mal on July 14 2008 09:58  (Accepted)  Hotlist     Cr__Rel_1.0  eseidel on July 18 2008 11:36  (Accepted)  Hotlist     Cr__Rel_Future  Cr__Untriaged  Notes  I agree with Darin  but I can deal with the rebaselining post-beta   post-merge when all many of our test results may change anyway.  Keeping  this bug around  but punting from Beta.   </pre>