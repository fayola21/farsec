<title>Issue 37138 -   chromium -    Invalid read in SessionService::GetCurrentSession - Project Hosting on Google Code</title> <pre> From <a href="/p/chromium/source/detail?r=40284">r40284</a>:    Invalid read of size 4    CancelableRequestBase::handle() const   (uilder/build/src/chrome/browser/cancelable_request.h:382)    SessionService::GetCurrentSession(CancelableRequestConsumerBase*    CallbackRunner&lt;Tuple2&lt;int  std::vector&lt;SessionWindow*    std::allocator&lt;SessionWindow*&gt; &gt;*&gt; &gt;*)   (uilder/build/src/chrome/browser/sessions/session_service.cc:413)    SessionServiceTest_GetCurrentSession_Test::TestBody()   (uilder/build/src/chrome/browser/sessions/session_service_unittest.cc:618)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2085)    testing::internal::TestInfoImpl::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2304)    testing::TestCase::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2412)    testing::internal::UnitTestImpl::RunAllTests()   (uilder/build/src/testing/gtest/src/gtest.cc:4013)    testing::UnitTest::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:3680)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:125)    main (uilder/build/src/chrome/test/unit/run_all_unittests.cc:8)  Address 0x670dcd4 is 20 bytes inside a block of size 48 free'd    operator delete(void*) (mp/vg-chr/scripts/valgrind-  source/coregrind/m_replacemalloc/vg_replace_malloc.c:375)    (anonymous namespace)::InternalSessionRequest::~InternalSessionRequest()   (uilder/build/src/chrome/browser/sessions/session_service.cc:84)    base::RefCountedThreadSafe&lt;CancelableRequestBase    base::DefaultRefCountedThreadSafeTraits&lt;CancelableRequestBase&gt;   &gt;::DeleteInternal(CancelableRequestBase*)   (uilder/build/src/base/ref_counted.h:146)      base::DefaultRefCountedThreadSafeTraits&lt;CancelableRequestBase&gt;::Destruct(Ca  ncelableRequestBase*) (uilder/build/src/base/ref_counted.h:112)    base::RefCountedThreadSafe&lt;CancelableRequestBase    base::DefaultRefCountedThreadSafeTraits&lt;CancelableRequestBase&gt; &gt;::Release()   (uilder/build/src/base/ref_counted.h:140)      scoped_refptr&lt;BaseSessionService::InternalGetCommandsRequest&gt;::~scoped_refp  tr() (uilder/build/src/base/ref_counted.h:238)    SessionService::GetCurrentSession(CancelableRequestConsumerBase*    CallbackRunner&lt;Tuple2&lt;int  std::vector&lt;SessionWindow*    std::allocator&lt;SessionWindow*&gt; &gt;*&gt; &gt;*)   (uilder/build/src/chrome/browser/sessions/session_service.cc:412)    SessionServiceTest_GetCurrentSession_Test::TestBody()   (uilder/build/src/chrome/browser/sessions/session_service_unittest.cc:618)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2085)    testing::internal::TestInfoImpl::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2304)    testing::TestCase::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2412)    testing::internal::UnitTestImpl::RunAllTests()   (uilder/build/src/testing/gtest/src/gtest.cc:4013)    testing::UnitTest::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:3680)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:125)    main (uilder/build/src/chrome/test/unit/run_all_unittests.cc:8)   </pre>