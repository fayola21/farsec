<title>Issue 44800 -   chromium -    SPDY crash - DCHECK(IsStreamActive(id)) failure - Project Hosting on Google Code</title> <pre> I have been using the Chrome benchmarking extension to test SPDY with  server server push and have been hitting a crash in spdy_session.cc   specifically in SpdySession::DeactiveStream with the stream ID set to 1.  The DCHECK(IsStreamActive(id)) on line 891 is failing. This implies either  that the call to stream-&gt;OnDataReceived(data  len) is somehow deactivating  the stream  or that there could be a session reuse or timing issue. The  crash happens once every few dozen page loads. Stack trace below.    &gt;	chrome.dll!DebugUtil::BreakDebugger()  Line 225	C++   	chrome.dll!logging::LogMessage::~LogMessage()  Line 588	C++   	chrome.dll!net::SpdySession::DeactivateStream(unsigned int id=1)  Line  894	C++   	chrome.dll!net::SpdySession::OnStreamFrameData(unsigned int stream_id=1   const char * data=0x00000000  unsigned int len=0)  Line 980	C++   	chrome.dll!spdy::SpdyFramer::ProcessDataFramePayload(const char *  data=0x0593b009  unsigned int len=2039)  Line 415 + 0x22 bytes	C++   	chrome.dll!spdy::SpdyFramer::ProcessInput(const char * data=0x0593b000   unsigned int len=2048)  Line 195 + 0x10 bytes	C++   	chrome.dll!net::SpdySession::OnReadComplete(int bytes_read=2048)  Line  618 + 0x16 bytes	C++   	chrome.dll!DispatchToMethod&lt;net::SpdySession void (__thiscall  net::SpdySession::*)(int) int&gt;(net::SpdySession * obj=0x0563f480  void  (int)* method=0x57a2d540  const Tuple1&lt;int&gt; &amp; arg={...})  Line 422 + 0x11  bytes	C++   	chrome.dll!CallbackImpl&lt;net::SpdySession void (__thiscall  net::SpdySession::*)(int) Tuple1&lt;int&gt; &gt;::RunWithParams(const Tuple1&lt;int&gt; &amp;  params={...})  Line 118 + 0x1b bytes	C++   	chrome.dll!CallbackRunner&lt;Tuple1&lt;int&gt; &gt;::Run&lt;int&gt;(const int &amp; a=2048)   Line 83 + 0x1c bytes	C++   	chrome.dll!net::TCPClientSocketWin::DoReadCallback(int rv=2048)  Line 633	C++   	chrome.dll!net::TCPClientSocketWin::DidCompleteRead()  Line 699	C++     chrome.dll!net::TCPClientSocketWin::Core::ReadDelegate::OnObjectSignaled(void  * object=0x00002664)  Line 260	C++   	chrome.dll!base::ObjectWatcher::Watch::Run()  Line 30 + 0x1c bytes	C++   	chrome.dll!MessageLoop::RunTask(Task * task=0x05073cf0)  Line 328 + 0xf  bytes	C++   	chrome.dll!MessageLoop::DeferOrRunPendingTask(const  MessageLoop::PendingTask &amp; pending_task={...})  Line 339	C++   	chrome.dll!MessageLoop::DoWork()  Line 443 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForIO::DoRunLoop()  Line 443 + 0x19 bytes	C++     chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * delegate=0x0459fe48  base::MessagePumpWin::Dispatcher *  dispatcher=0x00000000)  Line 52 + 0xf bytes	C++   	chrome.dll!base::MessagePumpWin::Run(base::MessagePump::Delegate *  delegate=0x0459fe48)  Line 78 + 0x1c bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 204 + 0x2a bytes	C++   	chrome.dll!MessageLoop::RunHandler()  Line 177	C++   	chrome.dll!MessageLoop::Run()  Line 155	C++   	chrome.dll!base::Thread::Run(MessageLoop * message_loop=0x0459fe48)   Line 137	C++   	chrome.dll!base::Thread::ThreadMain()  Line 160 + 0x16 bytes	C++   	chrome.dll!`anonymous namespace'::ThreadFunc(void * closure=0x02ff4480)   Line 26 + 0xf bytes	C++   	kernel32.dll!76f3e4a5() 	   	[Frames below may be incorrect and/or missing  no symbols loaded for  kernel32.dll]	   	ntdll.dll!7746cfed() 	   	ntdll.dll!7746d1ff() 	   </pre>