<title>Issue 31223 -   chromium -    browser dchecks if child dies while it's still starting up - Project Hosting on Google Code</title> <pre> This is similar to <a title="Bad interaction between task manager and extension code" class=closed_ref href="/p/chromium/issues/detail?id=31172"> issue 31172 </a>.      1. Have a child process that dies before it can set up its ipc connection        This should not bring down the browser process. But the browser dchecks:    /Users/thakis/src/chrome-  git/src/xcodebuild/Debug/Chromium.app/Contents/Versions/4.0.282.0/C  hromium Helper.app/Contents/MacOS/Chromium Helper --type=utility --  channel=8357.0x20d70c20.1133926346 --lang=en-US --utility-  allowed-dir=   child type: utility  Creating receive port com.Google.Chrome8357.0x20d70c20.1133926346  main thread: 8357.0x20d70c20.1133926346  Creating send port com.Google.Chrome8357.0x20d70c20.1133926346  send result: 268435459  (Failed :-( )  [8357:17927:1261068558543080:FATAL:/Users/thakis/src/chrome-  git/src/chrome/browser/child_process_launcher.cc(397)] Check failed:   !context_-&gt;starting_.     Program received signal SIGTRAP  Trace/breakpoint trap.  [Switching to process 8357 thread 0x4607]  DebugUtil::BreakDebugger () at /Users/thakis/src/chrome-  git/src/base/debug_util_posix.cc:184  184	}  (gdb) bt  #0  DebugUtil::BreakDebugger () at /Users/thakis/src/chrome-  git/src/base/debug_util_posix.cc:184  #1  0x073b05ea in logging::LogMessage::~LogMessage   (this=0xb0226880) at /Users/thakis/src/chrome-  git/src/base/logging.cc:562  #2  0x06db999b in ChildProcessLauncher::GetHandle (this=0x20d706e0)   at /Users/thakis/src/chrome-  git/src/chrome/browser/child_process_launcher.cc:397  #3  0x06c403b8 in ChildProcessHost::OnChildDied (this=0x20d70c20) at   /Users/thakis/src/chrome-  git/src/chrome/common/child_process_host.cc:181  #4  0x06c4058a in ChildProcessHost::ListenerHook::OnChannelError   (this=0x20d70c40) at /Users/thakis/src/chrome-  git/src/chrome/common/child_process_host.cc:258  #5  0x07a3f7e8 in   IPC::Channel::ChannelImpl::OnFileCanReadWithoutBlocking   (this=0xa9fa00  fd=38) at /Users/thakis/src/chrome-  git/src/ipc/ipc_channel_posix.cc:945  #6  0x0737ad05 in base::MessagePumpLibevent::OnLibeventNotification   (fd=38  flags=2  context=0xa9fa00) at /Users/thakis/src/chrome-  git/src/base/message_pump_libevent.cc:215  #7  0x073f4e49 in event_process_active (base=0x832800) at   /Users/thakis/src/chrome-git/src/third_party/libevent/event.c:385  #8  0x073f518c in event_base_loop (base=0x832800  flags=1) at   /Users/thakis/src/chrome-git/src/third_party/libevent/event.c:525  #9  0x0737b51b in base::MessagePumpLibevent::Run (this=0x140d90    delegate=0xb0226d98) at /Users/thakis/src/chrome-  git/src/base/message_pump_libevent.cc:268  #10 0x073b469e in MessageLoop::RunInternal (this=0xb0226d98) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:205  #11 0x073b46b9 in MessageLoop::RunHandler (this=0xb0226d98) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:177  #12 0x073b471d in MessageLoop::Run (this=0xb0226d98) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:155  #13 0x073dfd6b in base::Thread::Run (this=0x140c60    message_loop=0xb0226d98) at /Users/thakis/src/chrome-  git/src/base/thread.cc:133  #14 0x073e01a1 in base::Thread::ThreadMain (this=0x140c60) at   /Users/thakis/src/chrome-git/src/base/thread.cc:155  #15 0x073c1e0a in ThreadFunc (closure=0x140c60) at   /Users/thakis/src/chrome-git/src/base/platform_thread_posix.cc:26  #16 0x96f98155 in _pthread_start ()  #17 0x96f98012 in thread_start ()  Current language:  auto; currently c++    I think this is caused by <a href="http://codereview.chromium.org/402097">http://codereview.chromium.org/402097</a> which   breaks the assumptions that ChildProcessHost::OnChildDied() makes. </pre>