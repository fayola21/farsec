<title>Issue 34003 -   chromium -    ARM: CancellationFlagTest.SetOnDifferentThreadDeathTest (base_unittests) fails - Project Hosting on Google Code</title> <pre> ~/base_unittests --  gtest_filter=CancellationFlagTest.SetOnDifferentThreadDeathTest  Note: Google Test filter =   CancellationFlagTest.SetOnDifferentThreadDeathTest  [==========] Running 1 test from 1 test case.  [----------] Global test environment set-up.  [----------] 1 test from CancellationFlagTest  [ RUN      ] CancellationFlagTest.SetOnDifferentThreadDeathTest  base/cancellation_flag_unittest.cc:30: Failure  Death test: flag_-&gt;Set()      Result: failed to die.   Error msg:   [24755:24757:0201/125240:928384878845:FATAL:base/cancellation_flag  .cc(13)] Check failed: set_on_ == PlatformThread::CurrentId().   [24755:24757:0201/125240:928384878845:FATAL:base/cancellation_flag  .cc(13)] Check failed: set_on_ == PlatformThread::CurrentId().   Backtrace:  	/lib/libpthread.so.0 [0x4093b000]      [  FAILED  ] CancellationFlagTest.SetOnDifferentThreadDeathTest (368 ms)  [----------] 1 test from CancellationFlagTest (370 ms total)      This test also makes Valgrind on ARM act weird  that's why I want to know   if the problem is in the test itself. </pre>