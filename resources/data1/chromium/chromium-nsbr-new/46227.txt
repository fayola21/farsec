<title>Issue 46227 -   chromium -    pdfsqueeze not deterministic? - Project Hosting on Google Code</title> <pre> While playing with binary diffing and patching  I was surprised to learn that our PDFs change slightly in each version. I know that the PDFs didn��_��_��_t change in the repository  and the pdfsqueeze tool hasn��_��_��_t changed either.    Clearly  some of the stuff in there is just timestamping. I wonder if there��_��_��_s a way to force that to be deterministic  or to use the original PDF file��_��_��_s values when squeezing? Other changes look like hashes or other things that will change as the file��_��_��_s contents change subtly. There��_��_��_s a third class of changes  though  where things seem to move or change in probably-meaningless ways  but it bugs me that they��_��_��_re apparently not deterministic. Is there anything that can be done about that? Is this just Quartz doing stuff at random?    The squeezed PDFs are pretty small  and the binary diffs are even smaller. We��_��_��_re talking 300kB per PDF for a binary diff as it is now  instead of 150kB for a zero-change binary diff (it still carries a header  SHA1 hashes  and instructions that say ��_��_��_copy the whole thing��_��_��_)  so it��_��_��_s not a huge deal  but I was kind of surprised to see some of these changes between pdfsqueeze runs.    Between 6.0.422.0 and 6.0.427.0  here are some of the changes in stop_Template.pdf:    -&lt;&lt; /ProcSet [ /PDF ] /ColorSpace &lt;&lt; /Cs1 7 0 R &gt;&gt; /ExtGState &lt;&lt; /Gs1 8 0 R  -/Gs2 9 0 R &gt;&gt; &gt;&gt;  +&lt;&lt; /ProcSet [ /PDF ] /ColorSpace &lt;&lt; /Cs1 7 0 R &gt;&gt; /ExtGState &lt;&lt; /Gs2 8 0 R  +/Gs1 9 0 R &gt;&gt; &gt;&gt;    -&lt;&lt; /Type /ExtGState /SA true &gt;&gt;  +&lt;&lt; /Type /ExtGState /OPM 1 &gt;&gt;   endobj   9 0 obj  -&lt;&lt; /Type /ExtGState /OPM 1 &gt;&gt;  +&lt;&lt; /Type /ExtGState /SA true &gt;&gt;    -&lt;&lt; /Producer (Mac OS X 10.5.8 Quartz PDFContext) /CreationDate (D:20100531111048Z00'00')  -/ModDate (D:20100531111048Z00'00') &gt;&gt;  +&lt;&lt; /Producer (Mac OS X 10.5.8 Quartz PDFContext) /CreationDate (D:20100606111238Z00'00')  +/ModDate (D:20100606111238Z00'00') &gt;&gt;     0000001488 00000 n    0000000481 00000 n   -0000000528 00000 n   +0000000526 00000 n    0000000573 00000 n    0000001468 00000 n      trailer  -&lt;&lt; /Size 13 /Root 12 0 R /Info 1 0 R /ID [ &lt;e4c121acbff92078d0fb6826a58952a6&gt;  -&lt;e4c121acbff92078d0fb6826a58952a6&gt; ] &gt;&gt;  +&lt;&lt; /Size 13 /Root 12 0 R /Info 1 0 R /ID [ &lt;76d1618230c1a3c7c6aa85eaa03e76c2&gt;  +&lt;76d1618230c1a3c7c6aa85eaa03e76c2&gt; ] &gt;&gt; </pre>