<title>Issue 30584 -   chromium -    Uninitialized memory reference in IconUtil::CreateSkBitmapFromHICON in unit_tests!TaskManagerTest.Basic - Project Hosting on Google Code</title> <pre> This may have been introduced recently by the fix for <a title="App shortcuts: Black Square is shown as favicon for no favicon webpages (favicon not visible)." class=closed_ref href="/p/chromium/issues/detail?id=7618"> bug 7618 </a>.    The experimental wine-valgrind bot complains in    <a href="http://build.chromium.org/buildbot/waterfall.fyi/builders/Chromium%20Linux%20Wine%20(v">http://build.chromium.org/buildbot/waterfall.fyi/builders/Chromium%20Linux%20Wine%20(v</a>    as follows:    [ RUN      ] TaskManagerTest.Basic  ...  Conditional jump or move depends on uninitialised value(s)     at IconUtil::PixelsHaveAlpha (icon_util.cc:281)     by IconUtil::CreateSkBitmapFromHICON (icon_util.cc:171)   Uninitialised value was created by a client request     at malloc (allocator_shim.cc:106)     by sk_malloc_flags (skmemory_new_handler.cpp:52)     by SkBitmap::HeapAllocator::allocPixelRef (skbitmap.cpp:436)     by SkBitmap::allocPixels (skbitmap.cpp:333)     by SkBitmap::allocPixels (skbitmap.h:206)     by IconUtil::CreateSkBitmapFromHICON (icon_util.cc:117)    It kind of looks like ::DrawIconEx() might not draw to every pixel  in the bitmap you give it  but PixelsHaveAlpha tests every  pixel.   PixelsHaveAlpha might be returning false positives if  there was garbage in the bitmap before DrawIconEx() was called   leading to slightly corrupt icons?   </pre>