<title>Issue 28967 -   chromium -    gcl does not deal with non-ASCII characters - Project Hosting on Google Code</title> <pre> Whilt merging WebKit <a href="/p/chromium/source/detail?r=51407">revision 51407</a> into the chrome 4 branch using drover I   experienced the following error related to non-ASCII characters in the   description generated by gcl.    --- Merging (from foreign repository) <a href="/p/chromium/source/detail?r=51407">r51407</a> into 'WebCore/bindings/v8':  U    WebCore/bindings/v8/V8Proxy.h  U    WebCore/bindings/v8/V8Proxy.cpp  svn merge -N -r 51406:51407  --ignore-ancestry   <a href="http://svn.webkit.org/repository/webkit/trunk/WebCore@51407">http://svn.webkit.org/repository/webkit/trunk/WebCore@51407</a> ./WebCore  Conflict discovered in 'WebCore/ChangeLog'.  Select: (p) postpone  (df) diff-full  (e) edit           (h) help for more options: e  Select: (p) postpone  (df) diff-full  (e) edit  (r) resolved           (h) help for more options: r  --- Merging (from foreign repository) <a href="/p/chromium/source/detail?r=51407">r51407</a> into 'WebCore':  U    WebCore/ChangeLog  Merge 51407 - 20091126  S��_��_ren Gjesse  &lt;sgjesse@chromium.org&gt;            Reviewed by Pavel Feldman.            [V8] Avoid using JavaScript objects as context data          <a href="https://bugs.webkit.org/show_bug.cgi?id=31873">https://bugs.webkit.org/show_bug.cgi?id=31873</a>            Change the context &quot;data&quot; from a JavaScript object holding the two   properties type and value to          a string holding type and value separated by a comma.            * bindings/v8/V8Proxy.cpp:          (WebCore::V8Proxy::setInjectedScriptContextDebugId):          (WebCore::V8Proxy::setContextDebugId):          (WebCore::V8Proxy::contextDebugId):    TBR=eric@webkit.org  ---All lines above this line become the description.  ---Repository Root:   /usr/local/google/home/sgjesse/chrome/drover/webkit/working/249  ---Paths in this changelist (51407):      Traceback (most recent call last):    File &quot;/home/sgjesse/depot_tools/gcl.py&quot;  line 1293  in &lt;module&gt;      sys.exit(main())    File &quot;/home/sgjesse/depot_tools/gcl.py&quot;  line 1260  in main      Change(change_info  argv[3:])    File &quot;/home/sgjesse/depot_tools/gcl.py&quot;  line 1033  in Change      separator2)  UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 25:   ordinal not in range(128)    It turned out that I had out the character ��_��_ (&amp;oslash;) in the   WebKit/WebCore/ChangeLog (or rather the WebKit tool for generating the   change log entry had done that). The encoding of the change log is UTF-8    which is revealed in some editors.    I made the following small change to gcl.py to make gcl ignore the default   description making it possible for me to enter it by handl and get the   merge through.    Index: /home/sgjesse/depot_tools/gcl.py  ===================================================================  --- /home/sgjesse/depot_tools/gcl.py	(<a href="/p/chromium/source/detail?r=33276">revision 33276</a>)  +++ /home/sgjesse/depot_tools/gcl.py	(working copy)  @@ -1021 8 +1021 9 @@                   &quot;---Repository Root: &quot; + change_info.GetLocalRoot() + &quot;n&quot;                   &quot;---Paths in this changelist (&quot; + change_info.name +   &quot;):n&quot;)     separator2 = &quot;nn---Paths modified but not in any changelist:nn&quot;  -  text = (description + separator1 + 'n' +  +  text = ('xxx' + separator1 + 'n' +             'n'.join([f[0] + f[1] for f in change_info.GetFiles()]))  +  print text        if change_info.Exists():       text += (separator2 +   </pre>