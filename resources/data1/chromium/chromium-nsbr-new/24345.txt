<title>Issue 24345 -   chromium -    Memory leak in skia::BGRAConvolve2D - Project Hosting on Google Code</title> <pre> <a href="http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(1)/builds/410/steps/valgrind%20test:%20ui/logs/stdio">http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(1)/builds/410/steps/valgrind%20test:%20ui/logs/stdio</a>    Command: /b/slave/chromium-rel-linux-valgrind-tests-1/build/src/sconsbuild/Release/chrome --type=zygote --enable-logging=  848 bytes in 1 blocks are definitely lost in loss record 3 255 of 3 329    operator new(unsigned int) (ome/chrome-bot/valgrind-10880-redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:214)    __gnu_cxx::new_allocator&lt;unsigned char&gt;::allocate(unsigned int  void const*) (sr/include/c++/4.2/ext/new_allocator.h:91)    std::_Vector_base&lt;unsigned char  std::allocator&lt;unsigned char&gt; &gt;::_M_allocate(unsigned int) (sr/include/c++/4.2/bits/stl_vector.h:128)    std::vector&lt;unsigned char  std::allocator&lt;unsigned char&gt; &gt;::_M_fill_insert(__gnu_cxx::__normal_iterator&lt;unsigned char*  std::vector&lt;unsigned char    std::allocator&lt;unsigned char&gt; &gt; &gt;  unsigned int  unsigned char const&amp;) (sr/include/c++/4.2/bits/vector.tcc:354)    std::vector&lt;unsigned char  std::allocator&lt;unsigned char&gt; &gt;::insert(__gnu_cxx::__normal_iterator&lt;unsigned char*  std::vector&lt;unsigned char  std::allocator&lt;unsigned   char&gt; &gt; &gt;  unsigned int  unsigned char const&amp;) (sr/include/c++/4.2/bits/stl_vector.h:653)    std::vector&lt;unsigned char  std::allocator&lt;unsigned char&gt; &gt;::resize(unsigned int  unsigned char) (sr/include/c++/4.2/bits/stl_vector.h:421)    skia::(anonymous namespace)::CircularRowBuffer::CircularRowBuffer(int  int  int) (uilder/build/src/skia/ext/convolver.cc:41)    skia::BGRAConvolve2D(unsigned char const*  int  bool  skia::ConvolutionFilter1D const&amp;  skia::ConvolutionFilter1D const&amp;  unsigned char*)   (uilder/build/src/skia/ext/convolver.cc:284)    skia::ImageOperations::Resize(SkBitmap const&amp;  skia::ImageOperations::ResizeMethod  int  int  SkIRect const&amp;) (uilder/build/src/skia/ext/image_operations.cc:290)    skia::ImageOperations::Resize(SkBitmap const&amp;  skia::ImageOperations::ResizeMethod  int  int) (uilder/build/src/skia/ext/image_operations.cc:306)    RenderView::CaptureThumbnail(WebView*  int  int  SkBitmap*  ThumbnailScore*) (uilder/build/src/chrome/renderer/render_view.cc:665)    RenderView::SendThumbnail() (uilder/build/src/chrome/renderer/render_view.cc:487)    RenderView::CapturePageInfo(int  bool) (uilder/build/src/chrome/renderer/render_view.cc:562)    void DispatchToMethod&lt;RenderView  void (RenderView::*)(int  bool)  int  bool&gt;(RenderView*  void (RenderView::*)(int  bool)  Tuple2&lt;int  bool&gt; const&amp;)   (uilder/build/src/base/tuple.h:429)    ScopedRunnableMethodFactory&lt;RenderView&gt;::RunnableMethod&lt;void (RenderView::*)(int  bool)  Tuple2&lt;int  bool&gt; &gt;::Run() (uilder/build/src/base/task.h:147)    MessageLoop::RunTask(Task*) (uilder/build/src/base/message_loop.cc:314)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;) (uilder/build/src/base/message_loop.cc:322)    MessageLoop::DoDelayedWork(base::Time*) (uilder/build/src/base/message_loop.cc:456)    base::MessagePumpDefault::Run(base::MessagePump::Delegate*) (uilder/build/src/base/message_pump_default.cc:27)    MessageLoop::RunInternal() (uilder/build/src/base/message_loop.cc:199)    MessageLoop::RunHandler() (uilder/build/src/base/message_loop.cc:181)    MessageLoop::Run() (uilder/build/src/base/message_loop.cc:155)    RendererMain(MainFunctionParams const&amp;) (uilder/build/src/chrome/renderer/renderer_main.cc:167)    ChromeMain (uilder/build/src/chrome/app/chrome_dll_main.cc:575)    main (uilder/build/src/chrome/app/chrome_exe_main_gtk.cc:33)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*     fun:_ZN9__gnu_cxx13new_allocatorIhE8allocateEjPKv     fun:_ZNSt12_Vector_baseIhSaIhEE11_M_allocateEj     fun:_ZNSt6vectorIhSaIhEE14_M_fill_insertEN9__gnu_cxx17__normal_iteratorIPhS1_EEjRKh     fun:_ZNSt6vectorIhSaIhEE6insertEN9__gnu_cxx17__normal_iteratorIPhS1_EEjRKh     fun:_ZNSt6vectorIhSaIhEE6resizeEjh     fun:_ZN4skia105_GLOBAL__N__b_slave_chromium_rel_linux_valgrind_builder_build_src_skia_ext_convolver.cc_00000000_5392CFA117CircularRowBufferC1Eiii     fun:_ZN4skia14BGRAConvolve2DEPKhibRKNS_19ConvolutionFilter1DES4_Ph     fun:_ZN4skia15ImageOperations6ResizeERK8SkBitmapNS0_12ResizeMethodEiiRK7SkIRect     fun:_ZN4skia15ImageOperations6ResizeERK8SkBitmapNS0_12ResizeMethodEii     fun:_ZN10RenderView16CaptureThumbnailEP7WebViewiiP8SkBitmapP14ThumbnailScore     fun:_ZN10RenderView13SendThumbnailEv     fun:_ZN10RenderView15CapturePageInfoEib     fun:_Z16DispatchToMethodI10RenderViewMS0_FvibEibEvPT_T0_RK6Tuple2IT1_T2_E     fun:_ZN27ScopedRunnableMethodFactoryI10RenderViewE14RunnableMethodIMS0_FvibE6Tuple2IibEE3RunEv     fun:_ZN11MessageLoop7RunTaskEP4Task     fun:_ZN11MessageLoop21DeferOrRunPendingTaskERKNS_11PendingTaskE     fun:_ZN11MessageLoop13DoDelayedWorkEPN4base4TimeE     fun:_ZN4base18MessagePumpDefault3RunEPNS_11MessagePump8DelegateE     fun:_ZN11MessageLoop11RunInternalEv     fun:_ZN11MessageLoop10RunHandlerEv  }   </pre>