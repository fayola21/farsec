<title>Issue 27667 -   chromium -    DCHECK firing during shutdown by CheckCurrentlyOnIOThread - Project Hosting on Google Code</title> <pre>     1. Start Chrome under the debugger  2. Go to www.gmail.com.  3. Enter text into the username and password input boxes - DO NOT SIGN IN  4. Shutdown Chrome by clicking on the X button.    What is the expected output?    Chrome should shut down cleanly.    What do you see instead?    A DCHECK is filed by CheckCurrentlyOnIOThread(). Here is the full stack   trace:     	chrome.dll!DebugUtil::BreakDebugger()  Line 222	C++   	chrome.dll!logging::LogMessage::~LogMessage()  Line 540	C++  &gt;	chrome.dll!`anonymous namespace'::CheckCurrentlyOnIOThread()  Line   48	C++   	  chrome.dll!ChromeURLRequestContextGetter::~ChromeURLRequestContextGetter()    Line 426	C++   	chrome.dll!ChromeURLRequestContextGetter::`scalar deleting   destructor'()  + 0x16 bytes	C++   	  chrome.dll!base::RefCountedThreadSafe&lt;URLRequestContextGetter base::Default  RefCountedThreadSafeTraits&lt;URLRequestContextGetter&gt;   &gt;::DeleteInternal(URLRequestContextGetter * x=0x0283c6c0)  Line 146 + 0x3f   bytes	C++   	  chrome.dll!base::DefaultRefCountedThreadSafeTraits&lt;URLRequestContextGetter&gt;  ::Destruct(URLRequestContextGetter * x=0x0283c6c0)  Line 112 + 0x9 bytes	  C++   	  chrome.dll!base::RefCountedThreadSafe&lt;URLRequestContextGetter base::Default  RefCountedThreadSafeTraits&lt;URLRequestContextGetter&gt; &gt;::Release()  Line 140   + 0x21 bytes	C++   	  chrome.dll!scoped_refptr&lt;URLRequestContextGetter&gt;::~scoped_refptr&lt;URLReques  tContextGetter&gt;()  Line 233	C++   	chrome.dll!SpellCheckHost::~SpellCheckHost()  Line 164 + 0x1c bytes	  C++   	chrome.dll!SpellCheckHost::`scalar deleting destructor'()  + 0x16   bytes	C++   	chrome.dll!DeleteTask&lt;SpellCheckHost&gt;::Run()  Line 171 + 0x26 bytes	  C++   	chrome.dll!MessageLoop::RunTask(Task * task=0x03d3a000)  Line 320 +   0xf bytes	C++   	chrome.dll!MessageLoop::DeferOrRunPendingTask(const   MessageLoop::PendingTask &amp; pending_task={...})  Line 331	C++   	chrome.dll!MessageLoop::DoWork()  Line 435 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForUI::DoRunLoop()  Line 209 + 0x1d   bytes	C++   	  chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Deleg  ate * delegate=0x036afdcc  base::MessagePumpWin::Dispatcher *   dispatcher=0x00000000)  Line 52 + 0xf bytes	C++   	chrome.dll!base::MessagePumpWin::Run(base::MessagePump::Delegate *   delegate=0x036afdcc)  Line 78 + 0x1c bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 205 + 0x2a bytes	C++   	chrome.dll!MessageLoop::RunHandler()  Line 178	C++   	chrome.dll!MessageLoop::Run()  Line 156	C++   	chrome.dll!base::Thread::Run(MessageLoop * message_loop=0x036afdcc)    Line 133	C++   	chrome.dll!base::Thread::ThreadMain()  Line 153 + 0x16 bytes	C++   	chrome.dll!`anonymous namespace'::ThreadFunc(void *   closure=0x02827a00)  Line 26 + 0xf bytes	C++   	kernel32.dll!7619eccb() 	   	[Frames below may be incorrect and/or missing  no symbols loaded   for kernel32.dll]	   	ntdll.dll!777ed24d() 	   	ntdll.dll!777ed45f() 	   </pre>