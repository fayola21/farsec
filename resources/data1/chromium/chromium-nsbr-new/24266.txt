<title>Issue 24266 -   chromium -    Incorrect usage of scoped_ptr across Chromium codebase - Project Hosting on Google Code</title> <pre> There is a number of scoped_ptr abuses in Chromium  when the pointer  provided to scoped_ptr::reset() was allocated using new[]  but is then  deleted in ~scoped_ptr using the normal delete operator.    For example  consider a chunk from base/win_util.cc:    117     TOKEN_USER* token_user = reinterpret_cast&lt;TOKEN_USER*&gt;(new BYTE[size]);  118     scoped_ptr&lt;TOKEN_USER&gt; token_user_ptr(token_user);    In order to be deleted properly  token_user_ptr should be declared as a  scoped_array.    This particular bug was found using Intel Parallel Inspector. We're  grepping the sources for the rest of similar bugs. </pre>