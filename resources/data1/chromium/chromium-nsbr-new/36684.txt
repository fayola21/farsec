<title>Issue 36684 -   chromium -    Chromium with bookmark sync enabled crashes on second start - Project Hosting on Google Code</title> <pre> STR:  1. Start chromium with a clean profile  2. Enable bookmark sync  3. Shut down chromium  4. Restart chromium  5. Watch chromium crash :)    Stack:  #0  DebugUtil::BreakDebugger () at base/debug_util_posix.cc:241  #1  0x0000000000c4a4ba in ~LogMessage (this=0x458ab940  __in_chrg=&lt;value optimized out&gt;) at   base/logging.cc:565  #2  0x000000000067e07a in MessageLoopForIO::current () at ./base/message_loop.h:500  #3  0x0000000000e8c409 in OCSPInitSingleton (this=0x7fffe402d050) at net/ocsp/nss_ocsp.cc:97  #4  0x0000000000e8c5f6 in New () at ./base/singleton.h:22  #5  0x0000000000e8c66d in get () at ./base/singleton.h:133  #6  0x0000000000e8c6f9 in net::EnsureOCSPInit () at net/ocsp/nss_ocsp.cc:627  #7  0x0000000000eac2c2 in net::SSLClientSocketNSS::Init (this=0x7fffe8049420) at   net/socket/ssl_client_socket_nss.cc:266  #8  0x0000000000eac6a0 in net::SSLClientSocketNSS::Connect (this=0x7fffe8049420  callback=0x7fffe8044d08    load_log=0x0)      at net/socket/ssl_client_socket_nss.cc:286  #9  0x0000000001efe366 in notifier::SSLSocketAdapter::BeginSSL (this=0x7fffe8044c40) at   chrome/browser/sync/notifier/communicator/ssl_socket_adapter.cc:105  #10 0x0000000001efe5bd in notifier::SSLSocketAdapter::StartSSL (this=0x7fffe8044c40  hostname=0x491b328   &quot;gmail.com&quot;  restartable=false)      at chrome/browser/sync/notifier/communicator/ssl_socket_adapter.cc:82  #11 0x0000000001eedb0b in notifier::XmppSocketAdapter::StartTls (this=0x7fffe8044fc0    verify_host_name=&quot;gmail.com&quot;)      at chrome/browser/sync/notifier/communicator/xmpp_socket_adapter.cc:330  #12 0x0000000002104e76 in buzz::XmppClient::Private::StartTls (this=0x7fffe8044220  domain=&quot;gmail.com&quot;)      at third_party/libjingle/files/talk/xmpp/xmppclient.cc:388  #13 0x000000000210bd19 in buzz::XmppEngineImpl::StartTls (this=0x7fffe80452f0  domain=&quot;gmail.com&quot;)      at third_party/libjingle/files/talk/xmpp/xmppengineimpl.cc:448  #14 0x0000000002111720 in buzz::XmppLoginTask::Advance (this=0x7fffe8046020) at   third_party/libjingle/files/talk/xmpp/xmpplogintask.cc:179  #15 0x0000000002112265 in buzz::XmppLoginTask::IncomingStanza (this=0x7fffe8046020  element=0x7fffe8041a30    isStart=false)      at third_party/libjingle/files/talk/xmpp/xmpplogintask.cc:84  #16 0x000000000210c91c in buzz::XmppEngineImpl::IncomingStanza (this=0x7fffe80452f0  stanza=0x7fffe8041a30)      at third_party/libjingle/files/talk/xmpp/xmppengineimpl.cc:330  #17 0x000000000210e8ef in buzz::XmppEngineImpl::StanzaParseHandler::Stanza (this=0x7fffe80452f8    pelStanza=0x7fffe8041a30)      at third_party/libjingle/files/talk/xmpp/xmppengineimpl.h:213  #18 0x0000000002112517 in buzz::XmppStanzaParser::IncomingEndElement (this=0x7fffe8045308    pctx=0x7fffe8045328  name=0x7fffe804662c &quot;proceed&quot;)      at third_party/libjingle/files/talk/xmpp/xmppstanzaparser.cc:90  #19 0x00000000021127a9 in buzz::XmppStanzaParser::ParseHandler::EndElement (this=0x7fffe8045310    pctx=0x7fffe8045328  name=0x7fffe804662c &quot;proceed&quot;)      at third_party/libjingle/files/talk/xmpp/xmppstanzaparser.h:63  #20 0x0000000001e10df5 in buzz::XmlParser::ExpatEndElement (this=0x7fffe8045320  name=0x7fffe804662c   &quot;proceed&quot;)      at third_party/libjingle/files/talk/xmllite/xmlparser.cc:133  #21 0x0000000001e10e1b in EndElementCallback (userData=0x7fffe8045320  name=0x7fffe804662c &quot;proceed&quot;)      at third_party/libjingle/files/talk/xmllite/xmlparser.cc:53  #22 0x00007ffff3020f84 in ?? () from /usr/lib/libexpat.so.1  #23 0x00007ffff3021ed4 in ?? () from /usr/lib/libexpat.so.1  #24 0x00007ffff301b001 in XML_ParseBuffer () from /usr/lib/libexpat.so.1  #25 0x0000000001e1100b in buzz::XmlParser::Parse (this=0x7fffe8045320        data=0x458ad6d0 &quot;&lt;proceed xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;/&gt;F7&quot; version=&quot;1.0&quot;   xmlns:stream=&quot;<a href="http://etherx.jabber.org/streams"">http://etherx.jabber.org/streams</a>&quot; xmlns=&quot;jabber:client&quot;&gt;&lt;stream:features&gt;&lt;starttls   xmlns=&quot;urn:ietf:params:xml:ns:xmpp-&quot;...  len=50  isFinal=false)      at third_party/libjingle/files/talk/xmllite/xmlparser.cc:176  #26 0x000000000210eff0 in buzz::XmppStanzaParser::Parse (this=0x7fffe8045308        data=0x458ad6d0 &quot;&lt;proceed xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;/&gt;F7&quot; version=&quot;1.0&quot;   xmlns:stream=&quot;<a href="http://etherx.jabber.org/streams"">http://etherx.jabber.org/streams</a>&quot; xmlns=&quot;jabber:client&quot;&gt;&lt;stream:features&gt;&lt;starttls   xmlns=&quot;urn:ietf:params:xml:ns:xmpp-&quot;...  len=50  isFinal=false)      at third_party/libjingle/files/talk/xmpp/xmppstanzaparser.h:51  #27 0x000000000210ce24 in buzz::XmppEngineImpl::HandleInput (this=0x7fffe80452f0        bytes=0x458ad6d0 &quot;&lt;proceed xmlns=&quot;urn:ietf:params:xml:ns:xmpp-tls&quot;/&gt;F7&quot; version=&quot;1.0&quot;   xmlns:stream=&quot;<a href="http://etherx.jabber.org/streams"">http://etherx.jabber.org/streams</a>&quot; xmlns=&quot;jabber:client&quot;&gt;&lt;stream:features&gt;&lt;starttls   xmlns=&quot;urn:ietf:params:xml:ns:xmpp-&quot;...  len=50) at   third_party/libjingle/files/talk/xmpp/xmppengineimpl.cc:114  #28 0x0000000002104fdc in buzz::XmppClient::Private::OnSocketRead (this=0x7fffe8044220) at   third_party/libjingle/files/talk/xmpp/xmppclient.cc:353  #29 0x00000000021067d8 in sigslot::_connection0&lt;buzz::XmppClient::Private  sigslot::single_threaded&gt;::emit   (this=0x7fffe80451f0)      at third_party/libjingle/files/talk/base/sigslot.h:1688  #30 0x0000000001ee42ff in sigslot::signal0&lt;sigslot::single_threaded&gt;::operator() (this=0x7fffe8045010)      at third_party/libjingle/files/talk/base/sigslot.h:2131  #31 0x0000000001eedb7c in notifier::XmppSocketAdapter::HandleReadable (this=0x7fffe8044fc0)      at chrome/browser/sync/notifier/communicator/xmpp_socket_adapter.cc:408  #32 0x0000000001eedba1 in notifier::XmppSocketAdapter::OnReadEvent (this=0x7fffe8044fc0    socket=0x7fffe8044c40)      at chrome/browser/sync/notifier/communicator/xmpp_socket_adapter.cc:295  #33 0x0000000001eef69c in sigslot::_connection1&lt;notifier::XmppSocketAdapter  talk_base::AsyncSocket*    sigslot::single_threaded&gt;::emit (      this=0x7fffe80446f0  a1=0x7fffe8044c40) at third_party/libjingle/files/talk/base/sigslot.h:1729  #34 0x0000000001efef91 in sigslot::signal1&lt;talk_base::AsyncSocket*  sigslot::single_threaded&gt;::operator()   (this=0x7fffe8044c80  a1=0x7fffe8044c40)      at third_party/libjingle/files/talk/base/sigslot.h:2195  #35 0x0000000001efeffb in talk_base::AsyncSocketAdapter::OnReadEvent (this=0x7fffe8044c40    socket=0x7fffe8042448)      at third_party/libjingle/files/talk/base/asyncsocket.h:82  #36 0x0000000001efd7f2 in notifier::SSLSocketAdapter::OnReadEvent (this=0x7fffe8044c40  socket=0x7fffe8042448)      at chrome/browser/sync/notifier/communicator/ssl_socket_adapter.cc:207  #37 0x0000000001eff934 in sigslot::_connection1&lt;talk_base::AsyncSocketAdapter  talk_base::AsyncSocket*    sigslot::single_threaded&gt;::emit (      this=0x7fffe8044dd0  a1=0x7fffe8042448) at third_party/libjingle/files/talk/base/sigslot.h:1729  #38 0x0000000001efef91 in sigslot::signal1&lt;talk_base::AsyncSocket*  sigslot::single_threaded&gt;::operator()   (this=0x7fffe8042488  a1=0x7fffe8042448)      at third_party/libjingle/files/talk/base/sigslot.h:2195  #39 0x00000000020e987a in talk_base::SocketDispatcher::OnEvent (this=0x7fffe8042440  ff=1  err=0)      at third_party/libjingle/files/talk/base/physicalsocketserver.cc:493  #40 0x00000000020e8c0e in talk_base::PhysicalSocketServer::Wait (this=0x4a67ca0  cmsWait=80  process_io=true)      at third_party/libjingle/files/talk/base/physicalsocketserver.cc:918  #41 0x00000000020e2b9d in talk_base::MessageQueue::Get (this=0x7fffe80370d8  pmsg=0x458aed60  cmsWait=80)      at third_party/libjingle/files/talk/base/messagequeue.cc:220  #42 0x00000000020ff9ec in talk_base::Thread::ProcessMessages (this=0x7fffe80370d8  cmsLoop=100) at   third_party/libjingle/files/talk/base/thread.cc:350  #43 0x0000000001ed669f in browser_sync::MediatorThreadImpl::ProcessMessages (this=0x7fffe8037070    milliseconds=100)      at chrome/browser/sync/notifier/listener/mediator_thread_impl.cc:105  #44 0x0000000001ed67cc in browser_sync::MediatorThreadImpl::Run (this=0x7fffe8037070) at   chrome/browser/sync/notifier/listener/mediator_thread_impl.cc:70  #45 0x00000000021002a8 in talk_base::Thread::PreRun (pv=0x7fffe80370d8) at   third_party/libjingle/files/talk/base/thread.cc:220  #46 0x00007ffff44763f7 in start_thread () from /lib/libpthread.so.0  #47 0x00007ffff25f2b4d in clone () from /lib/libc.so.6  #48 0x0000000000000000 in ?? ()   </pre>