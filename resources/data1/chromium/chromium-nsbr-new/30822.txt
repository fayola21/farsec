<title>Issue 30822 -   chromium -    chrome.tabs.executeScript doesn't work when used with another content script and port and chrome.tabs.update - Project Hosting on Google Code</title> <pre> Chrome Version       : 4.0.266.0      1.load attached crx.  2.browse to any page  say <a href="http://google.com">http://google.com</a>  so that c1.js will attach and   open port.  3.click browser_action icon (this is a random issue  probably related to   thread sync  so you may need to click 10-20 times).      The new tab opened by extension always show alert.      The first several tabs may work (show alert)  but after 10-20 clicks I see   problem (no alert) 7 out of 10 clicks.    This is a pretty complicated case  but my extension happens to be that   complicated. This is reduced from production code. Please help.  This case has been reduced to minimal -- the port  the call to   chrome.tabs.update  are both required to reproduce it. Interestingly  if I   increase localStorage.delay to 500 (in the background.html console)  this   problem is gone -- alert always shows. I notice when alert is not shown   (and console for the tab is empty)  there's a flash popup  which looks like   the missing alert. Moreover  if you set breakpoint before executeScript  it   always works (just like increasing delay). </pre>