<title>Issue 46190 -   chromium -    Destroyed popup menu gets called during AutoFill thus crashing the tab. - Project Hosting on Google Code</title> <pre>   1. Have two autofill profiles  one with name only.   2. Go to any autofillable site  <a href="https://scgi.ebay.com/ws/eBayISAPI.dll?RegisterEnterInfo">https://scgi.ebay.com/ws/eBayISAPI.dll?RegisterEnterInfo</a> works.  3. Autofill by clicking on first name and selecting name-only profile.  4. Click on the field again to re-select profiles    list of profiles should appear. Instead tab crashes.    Call stack:   	chrome.dll!WebKit::WebPopupMenuImpl::client()  Line 80 + 0x11 bytes	C++  	chrome.dll!WebKit::WebViewImpl::refreshSuggestionsPopup()  Line 2105 + 0x14 bytes	C++   	chrome.dll!WebKit::WebViewImpl::applyAutoFillSuggestions(const WebKit::WebNode &amp; node={...}  const WebKit::WebVector&lt;WebKit::WebString&gt; &amp; names={...}  const WebKit::WebVector&lt;WebKit::WebString&gt; &amp; labels={...}  int defaultSuggestionIndex=-1)  Line 1836	C++   	chrome.dll!RenderView::OnAutoFillSuggestionsReturned(int query_id=1  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp; values=[1](&quot;a56757576576&quot;)  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp; labels=[1](&quot;#2&quot;)  int default_suggestion_index=-1)  Line 1486 + 0x4b bytes	C++   	chrome.dll!DispatchToMethod&lt;RenderView void (__thiscall RenderView::*)(int std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; const &amp; std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; const &amp; int) int std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; int&gt;(RenderView * obj=0x05550400  void (int  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp;  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp;  int)* method=0x5a1f6600  const Tuple4&lt;int std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; int&gt; &amp; arg={...})  Line 441 + 0x36 bytes	C++   	chrome.dll!IPC::MessageWithTuple&lt;Tuple4&lt;int std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; int&gt; &gt;::Dispatch&lt;RenderView void (__thiscall RenderView::*)(int std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; const &amp; std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; const &amp; int)&gt;(const IPC::Message * msg=0x064ce5a8  RenderView * obj=0x05550400  void (int  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp;  const std::vector&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; std::allocator&lt;std::basic_string&lt;wchar_t std::char_traits&lt;wchar_t&gt; std::allocator&lt;wchar_t&gt; &gt; &gt; &gt; &amp;  int)* func=0x5a1f6600)  Line 1020 + 0x23 bytes	C++   	chrome.dll!RenderView::OnMessageReceived(const IPC::Message &amp; message={...})  Line 653 + 0x4a bytes	C++   	chrome.dll!MessageRouter::RouteMessage(const IPC::Message &amp; msg={...})  Line 40 + 0x13 bytes	C++   	chrome.dll!MessageRouter::OnMessageReceived(const IPC::Message &amp; msg={...})  Line 31 + 0x13 bytes	C++    cause:  in WebViewImpl::refreshSuggestionsPopup()          WebPopupMenuImpl* popupMenu =              static_cast&lt;WebPopupMenuImpl*&gt;(m_suggestionsPopup-&gt;client());  returns NULL  and crashes next line.          popupMenu-&gt;client()-&gt;setWindowRect(newBounds);      Originally this bug was mistakenly attributed to <a title="Autofill crash @ RaiseException" class=closed_ref href="/p/chromium/issues/detail?id=44594"> bug #44594 </a>   </pre>