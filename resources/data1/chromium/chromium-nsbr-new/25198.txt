<title>Issue 25198 -   chromium -    Crash Chrome: base::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*) System: [NSView _regionForOpaqueDescendants:forMove:] - Project Hosting on Google Code</title> <pre> Chrome Version       : 4.0.223.5 (Developer Build 29397)  OS version               : 10.5.8  10.6.1      1. Start a release build of Chromium  Cmd-T to open a new tab.  2. Quit using the main menu.  3. Possibly do the above a bunch of times.    What is the expected result?  Not much.    What happens instead?  Bus error  or segmentation fault  or illegal instruction  or not much; it's flaky.    I can't reproduce it using a debug build. I haven't been able to reproduce it under a debugger. I haven't been able to reproduce it   without making a   new tab. It may or may not help to have the NTP set as your home page.    See the stack trace below:    Process:         Chromium [9857]  Path:            /Users/vtl/cr/src/xcodebuild/Release/Chromium.app/Contents/MacOS/Chromium  Identifier:      org.chromium.Chromium  Version:         4.0.223.5 (223.5)  Code Type:       X86 (Native)  Parent Process:  bash [1452]    Date/Time:       2009-10-19 09:50:02.907 -0700  OS Version:      Mac OS X 10.6.1 (10B504)  Report Version:  6    Interval Since Last Report:          376122 sec  Crashes Since Last Report:           13  Per-App Interval Since Last Report:  984 sec  Per-App Crashes Since Last Report:   6  Anonymous UUID:                      5B7A1D71-6D75-4A56-830F-E4183905C552    Exception Type:  EXC_BAD_ACCESS (SIGSEGV)  Exception Codes: KERN_INVALID_ADDRESS at 0x00000000458bc289  Crashed Thread:  0  Dispatch queue: com.apple.main-thread    Application Specific Information:  objc_msgSend() selector name: drawAsFloatingBar      Thread 0 Crashed:  Dispatch queue: com.apple.main-thread  0   libobjc.A.dylib               	0x966d792c objc_msgSend + 44  1   com.apple.AppKit              	0x918564a4 -[NSView _regionForOpaqueDescendants:forMove:] + 709  2   com.apple.AppKit              	0x91856f9a -[NSView _regionForOpaqueDescendants:forMove:] + 3515  3   com.apple.AppKit              	0x91855ed5 -[NSThemeFrame _regionForOpaqueDescendants:forMove:] + 98  4   com.apple.AppKit              	0x9198f3f2 -[NSGrayFrame _computeHeightOfTop:bottom:] + 120  5   com.apple.AppKit              	0x9182e73e _handleWindowNeedsDisplay + 658  6   com.apple.CoreFoundation      	0x96a90b02 __CFRunLoopDoObservers + 1186  7   com.apple.CoreFoundation      	0x96a4d65d __CFRunLoopRun + 557  8   com.apple.CoreFoundation      	0x96a4cd34 CFRunLoopRunSpecific + 452  9   com.apple.CoreFoundation      	0x96a4cb61 CFRunLoopRunInMode + 97  10  com.apple.HIToolbox           	0x90157fec RunCurrentEventLoopInMode + 392  11  com.apple.HIToolbox           	0x90157da3 ReceiveNextEventCommon + 354  12  com.apple.HIToolbox           	0x90157c28 BlockUntilNextEventMatchingListInMode + 81  13  com.apple.AppKit              	0x91804c95 _DPSNextEvent + 847  14  com.apple.AppKit              	0x9180450a -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 156  15  com.apple.AppKit              	0x917c669b -[NSApplication run] + 821  16  ...chromium.Chromium.framework	0x0055aae3 ChromeMain + 5439667  17  ...chromium.Chromium.framework	0x0055abca ChromeMain + 5439898  18  ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  19  ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  20  ...chromium.Chromium.framework	0x0010d169 ChromeMain + 927545  21  ...chromium.Chromium.framework	0x0002bac7 ChromeMain + 4247  22  org.chromium.Chromium         	0x00001f26 0x1000 + 3878    Thread 1:  Dispatch queue: com.apple.libdispatch-manager  0   libSystem.B.dylib             	0x90d1e03a kevent + 10  1   libSystem.B.dylib             	0x90d1e768 _dispatch_mgr_invoke + 215  2   libSystem.B.dylib             	0x90d1dbf9 _dispatch_queue_invoke + 183  3   libSystem.B.dylib             	0x90d1d98a _dispatch_worker_thread2 + 234  4   libSystem.B.dylib             	0x90d1d401 _pthread_wqthread + 390  5   libSystem.B.dylib             	0x90d1d246 start_wqthread + 30    Thread 2:  0   libSystem.B.dylib             	0x90d1e03a kevent + 10  1   ...chromium.Chromium.framework	0x005845bd ChromeMain + 5610381  2   ...chromium.Chromium.framework	0x00582a32 ChromeMain + 5603330  3   ...chromium.Chromium.framework	0x00559b7f ChromeMain + 5435727  4   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  5   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  6   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  7   ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  8   libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  9   libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 3:  0   libSystem.B.dylib             	0x90d1e03a kevent + 10  1   ...chromium.Chromium.framework	0x005845bd ChromeMain + 5610381  2   ...chromium.Chromium.framework	0x00582a32 ChromeMain + 5603330  3   ...chromium.Chromium.framework	0x00559c54 ChromeMain + 5435940  4   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  5   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  6   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  7   ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  8   libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  9   libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 4:  0   libSystem.B.dylib             	0x90d25782 __semwait_signal + 10  1   libSystem.B.dylib             	0x90d2543e _pthread_cond_wait + 1191  2   libSystem.B.dylib             	0x90d270d8 pthread_cond_wait$UNIX2003 + 73  3   ...chromium.Chromium.framework	0x0053d457 ChromeMain + 5319207  4   ...chromium.Chromium.framework	0x0057fe2e ChromeMain + 5592062  5   ...chromium.Chromium.framework	0x0057fe66 ChromeMain + 5592118  6   ...chromium.Chromium.framework	0x005593be ChromeMain + 5433742  7   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  8   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  9   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  10  ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  11  libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  12  libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 5:  0   libSystem.B.dylib             	0x90d25782 __semwait_signal + 10  1   libSystem.B.dylib             	0x90d2543e _pthread_cond_wait + 1191  2   libSystem.B.dylib             	0x90d24f91 pthread_cond_timedwait$UNIX2003 + 72  3   ...chromium.Chromium.framework	0x0053d6df ChromeMain + 5319855  4   ...chromium.Chromium.framework	0x0057fe0e ChromeMain + 5592030  5   ...chromium.Chromium.framework	0x00559474 ChromeMain + 5433924  6   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  7   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  8   ...chromium.Chromium.framework	0x002508f6 ChromeMain + 2252486  9   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  10  ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  11  libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  12  libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 6:  0   libSystem.B.dylib             	0x90d25782 __semwait_signal + 10  1   libSystem.B.dylib             	0x90d2543e _pthread_cond_wait + 1191  2   libSystem.B.dylib             	0x90d270d8 pthread_cond_wait$UNIX2003 + 73  3   ...chromium.Chromium.framework	0x0053d457 ChromeMain + 5319207  4   ...chromium.Chromium.framework	0x0057fe2e ChromeMain + 5592062  5   ...chromium.Chromium.framework	0x0057fe66 ChromeMain + 5592118  6   ...chromium.Chromium.framework	0x005593be ChromeMain + 5433742  7   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  8   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  9   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  10  ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  11  libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  12  libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 7:  0   libSystem.B.dylib             	0x90d25782 __semwait_signal + 10  1   libSystem.B.dylib             	0x90d2543e _pthread_cond_wait + 1191  2   libSystem.B.dylib             	0x90d270d8 pthread_cond_wait$UNIX2003 + 73  3   ...chromium.Chromium.framework	0x0053d457 ChromeMain + 5319207  4   ...chromium.Chromium.framework	0x0057fe2e ChromeMain + 5592062  5   ...chromium.Chromium.framework	0x0057fe66 ChromeMain + 5592118  6   ...chromium.Chromium.framework	0x005593be ChromeMain + 5433742  7   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  8   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  9   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  10  ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  11  libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  12  libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 8:  0   libSystem.B.dylib             	0x90d25782 __semwait_signal + 10  1   libSystem.B.dylib             	0x90d2543e _pthread_cond_wait + 1191  2   libSystem.B.dylib             	0x90d270d8 pthread_cond_wait$UNIX2003 + 73  3   ...chromium.Chromium.framework	0x0053d457 ChromeMain + 5319207  4   ...chromium.Chromium.framework	0x0057fe2e ChromeMain + 5592062  5   ...chromium.Chromium.framework	0x0057fe66 ChromeMain + 5592118  6   ...chromium.Chromium.framework	0x005593be ChromeMain + 5433742  7   ...chromium.Chromium.framework	0x00556f49 ChromeMain + 5424409  8   ...chromium.Chromium.framework	0x00556ff4 ChromeMain + 5424580  9   ...chromium.Chromium.framework	0x0056f46d ChromeMain + 5524029  10  ...chromium.Chromium.framework	0x0055fab1 ChromeMain + 5460097  11  libSystem.B.dylib             	0x90d24f39 _pthread_start + 345  12  libSystem.B.dylib             	0x90d24dbe thread_start + 34    Thread 9:  0   libSystem.B.dylib             	0x90d1d092 __workq_kernreturn + 10  1   libSystem.B.dylib             	0x90d1d628 _pthread_wqthread + 941  2   libSystem.B.dylib             	0x90d1d246 start_wqthread + 30    Thread 10:  0   libSystem.B.dylib             	0x90d1d092 __workq_kernreturn + 10  1   libSystem.B.dylib             	0x90d1d628 _pthread_wqthread + 941  2   libSystem.B.dylib             	0x90d1d246 start_wqthread + 30    Thread 11:  0   libSystem.B.dylib             	0x90d1d092 __workq_kernreturn + 10  1   libSystem.B.dylib             	0x90d1d628 _pthread_wqthread + 941  2   libSystem.B.dylib             	0x90d1d246 start_wqthread + 30    Thread 0 crashed with X86 Thread State (32-bit):    eax: 0x458bc289  ebx: 0x0014275c  ecx: 0x01539b99  edx: 0x00004400    edi: 0x0000ffff  esi: 0xe5895500  ebp: 0xbfffc718  esp: 0xbfffc6f4     ss: 0x0000001f  efl: 0x00010202  eip: 0x966d792c   cs: 0x00000017     ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037    cr2: 0x458bc289    [...] </pre>