<title>Issue 34352 -   chromium -    HttpBridgeTest accesses IOThread objects on the UIThread - Project Hosting on Google Code</title> <pre> I tried to land a change for NetworkChangeNotifierWin which uses   ObjectWatcher which uses the current MessageLoop.  NetworkChangeNotifier   currently lives within the HttpNetworkSession  although I'll be moving it   soon to the IOThread object.    Currently though  it will crash in   HttpBridgeTest_TestUsesSameHttpNetworkSession  because that test   creates/accesses the HttpNetworkSession on the main thread  which does not   have a MessageLoop for it yet  so MessageLoop::current() returns NULL.    HttpNetworkSession should not be used outside the IOThread.  It at least   needs access to a MessageLoop.  This should be fixed. </pre>