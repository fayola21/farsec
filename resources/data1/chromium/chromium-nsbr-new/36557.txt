<title>Issue 36557 -   chromium -    Assert in PageGroupLoadDeferrer after showing JS alert from extension  - Project Hosting on Google Code</title> <pre> Repro steps:    Create an extension with following bkg page:    &lt;html&gt;  &lt;body style=&quot;margin:0;padding:0;&quot;&gt;  &lt;iframe style=&quot;border:0;&quot; id=&quot;mainFrame&quot; height=&quot;400&quot;   src=&quot;<a href="http://google.com">http://google.com</a>&quot; onload=&quot;resize();&quot;&gt;  &lt;/iframe&gt;  &lt;/body&gt;  &lt;script&gt;     function resize(){  	    alert(&quot;hi!&quot;);    	}  &lt;/script&gt;  &lt;/html&gt;    When I click the extension button  I see alert message. After pressing &quot;Ok&quot;   button  browser will assert.    It seems that PageGroupLoadDeferrer suspends one set of frame documents   that represent this extension  but when it tries to resume them after   alert() call that set is changed what causes the assert (and who knows what   else). This happens on this particular extension just because the alert()   is called from iframe.onload. I suspect that this extension's iframe is   not available for us in PageGroupLoadDeferrer constructor when we call it    but it becomes accessible when its destructor is called. I don't see (on   Win32) this issue once iframe is removed from the extension and if we   invoke alert() body.onload for example. </pre>