<title>Issue 39282 -   chromium -    Leaks in BookmarkFolderTargetTest - Project Hosting on Google Code</title> <pre> From: <a href="http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/3917/steps/valgrind%20test:%20unit/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/3917/steps/valgrind%20test:%20unit/logs/stdio</a>    Command: src/xcodebuild/Debug/unit_tests --gtest_filter=-  VisitedLinkEventsTest.Coalescense:VisitedLinkRelayTest.Basics:RenderViewTest.ImeComposition:DnsMasterTest.MassiveConcurrentLookupTest:IPCSync  ChannelTest.*:WebDropTargetTest.URL:WebDropTargetTest.Data:AutocompleteTextFieldEditorTest.CutCopyTest:DownloadUtilTest.AddFileToPasteboardTe  st:FindPasteboardTest.ReadingFromPboardUpdatesFindText:FindPasteboardTest.SendsNotificationWhenTextChanges:RenderViewTest.MacTestCmdUp:Chrome  BrowserWindowTest.DoesHideTitle:ClearBrowsingDataControllerTest.*:NSMenuItemAdditionsTest.TestMOnDifferentLayouts:PrefsControllerTest.GetPref  sViewForPage:PrefsControllerTest.GetToolbarItemForPage:PrefsControllerTest.ShowAndClose:PrefsControllerTest.SwitchToPage:RenderViewTest.OnPri  ntPages:RenderViewTest.Print*:TabStripControllerTest.AddRemoveTabs:TaskManagerWindowControllerTest.*:BookmarkAllTabsControllerTest.BookmarkAl  lTabs --gtest_print_time  1 494 (24 direct  1 470 indirect) bytes in 1 blocks are definitely lost in loss record 15 726 of 16 108    malloc_zone_calloc (mp/vg-chr/scripts/valgrind-source/coregrind/m_replacemalloc/vg_replace_malloc.c:458)    _internal_class_createInstanceFromZone    NSAllocateObject    +[NSProxy alloc]    +[OCMockObject mockForClass:] (/b/slave/chromium-dbg-mac-valgrind/build/src/third_party/ocmock/OCMock/OCMockObject.m:29)    BookmarkFolderTargetTest_ReopenNotSame_Test::TestBody() (/b/slave/chromium-dbg-mac-  valgrind/build/src/chrome/browser/cocoa/bookmark_folder_target_unittest.mm:78)    testing::Test::Run() (gtest.cc:2085)    testing::internal::TestInfoImpl::Run() (gtest.cc:2304)    testing::TestCase::Run() (gtest.cc:2412)    testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:4013)    testing::UnitTest::Run() (gtest.cc:3680)    TestSuite::Run() (test/test_suite.h:125)    main (/b/slave/chromium-dbg-mac-valgrind/build/src/chrome/test/unit/run_all_unittests.cc:8)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:malloc_zone_calloc     fun:_internal_class_createInstanceFromZone     fun:NSAllocateObject     fun:+[NSProxy alloc]     fun:+[OCMockObject mockForClass:]     fun:_ZN43BookmarkFolderTargetTest_ReopenNotSame_Test8TestBodyEv     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  }      23:27:06 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command: src/xcodebuild/Debug/unit_tests --gtest_filter=-  VisitedLinkEventsTest.Coalescense:VisitedLinkRelayTest.Basics:RenderViewTest.ImeComposition:DnsMasterTest.MassiveConcurrentLookupTest:IPCSync  ChannelTest.*:WebDropTargetTest.URL:WebDropTargetTest.Data:AutocompleteTextFieldEditorTest.CutCopyTest:DownloadUtilTest.AddFileToPasteboardTe  st:FindPasteboardTest.ReadingFromPboardUpdatesFindText:FindPasteboardTest.SendsNotificationWhenTextChanges:RenderViewTest.MacTestCmdUp:Chrome  BrowserWindowTest.DoesHideTitle:ClearBrowsingDataControllerTest.*:NSMenuItemAdditionsTest.TestMOnDifferentLayouts:PrefsControllerTest.GetPref  sViewForPage:PrefsControllerTest.GetToolbarItemForPage:PrefsControllerTest.ShowAndClose:PrefsControllerTest.SwitchToPage:RenderViewTest.OnPri  ntPages:RenderViewTest.Print*:TabStripControllerTest.AddRemoveTabs:TaskManagerWindowControllerTest.*:BookmarkAllTabsControllerTest.BookmarkAl  lTabs --gtest_print_time  6 993 (24 direct  6 969 indirect) bytes in 1 blocks are definitely lost in loss record 16 008 of 16 108    malloc_zone_calloc (mp/vg-chr/scripts/valgrind-source/coregrind/m_replacemalloc/vg_replace_malloc.c:458)    _internal_class_createInstanceFromZone    NSAllocateObject    +[NSProxy alloc]    +[OCMockObject mockForClass:] (/b/slave/chromium-dbg-mac-valgrind/build/src/third_party/ocmock/OCMock/OCMockObject.m:29)    BookmarkFolderTargetTest_ReopenSame_Test::TestBody() (/b/slave/chromium-dbg-mac-  valgrind/build/src/chrome/browser/cocoa/bookmark_folder_target_unittest.mm:56)    testing::Test::Run() (gtest.cc:2085)    testing::internal::TestInfoImpl::Run() (gtest.cc:2304)    testing::TestCase::Run() (gtest.cc:2412)    testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:4013)    testing::UnitTest::Run() (gtest.cc:3680)    TestSuite::Run() (test/test_suite.h:125)    main (/b/slave/chromium-dbg-mac-valgrind/build/src/chrome/test/unit/run_all_unittests.cc:8)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:malloc_zone_calloc     fun:_internal_class_createInstanceFromZone     fun:NSAllocateObject     fun:+[NSProxy alloc]     fun:+[OCMockObject mockForClass:]     fun:_ZN40BookmarkFolderTargetTest_ReopenSame_Test8TestBodyEv     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  }   </pre>