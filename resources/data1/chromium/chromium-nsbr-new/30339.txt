<title>Issue 30339 -   chromium -    Using interlaced image in theme causes crash in Chrome - Project Hosting on Google Code</title> <pre> Apply the attached theme to Chrome and notice that:    - the debug build DCHECKs in DecodeRowCallback (Msg: &quot;We didn't turn on interlace handling  but libpng is giving us interlaced data&quot;) and   - the release build crashes:    &gt;	chrome.dll!gfx::`anonymous namespace'::ConvertRGBtoSkia(const unsigned char * rgb=0x00000000  int pixel_width=200  unsigned char * rgba=0x06863000  bool * is_opaque=0x005ada10)  Line 54 + 0x3 bytes	C++   	chrome.dll!gfx::`anonymous namespace'::DecodeRowCallback(png_struct_def * png_ptr=0x06856000  unsigned char * new_row=0x00000000  unsigned long row_num=0  int pass=2)  Line 317 + 0x20 bytes	C++   	chrome.dll!webkit_png_push_have_row(png_struct_def * png_ptr=0x06856000  unsigned char * row=0x00000000)  Line 1683 + 0x2a bytes	C   	chrome.dll!webkit_png_push_proc_row(png_struct_def * png_ptr=0x06856000)  Line 964 + 0xb bytes	C   	chrome.dll!webkit_png_proc_IDAT_data(png_struct_def * png_ptr=0x06856000  unsigned char * buffer=0x049adad5  unsigned int buffer_length=891)  Line 870 + 0x9 bytes	C   	chrome.dll!webkit_png_push_read_IDAT(png_struct_def * png_ptr=0x06856000)  Line 799 + 0x17 bytes	C   	chrome.dll!webkit_png_proc_some_data(png_struct_def * png_ptr=0x06856000  png_info_struct * info_ptr=0x0065a7e0)  Line 66 + 0x9 bytes	C   	chrome.dll!webkit_png_process_data(png_struct_def * png_ptr=0x06856000  png_info_struct * info_ptr=0x0065a7e0  unsigned char * buffer=0x049ad000  unsigned int buffer_size=3680)  Line 37 + 0xd bytes	C   	chrome.dll!gfx::PNGCodec::Decode(const unsigned char * input=0x049ad000  unsigned int input_size=3680  SkBitmap * bitmap=0x005adbb4)  Line 434 + 0x15 bytes	C++   	chrome.dll!BrowserThemeProvider::LoadThemeBitmap(int id=25472)  Line 860 + 0x5e bytes	C++   	chrome.dll!BrowserThemeProvider::GenerateFrameImages()  Line 732 + 0x13 bytes	C++   	chrome.dll!BrowserThemeProvider::SetTheme(Extension * extension=0x005bf380)  Line 508	C++   	chrome.dll!ProfileImpl::SetTheme(Extension * extension=0x005bf380)  Line 1124 + 0x24 bytes	C++   	chrome.dll!ProfileImpl::Observe(NotificationType type={...}  const NotificationSource &amp; source={...}  const NotificationDetails &amp; details={...})  Line 1306 + 0x17 bytes	C++   	chrome.dll!NotificationService::Notify(NotificationType type={...}  const NotificationSource &amp; source={...}  const NotificationDetails &amp; details={...})  Line 114 + 0x73 bytes	C++   	chrome.dll!ExtensionsService::OnExtensionLoaded(Extension * extension=0x005bf380  bool allow_privilege_increase=true)  Line 624 + 0x39 bytes	C++   	chrome.dll!DispatchToMethod&lt;ExtensionsService void (__thiscall ExtensionsService::*)(Extension * bool) Extension * bool&gt;(ExtensionsService * obj=0x005ff000  void (Extension *  bool)* method=0x545993e0    const Tuple2&lt;Extension * bool&gt; &amp; arg={...})  Line 429 + 0x19 bytes	C++   	chrome.dll!RunnableMethod&lt;ExtensionsService void (__thiscall ExtensionsService::*)(Extension * bool) Tuple2&lt;Extension * bool&gt; &gt;::Run()  Line 289 + 0x1e bytes	C++   	chrome.dll!MessageLoop::RunTask(Task * task=0x0462c400)  Line 320 + 0xf bytes	C++   	chrome.dll!MessageLoop::DeferOrRunPendingTask(const MessageLoop::PendingTask &amp; pending_task={...})  Line 331	C++   	chrome.dll!MessageLoop::DoWork()  Line 435 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForUI::DoRunLoop()  Line 209 + 0x1d bytes	C++   	chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate * delegate=0x005af520  base::MessagePumpWin::Dispatcher * dispatcher=0x005ae550)  Line 52 + 0xf bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 201	C++   	chrome.dll!MessageLoop::RunHandler()  Line 178	C++   	chrome.dll!MessageLoopForUI::Run(base::MessagePumpWin::Dispatcher * dispatcher=0x005ae550)  Line 607	C++   	chrome.dll!`anonymous namespace'::RunUIMessageLoop(BrowserProcess * browser_process=0x005ee000)  Line 166	C++   	chrome.dll!BrowserMain(const MainFunctionParams &amp; parameters={...})  Line 967 + 0x11 bytes	C++   	chrome.dll!ChromeMain(HINSTANCE__ * instance=0x00160000  sandbox::SandboxInterfaceInfo * sandbox_info=0x005afcf8  wchar_t * command_line=0x008f2f18)  Line 725 + 0xc bytes	C++   	chrome.exe!MainDllLoader::Launch(HINSTANCE__ * instance=0x00160000  sandbox::SandboxInterfaceInfo * sbox_info=0x005afcf8)  Line 170 + 0x1d bytes	C++   	chrome.exe!wWinMain(HINSTANCE__ * instance=0x00160000  HINSTANCE__ * __formal=0x00000000  HINSTANCE__ * __formal=0x00000000  HINSTANCE__ * __formal=0x00000000)  Line 48 + 0x10 bytes	C++   	chrome.exe!__tmainCRTStartup()  Line 263 + 0x2c bytes	C   	chrome.exe!wWinMainCRTStartup()  Line 182	C   	kernel32.dll!764a3677() 	   	[Frames below may be incorrect and/or missing  no symbols loaded for kernel32.dll]	   	ntdll.dll!77079d72() 	   	ntdll.dll!77079d45() 	   </pre>