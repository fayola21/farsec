<title>Issue 30057 -   chromium -    Extension processes sometimes incorrectly flagged as Crashed - Project Hosting on Google Code</title> <pre> During shutdown  an extension process may be killed  causing us to get a   BrowserRenderProcessHost::OnChannelError notification. That ends up calling   ExtensionHost::RenderViewGone  which always assumes the process has   crashed  which is a bad assumption. We should probably have OnChannelError   pass along a bool indicating if the error was due to a crash.    Here's a stack trace of the shutdown path:  #9  0x000000000083c989 in ExtensionHost::RenderViewGone   (this=0x7ffff7e68420  render_view_host=0x7fffefaf0540)      at chrome/browser/extensions/extension_host.cc:250  #10 0x000000000065d77d in RenderViewHost::OnMsgRenderViewGone   (this=0x7fffefaf0540)      at chrome/browser/renderer_host/render_view_host.cc:920  #11 0x000000000066271f in IPC::Message::Dispatch&lt;RenderViewHost&gt;   (msg=0x7fffffffb150  obj=0x7fffefaf0540        func=0x65d742 &lt;RenderViewHost::OnMsgRenderViewGone()&gt;) at   ./ipc/ipc_message.h:134  #12 0x0000000000660f2c in RenderViewHost::OnMessageReceived   (this=0x7fffefaf0540  msg=...)      at chrome/browser/renderer_host/render_view_host.cc:734  #13 0x00000000008e28fc in BrowserRenderProcessHost::OnChannelError   (this=0x7fffefafbc00)      at chrome/browser/renderer_host/browser_render_process_host.cc:835  #14 0x00000000011bdcc1 in IPC::ChannelProxy::Context::OnDispatchError   (this=0x7fffeef62640) at ipc/ipc_channel_proxy.cc:225  #15 0x00000000011bf943 in DispatchToMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)()&gt; (obj=0x7fffeef62640        method=0x11bdc8c &lt;IPC::ChannelProxy::Context::OnDispatchError()&gt;    arg=...) at ./base/tuple.h:412  #16 0x00000000011bf980 in RunnableMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)()  Tuple0&gt;::Run (      this=0x7ffff7eb2680) at ./base/task.h:289  #17 0x0000000000b6dcc3 in MessageLoop::RunTask (this=0x7fffffffd2d0    task=0x7ffff7eb2680) at base/message_loop.cc:320  #18 0x0000000000b6e3fe in MessageLoop::DeferOrRunPendingTask   (this=0x7fffffffd2d0  pending_task=...) at base/message_loop.cc:328  #19 0x0000000000b6e64e in MessageLoop::DoWork (this=0x7fffffffd2d0) at   base/message_loop.cc:435  #20 0x0000000000bb6fde in base::MessagePumpForUI::RunWithDispatcher   (this=0x7ffff7f06540  delegate=0x7fffffffd2d0  dispatcher=0x0)      at base/message_pump_glib.cc:200  #21 0x0000000000bb7bbd in base::MessagePumpForUI::Run (this=0x7ffff7f06540    delegate=0x7fffffffd2d0) at ./base/message_pump_glib.h:59  #22 0x0000000000b6ebc1 in MessageLoop::RunInternal (this=0x7fffffffd2d0) at   base/message_loop.cc:205  #23 0x0000000000b6ebe1 in MessageLoop::RunHandler (this=0x7fffffffd2d0) at   base/message_loop.cc:177  #24 0x0000000000b6ec1d in MessageLoopForUI::Run (this=0x7fffffffd2d0    dispatcher=0x0) at base/message_loop.cc:606  #25 0x000000000045c4b4 in RunUIMessageLoop (browser_process=0x7ffff7ea4540)   at chrome/browser/browser_main.cc:162  #26 0x000000000045e20f in BrowserMain (parameters=...) at   chrome/browser/browser_main.cc:967  #27 0x0000000000401778 in ChromeMain (argc=1  argv=0x7fffffffe6f8) at   chrome/app/chrome_dll_main.cc:725  #28 0x0000000000400463 in main (argc=1  argv=0x7fffffffe6f8) at   chrome/app/chrome_exe_main_gtk.cc:52 </pre>