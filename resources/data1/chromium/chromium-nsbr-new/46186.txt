<title>Issue 46186 -   chromium -    Leak in HALCADClientListener::HALCADClientListener - Project Hosting on Google Code</title> <pre> The earliest run I could trace it to is:    <a href="http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20UI%20(valgrind)(3)/builds/3188/steps/valgrind%20test:%20ui/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20UI%20(valgrind)(3)/builds/3188/steps/valgrind%20test:%20ui/logs/stdio</a>    ERROR:root:FAIL! There were 1 errors:  --25612:0:schedule VG_(sema_down): read returned -4  ERROR:root:Leak_DefinitelyLost  Command: /xcodebuild/Debug/Chromium.app/Contents/MacOS/Chromium --no-first-run --no-default-browser-check --test-type=ui --enable-file-cookies --testing-channel=ChromeTestingInterface:25441.9 --noerrdialogs --homepage=about:blank --disable-web-resources --user-data-dir=/private/var/folders/Tf/TfOs8gm+HkuQrkICa3LquE+++TM/-Tmp-/org.chromium.ChrRnr/test_user_data --metrics-recording-only --enable-logging --test-name=MediaTest.VideoBearTheora --allow-file-access-from-files  276 (64 direct  212 indirect) bytes in 1 blocks are definitely lost in loss record 6 253 of 6 955    malloc_zone_malloc (/tmp/vg-bins/scripts/valgrind-memcheck/coregrind/m_replacemalloc/vg_replace_malloc.c:252)    base::(anonymous namespace)::oom_killer_cfallocator_system_default(long  unsigned long  void*) (/base/process_util_mac.mm:504)    _CFRuntimeCreateInstance    CFRunLoopSourceCreate    MSHCreateMIGServerSource    HALCADClientListener::HALCADClientListener(long (*)(unsigned long  unsigned long  AudioObjectPropertyAddress const*  void*)  void*)    HALCADClient::AddPropertyListener(unsigned long  AudioObjectPropertyAddress const*  long (*)(unsigned long  unsigned long  AudioObjectPropertyAddress const*  void*)  void*)    HALDefaultDevice::InstallServerListeners()    HALDefaultDevice::Initialize()    HALSystem::CheckOutInstance()    AudioObjectAddPropertyListener    AQMEDevice::AQMEDevice(unsigned long  AudioStreamBasicDescription const*  AudioChannelLayout const*)    NewAQIONode(unsigned long  bool  AudioStreamBasicDescription const*  AudioChannelLayout const*)    AQIONodeManager::_FindAQIONode(unsigned long  bool  bool)    AQIONodeManager::FindAQIONode(unsigned long  bool  bool)    AudioQueueObject::DoIONodeConnect(AudioQueueStreamSpecifier const&amp;  AudioStreamBasicDescription const*  AudioChannelLayout const*)    AudioQueueObject::EnqueueBuffer(AudioQueueBuffer*  unsigned int  AudioStreamPacketDescription const*  unsigned int  unsigned int  unsigned int  AudioQueueParameterEvent const*  AQTimeStamp const&amp;  AQTimeStamp*)    AQServer_EnqueueBuffer    AudioQueueEnqueueBufferWithParameters    AudioQueueEnqueueBuffer    PCMQueueOutAudioOutputStream::Start(AudioOutputStream::AudioSourceCallback*) (/media/audio/mac/audio_output_mac.cc:285)    AudioRendererHost::IPCAudioSource::Play() (audio_renderer_host.cc:259)    AudioRendererHost::OnPlayStream(IPC::Message const&amp;  int) (audio_renderer_host.cc:558)    bool IPC::MessageWithTuple&lt;Tuple1&lt;int&gt; &gt;::Dispatch&lt;AudioRendererHost  int&gt;(IPC::Message const*  AudioRendererHost*  void (AudioRendererHost::*)(IPC::Message const&amp;  int)) (ipc_message_utils.h:1034)    AudioRendererHost::OnMessageReceived(IPC::Message const&amp;  bool*) (audio_renderer_host.cc:488)    ResourceMessageFilter::OnMessageReceived(IPC::Message const&amp;) (resource_message_filter.cc:448)    IPC::ChannelProxy::Context::TryFilters(IPC::Message const&amp;) (/ipc/ipc_channel_proxy.cc:65)    IPC::SyncChannel::SyncContext::OnMessageReceived(IPC::Message const&amp;) (/ipc/ipc_sync_channel.cc:292)    IPC::Channel::ChannelImpl::ProcessIncomingMessages() (/ipc/ipc_channel_posix.cc:701)    IPC::Channel::ChannelImpl::OnFileCanReadWithoutBlocking(int) (/ipc/ipc_channel_posix.cc:954)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:malloc_zone_malloc     fun:_ZN4base12_GLOBAL__N_137oom_killer_cfallocator_system_defaultElmPv     fun:_CFRuntimeCreateInstance     fun:CFRunLoopSourceCreate     fun:MSHCreateMIGServerSource     fun:_ZN20HALCADClientListenerC2EPFlmmPK26AudioObjectPropertyAddressPvES3_     fun:_ZN12HALCADClient19AddPropertyListenerEmPK26AudioObjectPropertyAddressPFlmmS2_PvES3_     fun:_ZN16HALDefaultDevice22InstallServerListenersEv     fun:_ZN16HALDefaultDevice10InitializeEv     fun:_ZN9HALSystem16CheckOutInstanceEv     fun:AudioObjectAddPropertyListener     fun:_ZN10AQMEDeviceC2EmPK27AudioStreamBasicDescriptionPK18AudioChannelLayout     fun:_Z11NewAQIONodembPK27AudioStreamBasicDescriptionPK18AudioChannelLayout     fun:_ZN15AQIONodeManager13_FindAQIONodeEmbb     fun:_ZN15AQIONodeManager12FindAQIONodeEmbb     fun:_ZN16AudioQueueObject15DoIONodeConnectERK25AudioQueueStreamSpecifierPK27AudioStreamBasicDescriptionPK18AudioChannelLayout     fun:_ZN16AudioQueueObject13EnqueueBufferEP16AudioQueueBufferjPK28AudioStreamPacketDescriptionjjjPK24AudioQueueParameterEventRK11AQTimeStampPS8_     fun:AQServer_EnqueueBuffer     fun:AudioQueueEnqueueBufferWithParameters     fun:AudioQueueEnqueueBuffer     fun:_ZN28PCMQueueOutAudioOutputStream5StartEPN17AudioOutputStream19AudioSourceCallbackE     fun:_ZN17AudioRendererHost14IPCAudioSource4PlayEv  }    [       OK ] ResourceDispatcherTest.SniffHTMLWithNoContentType (232553 ms) </pre>