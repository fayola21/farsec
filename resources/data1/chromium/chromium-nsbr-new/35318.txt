<title>Issue 35318 -   chromium -    linux tests valgrind - downloadfile invalid write - Project Hosting on Google Code</title> <pre> 13:55:25 memcheck_analyze.py [ERROR] FAIL! There were 1 errors:   13:55:25 memcheck_analyze.py [ERROR] SyscallParam  Command: /b/slave/chromium-rel-linux-valgrind-tests-  3/build/src/sconsbuild/Release/chrome --no-first-run --no-default-browser-  check --enable-file-cookies --testing-  channel=ChromeTestingInterface:1420.31 --homepage=about:blank --disable-  web-resources --user-data-dir=/tmp/org.chromium.FqGpLk/test_user_data --  metrics-recording-only --enable-logging --test-  name=DownloadTest.FLAKY_UnknownSize  Syscall param write(buf) points to uninitialised byte(s)    0x489E91B (/lib/tls/i686/cmov/libpthread-2.7.so)    net::FileStream::Write(char const*  int  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*)   (uilder/build/src/net/base/file_stream_posix.cc:439)    DownloadFile::AppendDataToFile(char const*  int)   (uilder/build/src/chrome/browser/download/download_file.cc:88)    DownloadFileManager::UpdateDownload(int  DownloadBuffer*)   (uilder/build/src/chrome/browser/download/download_file.cc:309)    void DispatchToMethod&lt;DownloadFileManager  void   (DownloadFileManager::*)(int  DownloadBuffer*)  int    DownloadBuffer*&gt;(DownloadFileManager*  void (DownloadFileManager::*)(int    DownloadBuffer*)  Tuple2&lt;int  DownloadBuffer*&gt; const&amp;)   (uilder/build/src/base/tuple.h:429)    RunnableMethod&lt;DownloadFileManager  void (DownloadFileManager::*)(int    DownloadBuffer*)  Tuple2&lt;int  DownloadBuffer*&gt; &gt;::Run()   (uilder/build/src/base/task.h:289)    MessageLoop::RunTask(Task*) (uilder/build/src/base/message_loop.cc:320)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)   (uilder/build/src/base/message_loop.cc:328)    MessageLoop::DoWork() (uilder/build/src/base/message_loop.cc:435)    base::MessagePumpLibevent::Run(base::MessagePump::Delegate*)   (uilder/build/src/base/message_pump_libevent.cc:241)    MessageLoop::RunInternal() (uilder/build/src/base/message_loop.cc:205)    MessageLoop::RunHandler() (uilder/build/src/base/message_loop.cc:177)    MessageLoop::Run() (uilder/build/src/base/message_loop.cc:155)    base::Thread::Run(MessageLoop*) (uilder/build/src/base/thread.cc:133)    base::Thread::ThreadMain() (uilder/build/src/base/thread.cc:155)    ThreadFunc(void*) (uilder/build/src/base/platform_thread_posix.cc:26)    start_thread (/lib/tls/i686/cmov/libpthread-2.7.so)  Address 0xbf9b6a0 is 0 bytes inside a block of size 32 768 alloc'd    operator new[](unsigned int) (mp/chromium-valgrind-  binaries/scripts/valgrind-  source/coregrind/m_replacemalloc/vg_replace_malloc.c:277)    net::IOBuffer::IOBuffer(int) (uilder/build/src/net/base/io_buffer.cc:13)    DownloadResourceHandler::OnWillRead(int  net::IOBuffer**  int*  int)   (uilder/build/src/chrome/browser/renderer_host/download_resource_handler.cc  :91)    DownloadThrottlingResourceHandler::OnWillRead(int  net::IOBuffer**  int*    int)   (uilder/build/src/chrome/browser/renderer_host/download_throttling_resource  _handler.cc:72)    BufferedResourceHandler::OnWillRead(int  net::IOBuffer**  int*  int)   (uilder/build/src/chrome/browser/renderer_host/buffered_resource_handler.cc  :118)    ResourceDispatcherHost::Read(URLRequest*  int*)   (uilder/build/src/chrome/browser/renderer_host/resource_dispatcher_host.cc:  1247)    ResourceDispatcherHost::OnReadCompleted(URLRequest*  int)   (uilder/build/src/chrome/browser/renderer_host/resource_dispatcher_host.cc:  1273)    ResourceDispatcherHost::ResumeRequest(GlobalRequestID const&amp;)   (uilder/build/src/chrome/browser/renderer_host/resource_dispatcher_host.cc:  1220)    void DispatchToMethod&lt;ResourceDispatcherHost  void   (ResourceDispatcherHost::*)(GlobalRequestID const&amp;)    GlobalRequestID&gt;(ResourceDispatcherHost*  void   (ResourceDispatcherHost::*)(GlobalRequestID const&amp;)    Tuple1&lt;GlobalRequestID&gt; const&amp;) (uilder/build/src/base/tuple.h:422)    ScopedRunnableMethodFactory&lt;ResourceDispatcherHost&gt;::RunnableMethod&lt;void   (ResourceDispatcherHost::*)(GlobalRequestID const&amp;)    Tuple1&lt;GlobalRequestID&gt; &gt;::Run() (uilder/build/src/base/task.h:150)    MessageLoop::RunTask(Task*) (uilder/build/src/base/message_loop.cc:320)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)   (uilder/build/src/base/message_loop.cc:328)    MessageLoop::DoWork() (uilder/build/src/base/message_loop.cc:435)    base::MessagePumpLibevent::Run(base::MessagePump::Delegate*)   (uilder/build/src/base/message_pump_libevent.cc:241)    MessageLoop::RunInternal() (uilder/build/src/base/message_loop.cc:205)    MessageLoop::RunHandler() (uilder/build/src/base/message_loop.cc:177)    MessageLoop::Run() (uilder/build/src/base/message_loop.cc:155)    base::Thread::Run(MessageLoop*) (uilder/build/src/base/thread.cc:133)    base::Thread::ThreadMain() (uilder/build/src/base/thread.cc:155)    ThreadFunc(void*) (uilder/build/src/base/platform_thread_posix.cc:26)    start_thread (/lib/tls/i686/cmov/libpthread-2.7.so)    probably caused by <a href="/p/chromium/source/detail?r=38628">r38628</a>  but maybe related to <a href="/p/chromium/source/detail?r=38630">r38630</a> </pre>