<title>Issue 24551 -   chromium -    Bubble (status bubble  pop-up blocker) background is blue instead of gray with default theme - Project Hosting on Google Code</title> <pre>   1. Use the default theme.  2. Hover over some links  or get some pop-ups blocked.      Expect: the status bubble or pop-up blocker bubble should have a gray   background.  It does in 4.0.221.8 (221 branch <a href="/p/chromium/source/detail?r=28160">r28160</a>; the 221 branch was   cut from trunk <a href="/p/chromium/source/detail?r=28091">r28091</a>).  Observe: a blue background.  This looks suspiciously like the same blue   used for this purpose on Windows with the default theme.  I am seeing this   in trunk <a href="/p/chromium/source/detail?r=28672">r28672</a>.    This is a new regression.  I suspect that it occurred with the update from   GTM <a href="/p/chromium/source/detail?r=226">r226</a> to <a href="/p/chromium/source/detail?r=230">r230</a>  at our trunk <a href="/p/chromium/source/detail?r=28613">r28613</a>.    The attached image shows a status bubble from 4.0.221.8 on top (gray    the original behavior) and <a href="/p/chromium/source/detail?r=28672">r28672</a> on bottom (blue  regression).    From -[BubbleView drawRect:]   (chrome/browser/cocoa/bubble_view.mm:92):      // workaround for default theme    // TODO(alcor) next GTM update return nil for background color if not   set;    if ([color isEqual:[NSColor colorWithCalibratedWhite:0.5 alpha:1.0]])      color = nil;    if (!color)      color = [NSColor colorWithCalibratedWhite:0.9 alpha:1.0];    [color set];    [border fill];    When we reach this code at <a href="/p/chromium/source/detail?r=28672">r28672</a>  neither condition evaluates to true.  In   the past  I believe we were setting color to [NSColor   colorWithCalibratedWhite:0.9 alpha:1.0].  I have no clue what Cole's   comment actually means. </pre>