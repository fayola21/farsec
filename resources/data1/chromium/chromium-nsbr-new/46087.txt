<title>Issue 46087 -   chromium -    WebKitThreadTest.ExposedInChromeThread causes assert in subsequent test - Project Hosting on Google Code</title> <pre> Run WebKitThreadTest.ExposedInChromeThread  followed by RenderViewTest.ExtensionMessagesOpenChannel on Windows (Debug).    Expect both to pass.  The latter asserts (see below).    I'm not sure if this is a WebKit bug  or a test bug  but I've disabled ExposedInChromeThread for now  which gets rid of the assert.  Someone more wise in the ways of WebKit threading should probably look into this.    [ RUN      ] RenderViewTest.ExtensionMessagesOpenChannel  ASSERTION FAILED: isMainThread()  (d:srcchromium2srcthird_partyWebKitWebCoreplatformTreeShared.h:38 WebCor  e::TreeShared&lt;class WebCore::Node&gt;::TreeShared)  Backtrace:          WebCore::TreeShared&lt;WebCore::Node&gt;::TreeShared&lt;WebCore::Node&gt; [0x02C6AAA  A+90] (d:srcchromium2srcthird_partywebkitwebcoreplatformtreeshared.h:38)            WebCore::Node::Node [0x02C55C01+49] (d:srcchromium2srcthird_partywe  bkitwebcoredomdocument.h:1280)          WebCore::ContainerNode::ContainerNode [0x02C5596E+30] (d:srcchromium2  srcthird_partywebkitwebcoredomcontainernode.h:107)          WebCore::Document::Document [0x02C54F0A+42] (d:srcchromium2srcthird_  partywebkitwebcoredomdocument.cpp:403)          WebCore::HTMLDocument::HTMLDocument [0x02F6185E+30] (d:srcchromium2sr  cthird_partywebkitwebcorehtmlhtmldocument.cpp:86)          WebCore::HTMLDocument::create [0x02FD48A6+54] (d:srcchromium2srcthir  d_partywebkitwebcorehtmlhtmldocument.h:40)          WebCore::DOMImplementation::createDocument [0x02FD4950+112] (d:srcchro  mium2srcthird_partywebkitwebcoredomdomimplementation.cpp:312)          WebCore::DocumentWriter::createDocument [0x02D1C5D8+280] (d:srcchromiu  m2srcthird_partywebkitwebcoreloaderdocumentwriter.cpp:88)          WebCore::DocumentWriter::begin [0x02D1C7E4+52] (d:srcchromium2srcthi  rd_partywebkitwebcoreloaderdocumentwriter.cpp:99)          WebCore::FrameLoader::init [0x02CF8B39+441] (d:srcchromium2srcthird_  partywebkitwebcoreloaderframeloader.cpp:251)          WebCore::Frame::init [0x01853F99+25] (d:srcchromium2srcthird_partyw  ebkitwebcorepageframe.h:370)          WebKit::WebFrameImpl::initializeAsMainFrame [0x01853EC6+118] (d:srcchr  omium2srcthird_partywebkitwebkitchromiumsrcwebframeimpl.cpp:1712)          WebKit::WebViewImpl::initializeMainFrame [0x0188C1B1+81] (d:srcchromiu  m2srcthird_partywebkitwebkitchromiumsrcwebviewimpl.cpp:209)          RenderView::Init [0x01D315D4+660] (d:srcchromium2srcchromerenderer  render_view.cc:533)          RenderView::Create [0x01D30E9B+267] (d:srcchromium2srcchromerendere  rrender_view.cc:479)          RenderViewTest::SetUp [0x0049A159+841] (d:srcchromium2srcchrometest  render_view_test.cc:111)          testing::Test::Run [0x01BC7793+163] (d:srcchromium2srctestinggtest  srcgtest.cc:2060)          testing::internal::TestInfoImpl::Run [0x01BC84D3+339] (d:srcchromium2  srctestinggtestsrcgtest.cc:2318)          testing::TestCase::Run [0x01BC8A71+241] (d:srcchromium2srctestinggt  estsrcgtest.cc:2421)          testing::internal::UnitTestImpl::RunAllTests [0x01BCDE43+643] (d:srcch  romium2srctestinggtestsrcgtest.cc:4025)          testing::UnitTest::Run [0x01BCCA36+182] (d:srcchromium2srctestinggt  estsrcgtest.cc:3677)          TestSuite::Run [0x01D0B3CE+238] (d:srcchromium2srcbasetesttest_sui  te.h:137)          main [0x01D0B2B6+54] (d:srcchromium2srcchrometestunitrun_all_unit  tests.cc:8)          __tmainCRTStartup [0x00FDD8EF+251] (f:ddvctoolscrt_bldself_x86crts  rccrt0.c:266)          BaseThreadInitThunk [0x75493677+18]          RtlInitializeExceptionChain [0x77439D72+99]          RtlInitializeExceptionChain [0x77439D45+54]   </pre>