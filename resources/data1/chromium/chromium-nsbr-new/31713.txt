<title>Issue 31713 -   chromium -    OOM w/in profile sync. - Project Hosting on Google Code</title> <pre> http://crash/reportdetail?reportid=4a9fb1288c2d9e7c is an OOM case where the interesting bit on the stack looks like ProfileSyncService::OnUserAcceptedMergeAndSync().    Note that <a title="Memory leak on bookmarks import" class=closed_ref href="/p/chromium/issues/detail?id=29802"> Issue 29802 </a> is an OOM which happens in bookmark importing.  It may be that there is a general problem with bookmarks  not either specific client.    0x0052f0e4	 [Google Chrome Framework	 - debug_util_posix.cc:192]	DebugUtil::BreakDebugger()  0x00545773	 [Google Chrome Framework	 - process_util_mac.mm:377]	base::(anonymous namespace)::oom_killer_malloc(_malloc_zone_t*  unsigned long)  0x93994987	 [libSystem.B.dylib	 + 0x00004987]	malloc_zone_malloc  0x91e61002	 [CoreFoundation	 + 0x00003002]	_CFRuntimeCreateInstance  0x91e60dfa	 [CoreFoundation	 + 0x00002dfa]	CFBasicHashCreate  0x91e62ea7	 [CoreFoundation	 + 0x00004ea7]	__CFDictionaryCreateGeneric  0x91e62c80	 [CoreFoundation	 + 0x00004c80]	CFDictionaryCreateMutable  0x92435a3e	 [AppKit	 + 0x00056a3e]	-[NSLayoutManager _commonInit]  0x924357c5	 [AppKit	 + 0x000567c5]	-[NSLayoutManager init]  0x0055fc16	 [Google Chrome Framework	 - font_mac.mm:38]	gfx::Font::calculateMetrics()  0x0055fe3d	 [Google Chrome Framework	 - font_mac.mm:24]	gfx::Font::CreateFont(std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  int)  0x001218a4	 [Google Chrome Framework	 - bookmark_menu_cocoa_controller.mm:30]	+[BookmarkMenuCocoaController menuTitleForNode:]  0x00120d68	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:175]	BookmarkMenuBridge::AddNodeToMenu(BookmarkNode const*  NSMenu*)  0x00120eaa	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:184]	BookmarkMenuBridge::AddNodeToMenu(BookmarkNode const*  NSMenu*)  0x00120eaa	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:184]	BookmarkMenuBridge::AddNodeToMenu(BookmarkNode const*  NSMenu*)  0x00120eaa	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:184]	BookmarkMenuBridge::AddNodeToMenu(BookmarkNode const*  NSMenu*)  0x00120eaa	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:184]	BookmarkMenuBridge::AddNodeToMenu(BookmarkNode const*  NSMenu*)  0x001210d2	 [Google Chrome Framework	 - bookmark_menu_bridge.mm:60]	BookmarkMenuBridge::Loaded(BookmarkModel*)  0x000c37eb	 [Google Chrome Framework	 - bookmark_model.cc:574]	BookmarkModel::AddNode(BookmarkNode*  int  BookmarkNode*  bool)  0x000c3a32	 [Google Chrome Framework	 - bookmark_model.cc:342]	BookmarkModel::AddURLWithCreationTime(BookmarkNode const*  int  std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  GURL const&amp;  base::Time const&amp;)  0x000c3a8e	 [Google Chrome Framework	 - bookmark_model.cc:312]	BookmarkModel::AddURLWithCreationTime(BookmarkNode const*  int  std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  GURL const&amp;  base::Time const&amp;)  0x003fb712	 [Google Chrome Framework	 - bookmark_change_processor.cc:489]	browser_sync::BookmarkChangeProcessor::CreateBookmarkNode(sync_api::BaseNode*  BookmarkNode const*  BookmarkModel*  int)  0x003fee35	 [Google Chrome Framework	 - bookmark_model_associator.cc:395]	browser_sync::BookmarkModelAssociator::BuildAssociations()  0x003ff41a	 [Google Chrome Framework	 - bookmark_model_associator.cc:303]	browser_sync::BookmarkModelAssociator::AssociateModels()  0x0040840a	 [Google Chrome Framework	 - ../chrome/browser/sync/glue/model_associator.h:106]	browser_sync::ModelAssociator::AssociateModels()  0x0040610e	 [Google Chrome Framework	 - profile_sync_service.cc:388]	ProfileSyncService::OnUserAcceptedMergeAndSync()  0x00184b4d	 [Google Chrome Framework	 - ../base/task.h:528]	DOMUI::ProcessDOMUIMessage(std::string const&amp;  Value const*  int  bool)  0x00355ba3	 [Google Chrome Framework	 - render_view_host.cc:1268]	RenderViewHost::OnMsgDOMUISend(std::string const&amp;  std::string const&amp;)  0x0035c4ea	 [Google Chrome Framework	 - ../base/tuple.h:429]	RenderViewHost::OnMessageReceived(IPC::Message const&amp;)  0x003441b2	 [Google Chrome Framework	 - browser_render_process_host.cc:777]	BrowserRenderProcessHost::OnMessageReceived(IPC::Message const&amp;)  ...... (1 stack frames dropped.)  0x0053fd5a	 [Google Chrome Framework	 - message_loop.cc:320]	MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)  0x005406aa	 [Google Chrome Framework	 - message_loop.cc:435]	MessageLoop::DoWork()  0x0051ccd3	 [Google Chrome Framework	 - message_pump_mac.mm:291]	base::MessagePumpCFRunLoopBase::RunWorkSource(void*)  0x91e9c8ca	 [CoreFoundation	 + 0x0003e8ca]	__CFRunLoopDoSources0  0x91e9a38e	 [CoreFoundation	 + 0x0003c38e]	__CFRunLoopRun  0x91e99863	 [CoreFoundation	 + 0x0003b863]	CFRunLoopRunSpecific  0x91e99690	 [CoreFoundation	 + 0x0003b690]	CFRunLoopRunInMode  0x97269f0b	 [HIToolbox	 + 0x00034f0b]	RunCurrentEventLoopInMode  0x97269cc2	 [HIToolbox	 + 0x00034cc2]	ReceiveNextEventCommon  0x97269b47	 [HIToolbox	 + 0x00034b47]	BlockUntilNextEventMatchingListInMode  0x92427ac4	 [AppKit	 + 0x00048ac4]	_DPSNextEvent  0x92427305	 [AppKit	 + 0x00048305]	-[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:]  0x923e949e	 [AppKit	 + 0x0000a49e]	-[NSApplication run]  0x0051c77c	 [Google Chrome Framework	 - message_pump_mac.mm:677]	base::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*)  0x0051bf05	 [Google Chrome Framework	 - message_pump_mac.mm:213]	base::MessagePumpCFRunLoopBase::Run(base::MessagePump::Delegate*)  0x0053fca3	 [Google Chrome Framework	 - message_loop.cc:205]	MessageLoop::Run()  0x000e6e42	 [Google Chrome Framework	 - browser_main.cc:163]	BrowserMain(MainFunctionParams const&amp;)  0x0000ae03	 [Google Chrome Framework	 - chrome_dll_main.cc:744]	ChromeMain  0x00001fc5	 [Google Chrome	 + 0x00000fc5]	 </pre>