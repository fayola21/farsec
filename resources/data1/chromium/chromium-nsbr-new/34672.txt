<title>Issue 34672 -   chromium -    New leak in 54340:54361 Webkit Roll? - Project Hosting on Google Code</title> <pre> From a valgrind test run that includes <a href="/p/chromium/source/detail?r=38140">r38140</a>:    20 bytes in 1 blocks are definitely lost in loss record 259 of 1 129    operator new(unsigned int) (mp/chromium-valgrind-  binaries/scripts/valgrind-  source/coregrind/m_replacemalloc/vg_replace_malloc.c:228)    __gnu_cxx::new_allocator&lt;std::_Rb_tree_node&lt;WebKit::WebString&gt;   &gt;::allocate(unsigned int  void const*)   (sr/include/c++/4.2/ext/new_allocator.h:91)    std::_Rb_tree&lt;WebKit::WebString  WebKit::WebString    std::_Identity&lt;WebKit::WebString&gt;  PageTranslator::WebStringCompare    std::allocator&lt;WebKit::WebString&gt; &gt;::_M_get_node()   (sr/include/c++/4.2/bits/stl_tree.h:367)    std::_Rb_tree&lt;WebKit::WebString  WebKit::WebString    std::_Identity&lt;WebKit::WebString&gt;  PageTranslator::WebStringCompare    std::allocator&lt;WebKit::WebString&gt; &gt;::_M_create_node(WebKit::WebString   const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:376)    std::_Rb_tree&lt;WebKit::WebString  WebKit::WebString    std::_Identity&lt;WebKit::WebString&gt;  PageTranslator::WebStringCompare    std::allocator&lt;WebKit::WebString&gt; &gt;::_M_insert(std::_Rb_tree_node_base*    std::_Rb_tree_node_base*  WebKit::WebString const&amp;)   (sr/include/c++/4.2/bits/stl_tree.h:838)    std::_Rb_tree&lt;WebKit::WebString  WebKit::WebString    std::_Identity&lt;WebKit::WebString&gt;  PageTranslator::WebStringCompare    std::allocator&lt;WebKit::WebString&gt; &gt;::_M_insert_unique(WebKit::WebString   const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:990)    std::set&lt;WebKit::WebString  PageTranslator::WebStringCompare    std::allocator&lt;WebKit::WebString&gt; &gt;::insert(WebKit::WebString const&amp;)   (sr/include/c++/4.2/bits/stl_set.h:307)    PageTranslator::PageTranslator(TextTranslator*    PageTranslator::PageTranslatorDelegate*)   (uilder/build/src/chrome/renderer/translate/page_translator.cc:56)    RenderView::RenderView(RenderThreadBase*  WebPreferences const&amp;  long   long) (uilder/build/src/chrome/renderer/render_view.cc:316)    RenderView::Create(RenderThreadBase*  int  int  RendererPreferences   const&amp;  WebPreferences const&amp;  base::RefCountedData&lt;int&gt;*  int  long long)   (uilder/build/src/chrome/renderer/render_view.cc:377)    RenderThread::OnCreateNewView(ViewMsg_New_Params const&amp;)   (uilder/build/src/chrome/renderer/render_thread.cc:459)    void DispatchToMethod&lt;RenderThread  void   (RenderThread::*)(ViewMsg_New_Params const&amp;)    ViewMsg_New_Params&gt;(RenderThread*  void   (RenderThread::*)(ViewMsg_New_Params const&amp;)  Tuple1&lt;ViewMsg_New_Params&gt;   const&amp;) (uilder/build/src/base/tuple.h:422)    bool IPC::MessageWithTuple&lt;Tuple1&lt;ViewMsg_New_Params&gt;   &gt;::Dispatch&lt;RenderThread  void (RenderThread::*)(ViewMsg_New_Params   const&amp;)&gt;(IPC::Message const*  RenderThread*  void   (RenderThread::*)(ViewMsg_New_Params const&amp;))   (uilder/build/src/ipc/ipc_message_utils.h:992)    RenderThread::OnControlMessageReceived(IPC::Message const&amp;)   (uilder/build/src/chrome/renderer/render_thread.cc:383)    ChildThread::OnMessageReceived(IPC::Message const&amp;)   (uilder/build/src/chrome/common/child_thread.cc:129)    IPC::ChannelProxy::Context::OnDispatchMessage(IPC::Message const&amp;)   (uilder/build/src/ipc/ipc_channel_proxy.cc:204)    void DispatchToMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)    IPC::Message&gt;(IPC::ChannelProxy::Context*  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;   const&amp;) (uilder/build/src/base/tuple.h:422)    RunnableMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;   &gt;::Run() (uilder/build/src/base/task.h:289)    MessageLoop::RunTask(Task*) (uilder/build/src/base/message_loop.cc:320)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)   (uilder/build/src/base/message_loop.cc:328)    MessageLoop::DoWork() (uilder/build/src/base/message_loop.cc:435)    base::MessagePumpDefault::Run(base::MessagePump::Delegate*)   (uilder/build/src/base/message_pump_default.cc:23)    MessageLoop::RunInternal() (uilder/build/src/base/message_loop.cc:205)    MessageLoop::RunHandler() (uilder/build/src/base/message_loop.cc:177)    MessageLoop::Run() (uilder/build/src/base/message_loop.cc:155)    RendererMain(MainFunctionParams const&amp;)   (uilder/build/src/chrome/renderer/renderer_main.cc:277)    ChromeMain (uilder/build/src/chrome/app/chrome_dll_main.cc:708)    main (uilder/build/src/chrome/app/chrome_exe_main_gtk.cc:52)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*       fun:_ZN9__gnu_cxx13new_allocatorISt13_Rb_tree_nodeIN6WebKit9WebStringEEE8al  locateEjPKv       fun:_ZNSt8_Rb_treeIN6WebKit9WebStringES1_St9_IdentityIS1_EN14PageTranslator  16WebStringCompareESaIS1_EE11_M_get_nodeEv       fun:_ZNSt8_Rb_treeIN6WebKit9WebStringES1_St9_IdentityIS1_EN14PageTranslator  16WebStringCompareESaIS1_EE14_M_create_nodeERKS1_       fun:_ZNSt8_Rb_treeIN6WebKit9WebStringES1_St9_IdentityIS1_EN14PageTranslator  16WebStringCompareESaIS1_EE9_M_insertEPSt18_Rb_tree_node_baseS9_RKS1_       fun:_ZNSt8_Rb_treeIN6WebKit9WebStringES1_St9_IdentityIS1_EN14PageTranslator  16WebStringCompareESaIS1_EE16_M_insert_uniqueERKS1_       fun:_ZNSt3setIN6WebKit9WebStringEN14PageTranslator16WebStringCompareESaIS1_  EE6insertERKS1_     fun:_ZN14PageTranslatorC1EP14TextTranslatorPNS_22PageTranslatorDelegateE     fun:_ZN10RenderViewC1EP16RenderThreadBaseRK14WebPreferencesx       fun:_ZN10RenderView6CreateEP16RenderThreadBaseiiRK19RendererPreferencesRK14  WebPreferencesPN4base14RefCountedDataIiEEix     fun:_ZN12RenderThread15OnCreateNewViewERK18ViewMsg_New_Params       fun:_Z16DispatchToMethodI12RenderThreadMS0_FvRK18ViewMsg_New_ParamsES1_EvPT  _T0_RK6Tuple1IT1_E       fun:_ZN3IPC16MessageWithTupleI6Tuple1I18ViewMsg_New_ParamsEE8DispatchI12Ren  derThreadMS6_FvRKS2_EEEbPKNS_7MessageEPT_T0_     fun:_ZN12RenderThread24OnControlMessageReceivedERKN3IPC7MessageE     fun:_ZN11ChildThread17OnMessageReceivedERKN3IPC7MessageE     fun:_ZN3IPC12ChannelProxy7Context17OnDispatchMessageERKNS_7MessageE       fun:_Z16DispatchToMethodIN3IPC12ChannelProxy7ContextEMS2_FvRKNS0_7MessageEE  S3_EvPT_T0_RK6Tuple1IT1_E       fun:_ZN14RunnableMethodIN3IPC12ChannelProxy7ContextEMS2_FvRKNS0_7MessageEE6  Tuple1IS3_EE3RunEv     fun:_ZN11MessageLoop7RunTaskEP4Task     fun:_ZN11MessageLoop21DeferOrRunPendingTaskERKNS_11PendingTaskE     fun:_ZN11MessageLoop6DoWorkEv     fun:_ZN4base18MessagePumpDefault3RunEPNS_11MessagePump8DelegateE  }    The tests that ran were:    AutomatedUITestBase.FLAKY_CloseBrowserWindow  AutomatedUITestBase.OpenNewTab  AutomatedUITestBase.ShowHistory  AutomationProxyTest.AcceleratorNewTab  AutomationProxyTest.GetActiveTabIndex  AutomationProxyTest.GoBackForward  AutomationProxyTest4.BooleanValueIsEchoedByDomAutomationController  AutomationProxyVisibleTest.AppendTab  BrowserEncodingTest.TestEncodingAutoDetect  DOMStorageTest.LocalStorageLayoutTests  DomCheckerTest.File  DownloadTest.FLAKY_ContentDisposition  ErrorPageTest.FLAKY_DNSError_GoBack1  ErrorPageTest.FLAKY_IFrameDNSError_Basic  ErrorPageTest.FLAKY_Page404  IFrameTest.InEmptyFrame  LocaleTestsHe.TestStart  LoginPromptTest.TestDigestAuth  NewTabUITest.UpdateUserPrefsVersion  ProcessSingletonLinuxTest.NotifyOtherProcessSuccess  RedirectTest.ServerReference  ResourceDispatcherTest.CrossSiteNavigationNonBuffered  ResourceDispatcherTest.SniffHTMLWithNoContentType  ResourceDispatcherTest.SniffNoContentTypeNoData  ResourceDispatcherTest.SyncXMLHttpRequest_Disallowed  SessionHistoryTest.FLAKY_HistorySearchXSS  SessionHistoryTest.FrameFormBackForward  ShowModalDialogTest.FLAKY_BasicTest  SunSpiderTest.Perf  UnloadTest.BrowserCloseTwoSecondUnloadAlert  UnloadTest.BrowserCloseUnload  UnloadTest.CrossSiteInfiniteUnloadAsync  ViewSourceTest.ViewSourceInPageMenuEnabledOnANormalPage  WorkerTest.FLAKY_WorkerWebSocketLayoutTests        <a href="http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrin">http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrin</a>  d)(2)/builds/3328/ </pre>