<title>Issue 30745 -   chromium -    Linux debug crash in LocationBarViewGtk - Project Hosting on Google Code</title> <pre> ToT build at revision: 34863.    Repro by opening a new tab  ctrl-l to go to omnibox quickly and start   typing while the content area is still loading.  Speed seems to be   important.  When the new tab page is already loaded  it seems to be fine.    [21239:21239:3561689614022:FATAL:chrome/browser/gtk/location_bar_view_gtk.c  c(629)] Check failed: false.    Program received signal SIGTRAP  Trace/breakpoint trap.  DebugUtil::BreakDebugger () at base/debug_util_posix.cc:184  184     }  (gdb) ba  #0  DebugUtil::BreakDebugger () at base/debug_util_posix.cc:184  #1  0x0000000000b6fc1a in ~LogMessage (this=0x7fffffff6e00    __in_chrg=&lt;value optimized out&gt;) at base/logging.cc:562  #2  0x0000000000877152 in LocationBarViewGtk::SetKeywordHintLabel   (this=0x7fffeb61e900  keyword=&quot;wiki&quot;) at   chrome/browser/gtk/location_bar_view_gtk.cc:629  #3  0x00000000008774fc in LocationBarViewGtk::OnChanged   (this=0x7fffeb61e900) at chrome/browser/gtk/location_bar_view_gtk.cc:339  #4  0x0000000000969919 in AutocompleteEditViewGtk::TextChanged   (this=0x7fffec7aa7e0) at   chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:1292  #5  0x0000000000969e30 in   AutocompleteEditViewGtk::OnInlineAutocompleteTextMaybeChanged   (this=0x7fffec7aa7e0  display_text=&quot;wiki/&quot;  user_text_length=1)      at chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:463  #6  0x0000000000782416 in AutocompleteEditModel::OnPopupDataChanged   (this=0x7fffecfd0a80  text=&quot;iki/&quot;  is_temporary_text=false  keyword=&quot;wiki&quot;    is_keyword_hint=true       type=AutocompleteMatch::HISTORY_URL) at   chrome/browser/autocomplete/autocomplete_edit.cc:444  #7  0x0000000000782737 in AutocompleteEditModel::Observe   (this=0x7fffecfd0a80  type=...  source=...  details=...) at   chrome/browser/autocomplete/autocomplete_edit.cc:544  #8  0x0000000001eb1780 in NotificationService::Notify (this=0x7ffff7f11000    type=...  source=...  details=...) at   chrome/common/notification_service.cc:119  #9  0x0000000000777fb0 in AutocompleteController::UpdateLatestResult   (this=0x7fffed025c00  is_synchronous_pass=true) at   chrome/browser/autocomplete/autocomplete.cc:817  #10 0x0000000000779bc8 in AutocompleteController::Start   (this=0x7fffed025c00  text=&quot;w&quot;  desired_tld=&quot;&quot;    prevent_inline_autocomplete=false  prefer_keyword=false       synchronous_only=false) at   chrome/browser/autocomplete/autocomplete.cc:745  #11 0x0000000000784f49 in AutocompletePopupModel::StartAutocomplete   (this=0x7fffec9e5cc0  text=&quot;w&quot;  desired_tld=&quot;&quot;    prevent_inline_autocomplete=false       prefer_keyword=false) at   chrome/browser/autocomplete/autocomplete_popup_model.cc:54  #12 0x0000000000783169 in AutocompleteEditModel::StartAutocomplete   (this=0x7fffecfd0a80  prevent_inline_autocomplete=false)      at chrome/browser/autocomplete/autocomplete_edit.cc:185  #13 0x000000000096b933 in AutocompleteEditViewGtk::UpdatePopup   (this=0x7fffec7aa7e0) at   chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:434  #14 0x0000000000781e6f in AutocompleteEditModel::OnAfterPossibleChange   (this=0x7fffecfd0a80  new_text=&quot;w&quot;  selection_differs=true    text_differs=true       just_deleted_text=false  at_end_of_edit=true) at   chrome/browser/autocomplete/autocomplete_edit.cc:500  #15 0x000000000096b81c in AutocompleteEditViewGtk::OnAfterPossibleChange   (this=0x7fffec7aa7e0) at   chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:523  #16 0x0000000000969012 in AutocompleteEditViewGtk::HandleEndUserAction   (this=0x7fffec7aa7e0) at   chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:595  #17 0x000000000096d497 in AutocompleteEditViewGtk::HandleEndUserActionThunk   (unused=0x7fffed906d10  self=0x7fffec7aa7e0)      at ./chrome/browser/autocomplete/autocomplete_edit_view_gtk.h:130  #18 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffed02c5a0    return_value=0x0  n_param_values=1  param_values=0x7fffffff8170    invocation_hint=0x7fffffff8050)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #19 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffef1ad690    detail=0  instance=0x7fffed906d10  emission_return=0x0    instance_and_params=0x7fffffff8170)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2440  #20 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffed906d10  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff83f0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #21 0x00007ffff5f3a633 in IA__g_signal_emit (instance=0x7fffffff6710    signal_id=76  detail=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2243  #22 0x00007ffff70eb0b3 in gtk_text_view_commit_text   (text_view=0x7fffef1b6170  str=0x7fffec8cbd28 &quot;w&quot;) at   /build/buildd/gtk+2.0-2.12.9/gtk/gtktextview.c:7177  #23 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffecfc5de0    return_value=0x0  n_param_values=2  param_values=0x7fffffff8860    invocation_hint=0x7fffffff8740)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #24 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffef160960    detail=0  instance=0x7fffeb6c72d0  emission_return=0x0    instance_and_params=0x7fffffff8860)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2440  #25 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffeb6c72d0  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff8ae0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #26 0x00007ffff5f3a53f in IA__g_signal_emit_by_name   (instance=0x7fffeb6c72d0  detailed_signal=0x7ffff7186d2e &quot;commit&quot;)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2267  #27 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffed127660    return_value=0x0  n_param_values=2  param_values=0x7fffffff8ef0    invocation_hint=0x7fffffff8dd0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #28 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffef160960    detail=0  instance=0x7fffed123930  emission_return=0x0    instance_and_params=0x7fffffff8ef0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2440  #29 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffed123930  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff9170)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #30 0x00007ffff5f3a53f in IA__g_signal_emit_by_name   (instance=0x7fffed123930  detailed_signal=0x7fffed664e13 &quot;commit&quot;)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2267  #31 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffed9f5fc0    return_value=0x0  n_param_values=2  param_values=0x7fffffff9580    invocation_hint=0x7fffffff9460)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #32 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffef160960    detail=0  instance=0x7fffed8ca630  emission_return=0x0    instance_and_params=0x7fffffff9580)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2440  #33 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffed8ca630  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff9800)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #34 0x00007ffff5f3a53f in IA__g_signal_emit_by_name   (instance=0x7fffed8ca630  detailed_signal=0x7ffff7186d2e &quot;commit&quot;)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2267  #35 0x00007ffff7016424 in gtk_im_context_simple_commit_char   (context=0x7fffed8ca630  ch=119) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkimcontextsimple.c:1017  #36 0x00007ffff7016ded in no_sequence_matches (context=0x7fffed8ca630    event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkimcontextsimple.c:1253  #37 gtk_im_context_simple_filter_keypress (context=0x7fffed8ca630    event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkimcontextsimple.c:1529  #38 0x00007fffed65cd86 in ?? () from /usr/lib/gtk-2.0/2.10.0/immodules/im-  scim-bridge.so  #39 0x00007ffff70ed8f0 in gtk_text_view_key_press_event   (widget=0x7fffef1b6170  event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtktextview.c:4082  #40 0x000000000096b21a in AutocompleteEditViewGtk::HandleKeyPress   (this=0x7fffec7aa7e0  widget=0x7fffef1b6170  event=0x7fffeb1a4730)      at chrome/browser/autocomplete/autocomplete_edit_view_gtk.cc:680  #41 0x000000000096da27 in AutocompleteEditViewGtk::HandleKeyPressThunk   (widget=0x7fffef1b6170  event=0x7fffeb1a4730  self=0x7fffec7aa7e0)      at ./chrome/browser/autocomplete/autocomplete_edit_view_gtk.h:138  #42 0x00007ffff703687f in _gtk_marshal_BOOLEAN__BOXED   (closure=0x7fffed02c540  return_value=0x7fffffff9d70  n_param_values=&lt;value   optimized out&gt;        param_values=0x7fffffff9e50  invocation_hint=&lt;value optimized out&gt;    marshal_data=0x96da02) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkmarshalers.c:84  #43 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffed02c540    return_value=0x7fffffff9d70  n_param_values=2  param_values=0x7fffffff9e50        invocation_hint=0x7fffffff9d30) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gclosure.c:490  #44 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffefb5b190    detail=0  instance=0x7fffef1b6170  emission_return=0x7fffffffa070        instance_and_params=0x7fffffff9e50) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2440  #45 0x00007ffff5f39f6f in IA__g_signal_emit_valist   (instance=0x7fffef1b6170  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffffa0d0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2209  #46 0x00007ffff5f3a633 in IA__g_signal_emit (instance=0x7fffffff6710    signal_id=76  detail=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2243  #47 0x00007ffff713de55 in gtk_widget_event_internal (widget=0x7fffef1b6170    event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-2.12.9/gtk/gtkwidget.c:4678  #48 0x00007ffff714d6ed in IA__gtk_window_propagate_key_event   (window=0x7fffefb63a70  event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkwindow.c:4936  #49 0x0000000000538f43 in BrowserWindowGtk::OnKeyPress   (widget=0x7fffefb63a70  event=0x7fffeb1a4730  window=0x7fffedde8160)      at chrome/browser/gtk/browser_window_gtk.cc:2038  #50 0x00007ffff703687f in _gtk_marshal_BOOLEAN__BOXED   (closure=0x7fffecfd1f90  return_value=0x7fffffffa650  n_param_values=&lt;value   optimized out&gt;        param_values=0x7fffffffa730  invocation_hint=&lt;value optimized out&gt;    marshal_data=0x538e2c) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkmarshalers.c:84  #51 0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffecfd1f90    return_value=0x7fffffffa650  n_param_values=2  param_values=0x7fffffffa730        invocation_hint=0x7fffffffa610) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gclosure.c:490  #52 0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7fffefb5b190    detail=0  instance=0x7fffefb63a70  emission_return=0x7fffffffa950        instance_and_params=0x7fffffffa730) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2440  #53 0x00007ffff5f39f6f in IA__g_signal_emit_valist   (instance=0x7fffefb63a70  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffffa9b0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2209  #54 0x00007ffff5f3a633 in IA__g_signal_emit (instance=0x7fffffff6710    signal_id=76  detail=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2243  #55 0x00007ffff713de55 in gtk_widget_event_internal (widget=0x7fffefb63a70    event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-2.12.9/gtk/gtkwidget.c:4678  #56 0x00007ffff702fc4d in IA__gtk_propagate_event (widget=0x7fffefb63a70    event=0x7fffeb1a4730) at /build/buildd/gtk+2.0-2.12.9/gtk/gtkmain.c:2310  #57 0x00007ffff7030b35 in IA__gtk_main_do_event (event=0x7fffeb1a4730) at   /build/buildd/gtk+2.0-2.12.9/gtk/gtkmain.c:1556  #58 0x0000000000bbb240 in base::MessagePumpForUI::EventDispatcher   (event=0x7fffeb1a4730  data=0x7ffff7ec4780) at   base/message_pump_glib.cc:325  #59 0x00007ffff6c9a58c in gdk_event_dispatch (source=&lt;value optimized out&gt;    callback=&lt;value optimized out&gt;  user_data=&lt;value optimized out&gt;)      at /build/buildd/gtk+2.0-2.12.9/gdk/x11/gdkevents-x11.c:2351  #60 0x00007ffff5684384 in g_main_dispatch (context=0x7ffff7f0d9c0) at   /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2012  #61 IA__g_main_context_dispatch (context=0x7ffff7f0d9c0) at   /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2564  #62 0x00007ffff5687695 in g_main_context_iterate (context=0x7ffff7f0d9c0    block=1  dispatch=1  self=&lt;value optimized out&gt;)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2645  #63 0x00007ffff5687b7b in IA__g_main_context_iteration   (context=0x7ffff7f0d9c0  may_block=1) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/glib/gmain.c:2708  #64 0x0000000000bbb3ff in base::MessagePumpForUI::RunWithDispatcher   (this=0x7ffff7ec4780  delegate=0x7fffffffcaa0  dispatcher=0x0) at   base/message_pump_glib.cc:196  #65 0x0000000000bbc029 in base::MessagePumpForUI::Run (this=0x7ffff7ec4780    delegate=0x7fffffffcaa0) at ./base/message_pump_glib.h:59  #66 0x0000000000b72005 in MessageLoop::RunInternal (this=0x7fffffffcaa0) at   base/message_loop.cc:205  #67 0x0000000000b72025 in MessageLoop::RunHandler (this=0x7fffffffcaa0) at   base/message_loop.cc:177  #68 0x0000000000b72061 in MessageLoopForUI::Run (this=0x7fffffffcaa0    dispatcher=0x0) at base/message_loop.cc:606  #69 0x000000000045c658 in RunUIMessageLoop (browser_process=0x7ffff7ec6700)   at chrome/browser/browser_main.cc:163  #70 0x000000000045e3b3 in BrowserMain (parameters=...) at   chrome/browser/browser_main.cc:975  #71 0x00000000004018ec in ChromeMain (argc=2  argv=0x7fffffffe068) at   chrome/app/chrome_dll_main.cc:746  #72 0x0000000000400463 in main (argc=2  argv=0x7fffffffe068) at   chrome/app/chrome_exe_main_gtk.cc:52   </pre>