<title>Issue 27567 -   chromium -    StaticSocketDataProvider should not read beyond the end of the MockRead or MockWrite array - Project Hosting on Google Code</title> <pre> StaticSocketDataProvider (formerly StaticMockSocket) has a  MockRead array and a MockWrite array member:     private:    MockRead* reads_;    int read_index_;    MockWrite* writes_;    int write_index_;    but it doesn't know the lengths of these two arrays  so on test  failures it may read beyond the end of the arrays.  This makes  writing a test difficult because a programming mistake may cause  the test to fail with strange results.  For example  I've seen a  network error code of 0xcccccccc  which is the initial value of  memory in a debug build on Windows.    We should pass the sizes of the MockRead and MockWrite arrays to  StaticSocketDataProvider so it can do array bound checks and  fail with deterministic errors (e.g.  ERR_UNEXPECTED) if we read  beyond the ends of the arrays. </pre>