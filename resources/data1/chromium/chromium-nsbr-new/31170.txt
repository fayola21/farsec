<title>Issue 31170 -   chromium -    eBay extension browser action popup crashes browser - Project Hosting on Google Code</title> <pre> Chrome Version       : ToT @ <a href="/p/chromium/source/detail?r=35277">r35277</a>      1. Install the eBay extension (id khhckppjhonfmcpegdjdibmngahahhck )  2. Click on its browser action button        Dunno  probably some popup.        Crash:    [91197:2067:1203768213452166:FATAL:/Users/thakis/src/chrome-  git/src/chrome/common/notification_registrar.cc(43)] Check failed:   std::find(registered_.begin()  registered_.end()  record) ==   registered_.end(). Duplicate registration.    Program received signal SIGTRAP  Trace/breakpoint trap.  DebugUtil::BreakDebugger () at /Users/thakis/src/chrome-  git/src/base/debug_util_posix.cc:184  184	}  (gdb) bt  #0  DebugUtil::BreakDebugger () at /Users/thakis/src/chrome-  git/src/base/debug_util_posix.cc:184  #1  0x073a791e in logging::LogMessage::~LogMessage (this=0xbfffc5c0)   at /Users/thakis/src/chrome-git/src/base/logging.cc:562  #2  0x06c985fa in NotificationRegistrar::Add (this=0x20c64fcc    observer=0x20c64f34  type={value =   NotificationType::BROWSER_THEME_CHANGED}  source=@0xbfffc6ac) at   /Users/thakis/src/chrome-  git/src/chrome/common/notification_registrar.cc:42  #3  0x06f17319 in ExtensionHost::DocumentAvailableInMainFrame   (this=0x20c64f20  rvh=0x20c654b0) at /Users/thakis/src/chrome-  git/src/chrome/browser/extensions/extension_host.cc:366  #4  0x070e0e59 in   RenderViewHost::OnMsgDocumentAvailableInMainFrame   (this=0x20c654b0) at /Users/thakis/src/chrome-  git/src/chrome/browser/renderer_host/render_view_host.cc:1061  #5  0x070ea9f0 in IPC::Message::Dispatch&lt;RenderViewHost&gt;   (msg=0x20c6b6dc  obj=0x20c654b0  func={__pfn = 0x70e0e2e   &lt;RenderViewHost::OnMsgDocumentAvailableInMainFrame()&gt;  __delta = 0})   at ipc_message.h:134  #6  0x070e95d3 in RenderViewHost::OnMessageReceived   (this=0x20c654b0  msg=@0x20c6b6dc) at /Users/thakis/src/chrome-  git/src/chrome/browser/renderer_host/render_view_host.cc:747  #7  0x070c7057 in BrowserRenderProcessHost::OnMessageReceived   (this=0x15d430  msg=@0x20c6b6dc) at /Users/thakis/src/chrome-  git/src/chrome/browser/renderer_host/browser_render_process_host.cc:7  79  #8  0x07a3a314 in IPC::ChannelProxy::Context::OnDispatchMessage   (this=0x1df1c0  message=@0x20c6b6dc) at /Users/thakis/src/chrome-  git/src/ipc/ipc_channel_proxy.cc:204  #9  0x07a3b3c9 in DispatchToMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  IPC::Message&gt;   (obj=0x1df1c0  method={__pfn = 0x7a3a284   &lt;IPC::ChannelProxy::Context::OnDispatchMessage(IPC::Message const&amp;)&gt;    __delta = 0}  arg=@0x20c6b6dc) at tuple.h:422  #10 0x07a3b405 in RunnableMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)    Tuple1&lt;IPC::Message&gt; &gt;::Run (this=0x20c6b6c0) at task.h:289  #11 0x073aaa42 in MessageLoop::RunTask (this=0xbfffddc8    task=0x20c6b6c0) at /Users/thakis/src/chrome-  git/src/base/message_loop.cc:320  #12 0x073ab145 in MessageLoop::DeferOrRunPendingTask   (this=0xbfffddc8  pending_task=@0xbfffcccc) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:328  #13 0x073ab3d5 in MessageLoop::DoWork (this=0xbfffddc8) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:435  #14 0x0737432a in base::MessagePumpCFRunLoopBase::RunWork   (this=0x13ce20) at /Users/thakis/src/chrome-  git/src/base/message_pump_mac.mm:291  #15 0x0737436f in base::MessagePumpCFRunLoopBase::RunWorkSource   (info=0x13ce20) at /Users/thakis/src/chrome-  git/src/base/message_pump_mac.mm:269  #16 0x95d8840f in CFRunLoopRunSpecific ()  #17 0x95d88aa8 in CFRunLoopRunInMode ()  #18 0x9038a2ac in RunCurrentEventLoopInMode ()  #19 0x90389ffe in ReceiveNextEventCommon ()  #20 0x90389f39 in BlockUntilNextEventMatchingListInMode ()  #21 0x924fd6d5 in _DPSNextEvent ()  #22 0x924fcf88 in -[NSApplication   nextEventMatchingMask:untilDate:inMode:dequeue:] ()  #23 0x924f5f9f in -[NSApplication run] ()  #24 0x07373e6c in base::MessagePumpNSApplication::DoRun   (this=0x13ce20  delegate=0xbfffddc8) at /Users/thakis/src/chrome-  git/src/base/message_pump_mac.mm:677  #25 0x0737445b in base::MessagePumpCFRunLoopBase::Run   (this=0x13ce20  delegate=0xbfffddc8) at /Users/thakis/src/chrome-  git/src/base/message_pump_mac.mm:213  #26 0x073ab9d2 in MessageLoop::RunInternal (this=0xbfffddc8) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:205  #27 0x073ab9ed in MessageLoop::RunHandler (this=0xbfffddc8) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:177  #28 0x073aba51 in MessageLoop::Run (this=0xbfffddc8) at   /Users/thakis/src/chrome-git/src/base/message_loop.cc:155  #29 0x06d837fb in (anonymous namespace)::RunUIMessageLoop   (browser_process=0x147190) at /Users/thakis/src/chrome-  git/src/chrome/browser/browser_main.cc:163  #30 0x06d858de in BrowserMain (parameters=@0xbfffea74) at   /Users/thakis/src/chrome-git/src/chrome/browser/browser_main.cc:917  #31 0x06c09fda in ChromeMain (argc=1  argv=0xbffff2e8) at   /Users/thakis/src/chrome-git/src/chrome/app/chrome_dll_main.cc:744  #32 0x00001ffe in main (argc=1  argv=0xbffff2e8) at   /Users/thakis/src/chrome-git/src/chrome/app/chrome_exe_main.mm:17  #33 0x00001fba in start ()  Current language:  auto; currently c++ </pre>