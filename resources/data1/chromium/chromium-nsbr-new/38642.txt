<title>Issue 38642 -   chromium -    official build startup gets profile directory wrong for some checks - Project Hosting on Google Code</title> <pre> I found this with a debug build  not sure how much is getting things wrong  but the DChecks helped trip it up.    1. Install and configure chrome  enable stats checking  2. Launch debug offical build  with --user-data-dir pointing some places else    You'll die in the first launch code because of a dcheck about breakpad being already initialized.    What's happening is:    chrome_dll_main.cc::ChromeMain() (line 536) calls InitCrashReporter()  InitCrashReporter() does this:    bool enable_breakpad =        is_browser ? GoogleUpdateSettings::GetCollectStatsConsent() :                     command_line-&gt;HasSwitch(switches::kEnableCrashReporter);    So we go into GoogleUpdateSettings::GetCollectStatsConsent().    google_update_settings_posix.cc has GoogleUpdateSettings::GetCollectStatsConsent().  That checks the &quot;Consent To Send   Stats&quot; file  but PathService::Get(chrome::DIR_USER_DATA  &amp;consent_file) call is giving back ~/Library/Application   Support/Google/Chrome/.      This happens because chrome_dll_main.cc line 614 seems to be where we actually check for the command line argument.   </pre>