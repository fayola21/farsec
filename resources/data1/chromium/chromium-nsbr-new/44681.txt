<title>Issue 44681 -   chromium -    NaCl needs better method to determine if it's running as a plugin - Project Hosting on Google Code</title> <pre> From srpc_client.cc:        uintptr_t npapi_ident =          PortablePluginInterface::GetStrIdentifierCallback(&quot;NP_Initialize&quot;);      if (methods_.find(npapi_ident) != methods_.end()) {        dprintf((&quot;SrpcClient::SrpcClient: Is an NPAPI pluginn&quot;));        ...    This is brittle; if any other internal plugin defiens NP_Initialize  nacl will think that it runs as a   plugin. NaCl should probably use a define instead (o3d uses O3D_INTERNAL_PLUGIN for example).    This bit me yesterday when i tried to get the default plugin running (which exports NP_Initialize). </pre>