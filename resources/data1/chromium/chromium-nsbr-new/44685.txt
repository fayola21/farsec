<title>Issue 44685 -   chromium -    Crash in ClientSocketPoolBaseHelper::MaybeOnAvailableSocketSlot - Project Hosting on Google Code</title> <pre> I'm seeing a crash that seems to occur sometimes when a TCPConnectJob  completes. The crash itself happens in STL code inside the call to  group_map_.find(group_name). Since group_map_ appears at the time of the  crash to be empty  I'm guessing that the state of the map may be corrupt.  The binary is crashing with an Access violation reading location  0x00000004  in the xtree header file (line 1264).    The crash occurs 5-10 seconds after I start a benchmarking run using Mike's  extension  but it looks unrelated to that because the request that is  causing the crash is for e.g. http://tvzwctcsdd:80     chrome.dll!std::_Tree&lt;std::_Tmap_traits&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; net::internal::ClientSocketPoolBaseHelper::Group std::less&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt;  &gt; std::allocator&lt;std::pair&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const  net::internal::ClientSocketPoolBaseHelper::Group&gt; &gt; 0&gt;  &gt;::_Lbound(const  std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt; &gt; &amp;  _Keyval=&quot;tvzwctcsdd:80&quot;)  Line 1264 + 0x8 bytes	C++     chrome.dll!std::_Tree&lt;std::_Tmap_traits&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; net::internal::ClientSocketPoolBaseHelper::Group std::less&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt;  &gt; std::allocator&lt;std::pair&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const  net::internal::ClientSocketPoolBaseHelper::Group&gt; &gt; 0&gt;  &gt;::lower_bound(const  std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt; &gt; &amp;  _Keyval=&quot;tvzwctcsdd:80&quot;)  Line 1004 + 0x10 bytes	C++     chrome.dll!std::_Tree&lt;std::_Tmap_traits&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; net::internal::ClientSocketPoolBaseHelper::Group std::less&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt;  &gt; std::allocator&lt;std::pair&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const  net::internal::ClientSocketPoolBaseHelper::Group&gt; &gt; 0&gt;  &gt;::find(const  std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt; &gt; &amp;  _Keyval=&quot;tvzwctcsdd:80&quot;)  Line 982	C++  &gt;  chrome.dll!net::internal::ClientSocketPoolBaseHelper::MaybeOnAvailableSocketSlot(const  std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt; &gt; &amp;  group_name=&quot;tvzwctcsdd:80&quot;)  Line 622	C++     chrome.dll!net::internal::ClientSocketPoolBaseHelper::OnConnectJobComplete(int  result=-105  net::ConnectJob * job=0x08654280)  Line 603	C++   	chrome.dll!net::ConnectJob::NotifyDelegateOfCompletion(int rv=-105)  Line  81 + 0x17 bytes	C++   	chrome.dll!net::TCPConnectJob::OnIOComplete(int result=-105)  Line 79	C++   	chrome.dll!DispatchToMethod&lt;net::TCPConnectJob void (__thiscall  net::TCPConnectJob::*)(int) int&gt;(net::TCPConnectJob * obj=0x08654280  void  (int)* method=0x61f4ec30  const Tuple1&lt;int&gt; &amp; arg={...})  Line 422 + 0xe  bytes	C++   	chrome.dll!CallbackImpl&lt;net::TCPConnectJob void (__thiscall  net::TCPConnectJob::*)(int) Tuple1&lt;int&gt; &gt;::RunWithParams(const Tuple1&lt;int&gt;  &amp; params={...})  Line 118 + 0x17 bytes	C++   	chrome.dll!CallbackRunner&lt;Tuple1&lt;int&gt; &gt;::Run&lt;int&gt;(const int &amp; a=-105)   Line 83 + 0x1c bytes	C++   	chrome.dll!net::SingleRequestHostResolver::OnResolveCompletion(int  result=-105)  Line 68	C++   	chrome.dll!DispatchToMethod&lt;net::SingleRequestHostResolver void  (__thiscall  net::SingleRequestHostResolver::*)(int) int&gt;(net::SingleRequestHostResolver  * obj=0x08654378  void (int)* method=0x620839d0  const Tuple1&lt;int&gt; &amp;  arg={...})  Line 422 + 0xe bytes	C++   	chrome.dll!CallbackImpl&lt;net::SingleRequestHostResolver void (__thiscall  net::SingleRequestHostResolver::*)(int) Tuple1&lt;int&gt; &gt;::RunWithParams(const  Tuple1&lt;int&gt; &amp; params={...})  Line 118 + 0x17 bytes	C++   	chrome.dll!CallbackRunner&lt;Tuple1&lt;int&gt; &gt;::Run&lt;int&gt;(const int &amp; a=-105)   Line 83 + 0x1c bytes	C++   	chrome.dll!net::HostResolverImpl::Request::OnComplete(int error=-105   const net::AddressList &amp; addrlist={...})  Line 209	C++     chrome.dll!net::HostResolverImpl::OnJobComplete(net::HostResolverImpl::Job  * job=0x07c4aea0  int net_error=-105  int os_error=11001  const  net::AddressList &amp; addrlist={...})  Line 976	C++   	chrome.dll!net::HostResolverImpl::Job::OnLookupComplete()  Line 418	C++   	chrome.dll!DispatchToMethod&lt;net::HostResolverImpl::Job void (__thiscall  net::HostResolverImpl::Job::*)(void)&gt;(net::HostResolverImpl::Job *  obj=0x07c4aea0  void (void)* method=0x6206e890  const Tuple0 &amp; arg={...})   Line 412 + 0x8 bytes	C++   	chrome.dll!RunnableMethod&lt;net::HostResolverImpl::Job void (__thiscall  net::HostResolverImpl::Job::*)(void) Tuple0&gt;::Run()  Line 296 + 0x1a bytes	C++   	chrome.dll!MessageLoop::RunTask(Task * task=0x031672d0)  Line 328 + 0xf  bytes	C++   	chrome.dll!MessageLoop::DeferOrRunPendingTask(const  MessageLoop::PendingTask &amp; pending_task={...})  Line 339	C++   	chrome.dll!MessageLoop::DoWork()  Line 443 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForIO::DoRunLoop()  Line 443 + 0x19 bytes	C++     chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * delegate=0x041ffe00  base::MessagePumpWin::Dispatcher *  dispatcher=0x00000000)  Line 52 + 0xf bytes	C++   	chrome.dll!base::MessagePumpWin::Run(base::MessagePump::Delegate *  delegate=0x041ffe00)  Line 78 + 0x1c bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 204 + 0x2a bytes	C++   	chrome.dll!MessageLoop::RunHandler()  Line 177	C++   	chrome.dll!MessageLoop::Run()  Line 155	C++   	chrome.dll!base::Thread::Run(MessageLoop * message_loop=0x041ffe00)   Line 134	C++   	chrome.dll!base::Thread::ThreadMain()  Line 157 + 0x16 bytes	C++   	chrome.dll!`anonymous namespace'::ThreadFunc(void * closure=0x030f2420)   Line 26 + 0xf bytes	C++   	kernel32.dll!767ae4a5() 	   	[Frames below may be incorrect and/or missing  no symbols loaded for  kernel32.dll]	   	ntdll.dll!7796cfed() 	   	ntdll.dll!7796d1ff() 	   </pre>