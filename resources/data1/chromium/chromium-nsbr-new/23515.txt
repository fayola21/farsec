<title>Issue 23515 -   chromium -    Linux valgrind leak in GetStandardPageMenu()  - Project Hosting on Google Code</title> <pre> Your CL: <a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=27666">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=27666</a>    Appears to be the source of new valgrind failures.  <a href="http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(3)/builds/2">http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(3)/builds/2</a>  73/steps/valgrind%20test:%20ui/logs/stdio    The stack for one leak is below.  Note in particular your CL changed GetStandardPageMenu() to take 2 args instead of 1  and   added an &quot;new MenuGtk()&quot; call at line 117 (where the leak is reported).  The previous version of   this function only took one arg to GetStandardPageMenu() and did not allocate anything.        operator new(unsigned int) (ome/chrome-bot/valgrind-10880-  redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:214)    GetStandardPageMenu(Profile*  MenuGtk::Delegate*)   (uilder/build/src/chrome/browser/gtk/standard_menus.cc:117)    BrowserToolbarGtk::Init(Profile*  _GtkWindow*)   (uilder/build/src/chrome/browser/gtk/browser_toolbar_gtk.cc:199)    BrowserWindowGtk::InitWidgets()   (uilder/build/src/chrome/browser/gtk/browser_window_gtk.cc:1609)    BrowserWindowGtk::BrowserWindowGtk(Browser*)   (uilder/build/src/chrome/browser/gtk/browser_window_gtk.cc:555)    BrowserWindow::CreateBrowserWindow(Browser*)   (uilder/build/src/chrome/browser/gtk/browser_window_factory_gtk.cc:12)    Browser::CreateBrowserWindow() (uilder/build/src/chrome/browser/browser.cc:232)    Browser::Create(Profile*) (uilder/build/src/chrome/browser/browser.cc:206)    BrowserInit::LaunchWithProfile::OpenURLsInBrowser(Browser*  bool  std::vector&lt;GURL    std::allocator&lt;GURL&gt; &gt; const&amp;) (uilder/build/src/chrome/browser/browser_init.cc:553)    BrowserInit::LaunchWithProfile::Launch(Profile*  bool)   (uilder/build/src/chrome/browser/browser_init.cc:444)    (anonymous namespace)::LaunchBrowser(CommandLine const&amp;  Profile*    std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  bool    int*  BrowserInit*) (uilder/build/src/chrome/browser/browser_init.cc:340)    BrowserInit::ProcessCmdLineImpl(CommandLine const&amp;  std::basic_string&lt;wchar_t    std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  bool  Profile*  int*  BrowserInit*)   (uilder/build/src/chrome/browser/browser_init.cc:815)    BrowserInit::Start(CommandLine const&amp;  std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;    std::allocator&lt;wchar_t&gt; &gt; const&amp;  Profile*  int*)   (uilder/build/src/chrome/browser/browser_init.h:39)    BrowserMain(MainFunctionParams const&amp;)   (uilder/build/src/chrome/browser/browser_main.cc:824)    ChromeMain (uilder/build/src/chrome/app/chrome_dll_main.cc:603)    main (uilder/build/src/chrome/app/chrome_exe_main_gtk.cc:33)     </pre>