<title>Issue 28270 -   chromium -    Linux: crash on sad tab - Project Hosting on Google Code</title> <pre>   1. Session restore with a sad tab.  2. Kaboom.    I'm not sure if the gtk assertion is fatal only in debug mode  or also in   release  but I'm running a debug ToT build at <a href="/p/chromium/source/detail?r=30778">r30778</a>.    Stacktrace:  [3603:3603:1127576031113:FATAL:chrome/app/chrome_dll_main.cc(207)] Gtk:   gtk_widget_set_size_request: assertion `width &gt;= -1' failed    Program received signal SIGTRAP  Trace/breakpoint trap.  DebugUtil::BreakDebugger () at base/debug_util_posix.cc:184  184     }  (gdb) ba  #0  DebugUtil::BreakDebugger () at base/debug_util_posix.cc:184  #1  0x0000000000b0cff5 in ~LogMessage (this=0x7fffffff4ed0    __in_chrg=&lt;value optimized out&gt;) at base/logging.cc:539  #2  0x00000000004015a1 in GLibLogHandler (log_domain=0x7ffff7175277 &quot;Gtk&quot;    log_level=G_LOG_LEVEL_CRITICAL       message=0x7fffecfb8a80 &quot;gtk_widget_set_size_request: assertion `width   &gt;= -1' failed&quot;  userdata=0x0) at chrome/app/chrome_dll_main.cc:207  #3  0x00007ffff568ce8d in IA__g_logv (log_domain=0x7ffff7175277 &quot;Gtk&quot;    log_level=G_LOG_LEVEL_CRITICAL  format=0x7ffff56c0884 &quot;%s: assertion `%s'   failed&quot;       args1=0x7fffffff5940) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/glib/gmessages.c:474  #4  0x00007ffff568d123 in IA__g_log (log_domain=0x7fffffff47e0   &quot;020H377377377177&quot;  log_level=76  format=0x0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmessages.c:517  #5  0x0000000000851672 in SadTabGtk::OnSizeAllocate (this=0x7fffec2ff220    widget=0x7fffef5931f0  allocation=0x7fffffff6120) at   chrome/browser/gtk/sad_tab_gtk.cc:172  #6  0x000000000085232f in SadTabGtk::OnSizeAllocateThunk   (widget=0x7fffef5931f0  allocation=0x7fffffff6120  sad_tab=0x7fffec2ff220)      at ./chrome/browser/gtk/sad_tab_gtk.h:35  #7  0x00007ffff5f24bbf in IA__g_closure_invoke (closure=0x7fffecf71810    return_value=0x0  n_param_values=2  param_values=0x7fffffff5db0    invocation_hint=0x7fffffff5c90)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #8  0x00007ffff5f387e8 in signal_emit_unlocked_R (node=0x7ffff7f4d2d0    detail=0  instance=0x7fffef5931f0  emission_return=0x0    instance_and_params=0x7fffffff5db0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2440  #9  0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffef5931f0  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff6030)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #10 0x00007ffff5f3a633 in IA__g_signal_emit (instance=0x7fffffff47e0    signal_id=76  detail=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2243  #11 0x00007ffff7142fb4 in IA__gtk_widget_size_allocate   (widget=0x7fffef5931f0  allocation=&lt;value optimized out&gt;) at   /build/buildd/gtk+2.0-2.12.9/gtk/gtkwidget.c:3818  #12 0x00007ffff6fef9b6 in gtk_fixed_size_allocate (widget=0x7fffecec06b0    allocation=&lt;value optimized out&gt;) at /build/buildd/gtk+2.0-  2.12.9/gtk/gtkfixed.c:386  #13 0x00007ffff5f24c8c in IA__g_closure_invoke (closure=0x7fffefccf040    return_value=0x0  n_param_values=2  param_values=0x7fffffff64d0    invocation_hint=0x7fffffff63b0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gclosure.c:490  #14 0x00007ffff5f384be in signal_emit_unlocked_R (node=0x7ffff7f4d2d0    detail=0  instance=0x7fffecec06b0  emission_return=0x0    instance_and_params=0x7fffffff64d0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2370  #15 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffecec06b0  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffff6750)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  ...  More crap  ...  #82 0x00007ffff5f3a245 in IA__g_signal_emit_valist   (instance=0x7fffefcdfc90  signal_id=&lt;value optimized out&gt;  detail=0    var_args=0x7fffffffb6e0)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/gobject/gsignal.c:2199  #83 0x00007ffff5f3a633 in IA__g_signal_emit (instance=0x7fffffff47e0    signal_id=76  detail=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/gobject/gsignal.c:2243  #84 0x00007ffff6fa6d90 in gtk_container_idle_sizer (data=&lt;value optimized   out&gt;) at /build/buildd/gtk+2.0-2.12.9/gtk/gtkcontainer.c:1304  #85 0x00007ffff6c6d89e in gdk_threads_dispatch (data=0x7fffecf3baa0) at   /build/buildd/gtk+2.0-2.12.9/gdk/gdk.c:470  #86 0x00007ffff5684384 in g_main_dispatch (context=0x7ffff7f0a9c0) at   /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2012  #87 IA__g_main_context_dispatch (context=0x7ffff7f0a9c0) at   /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2564  #88 0x00007ffff5687695 in g_main_context_iterate (context=0x7ffff7f0a9c0    block=0  dispatch=1  self=&lt;value optimized out&gt;)      at /tmp/glib2.0.f24606/glib2.0-2.16.6/glib/gmain.c:2645  #89 0x00007ffff5687b7b in IA__g_main_context_iteration   (context=0x7ffff7f0a9c0  may_block=0) at /tmp/glib2.0.f24606/glib2.0-  2.16.6/glib/gmain.c:2708  #90 0x0000000000b1695b in base::MessagePumpForUI::RunWithDispatcher   (this=0x7ffff7ebe840  delegate=0x7fffffffd200  dispatcher=0x0) at   base/message_pump_glib.cc:192  #91 0x0000000000b174e7 in base::MessagePumpForUI::Run (this=0x7ffff7ebe840    delegate=0x7fffffffd200) at ./base/message_pump_glib.h:56  #92 0x0000000000b104c1 in MessageLoop::RunInternal (this=0x7fffffffd200) at   base/message_loop.cc:205  #93 0x0000000000b104e1 in MessageLoop::RunHandler (this=0x7fffffffd200) at   base/message_loop.cc:177  #94 0x0000000000b1051d in MessageLoopForUI::Run (this=0x7fffffffd200    dispatcher=0x0) at base/message_loop.cc:605  #95 0x000000000045aeba in RunUIMessageLoop (browser_process=0x7ffff7f0e000)   at chrome/browser/browser_main.cc:159  #96 0x000000000045cb13 in BrowserMain (parameters=...) at   chrome/browser/browser_main.cc:891  #97 0x0000000000401240 in ChromeMain (argc=1  argv=0x7fffffffe098) at   chrome/app/chrome_dll_main.cc:642  #98 0x0000000000400459 in main (argc=1  argv=0x7fffffffe098) at   chrome/app/chrome_exe_main_gtk.cc:34 </pre>