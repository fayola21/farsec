<title>Issue 40737 -   chromium -    focusin is not called immediately after focusout - Project Hosting on Google Code</title> <pre> Trying to find out if a sibling element (but not other element) has got   focus  it's necessary to program something like the following code:    -----------------------------------  &lt;div id=&quot;inside&quot;&gt;    &lt;div id=&quot;upperInner&quot;&gt;&lt;input type=&quot;text&quot;/&gt;&lt;/div&gt;    &lt;div id=&quot;lowerInner&quot;&gt;&lt;ul&gt;...&lt;/ul&gt;&lt;/div&gt;  &lt;/div&gt;  &lt;div id=&quot;outside&quot;&gt;  &lt;/div&gt;  -----------------------------------    (I'll write the following JavaScript using jQuery for the sake of brevity:)    -----------------------------------  var tid=0;    $(&quot;#inside&quot;).focusout(function()                         {tid=window.setTimeout(function()                                                 {$(&quot;#lowerInner&quot;).hide();}                                                0);}                        );    $(&quot;#lowerInner&quot;).focusin(function() {window.clearInterval(tid);})  -----------------------------------    Chromium and Safari currently do *not* enqueue the focusin() event   immediately after the focusout() event  so focusin() will never get called   in above scenario.    Currently it's necessary to set the timeout value large enough so that the   focusin() event will be fired *after* all successively enqueued events have   been processed.    I suggest to enqueue the focusin() event right after enqueueing the   focusout() event  optionally being removed from the queue if the event   handler of the focusout() event performs a focus() call to some other   event.      Chrome Version       :  Google Chrome	4.1.249.1045 (Offizieller Build 42898)  WebKit	532.5  V8	1.3.18.22  User Agent	Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US)   AppleWebKit/532.5 (KHTML  like Gecko) Chrome/4.1.249.1045 Safari/532.5      <a href="http://www.dashop.de/scripts/blog/jQuery/AjQDoc/AjQDoc.html?bookmark=false">http://www.dashop.de/scripts/blog/jQuery/AjQDoc/AjQDoc.html?bookmark=false</a>           Safari 4: FAIL    Firefox 3.x: ?           IE 7: ?           IE 8: OK      Create a HTML page linking to jQuery code and add above code to the page.        focusin() should be called right after focusout() without anything   intervening.          focusin() becomes enqueued in the execution queue *after* focusout() has   returned. Thus events like setTimeout(...  0) will happen to be placed   *before* the focusin() call. </pre>