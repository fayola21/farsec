<title>Issue 28847 -   chromium -    WorkerService::CreateWorker memory leak - Project Hosting on Google Code</title> <pre> Probably from <a href="/p/chromium/source/detail?r=33164">r33164</a>.    20:56:40 memcheck_analyze.py [ERROR] FAIL! There were 1 errors:  20:58:00 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command:  /b/slave/chromium-rel-mac-valgrind-ui-1/build/src/xcodebuild/Debug/Chromium.app/Contents/MacOS/Chromium  --no-first-run --no-default-browser-check --enable-file-cookies  --testing-channel=ChromeTestingInterface:54520.35 --homepage=about:blank  --disable-web-resources  --user-data-dir=/private/var/folders/yo/yotGBOBoH+ijr5HR-DAtvk+++TM/-Tmp-/org.chromium.fNFFiL/test_user_data  --metrics-recording-only --enable-logging  --test-name=WorkerTest.IncognitoSharedWorkers  6 428 (76 direct  6 352 indirect) bytes in 1 blocks are definitely lost in  loss record 6 613 of 6 655    operator new(unsigned long)  (sers/chrome-bot/valgrind-10880-redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:220)    WorkerService::CreateWorker(GURL const&amp;  bool  bool   std::basic_string&lt;unsigned short  base::string16_char_traits   std::allocator&lt;unsigned short&gt; &gt; const&amp;  int  int  IPC::Message::Sender*   int)  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/chrome/browser/worker_host/worker_service.cc:117)    ResourceMessageFilter::OnCreateWorker(GURL const&amp;  bool   std::basic_string&lt;unsigned short  base::string16_char_traits   std::allocator&lt;unsigned short&gt; &gt; const&amp;  int  int*)  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/chrome/browser/renderer_host/resource_message_filter.cc:634)    void DispatchToMethod&lt;ResourceMessageFilter  void  (ResourceMessageFilter::*)(GURL const&amp;  bool  std::basic_string&lt;unsigned  short  base::string16_char_traits  std::allocator&lt;unsigned short&gt; &gt; const&amp;   int  int*)  GURL  bool  std::basic_string&lt;unsigned short   base::string16_char_traits  std::allocator&lt;unsigned short&gt; &gt;  int   int&gt;(ResourceMessageFilter*  void (ResourceMessageFilter::*)(GURL const&amp;   bool  std::basic_string&lt;unsigned short  base::string16_char_traits   std::allocator&lt;unsigned short&gt; &gt; const&amp;  int  int*)  Tuple4&lt;GURL  bool   std::basic_string&lt;unsigned short  base::string16_char_traits   std::allocator&lt;unsigned short&gt; &gt;  int&gt; const&amp;  Tuple1&lt;int&gt;*) (tuple.h:609)    bool IPC::MessageWithReply&lt;Tuple4&lt;GURL  bool  std::basic_string&lt;unsigned  short  base::string16_char_traits  std::allocator&lt;unsigned short&gt; &gt;  int&gt;   Tuple1&lt;int&amp;&gt; &gt;::Dispatch&lt;ResourceMessageFilter  void  (ResourceMessageFilter::*)(GURL const&amp;  bool  std::basic_string&lt;unsigned  short  base::string16_char_traits  std::allocator&lt;unsigned short&gt; &gt; const&amp;   int  int*)&gt;(IPC::Message const*  ResourceMessageFilter*  void  (ResourceMessageFilter::*)(GURL const&amp;  bool  std::basic_string&lt;unsigned  short  base::string16_char_traits  std::allocator&lt;unsigned short&gt; &gt; const&amp;   int  int*)) (ipc_message_utils.h:1184)    ResourceMessageFilter::OnMessageReceived(IPC::Message const&amp;)  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/chrome/browser/renderer_host/resource_message_filter.cc:308)    IPC::ChannelProxy::Context::TryFilters(IPC::Message const&amp;)  (ipc_channel_proxy.cc:65)    IPC::SyncChannel::SyncContext::OnMessageReceived(IPC::Message const&amp;)  (ipc_sync_channel.cc:292)    IPC::Channel::ChannelImpl::ProcessIncomingMessages()  (ipc_channel_posix.cc:661)    IPC::Channel::ChannelImpl::OnFileCanReadWithoutBlocking(int)  (ipc_channel_posix.cc:909)    base::MessagePumpLibevent::OnLibeventNotification(int  short  void*)  (message_pump_libevent.cc:215)    event_process_active  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/third_party/libevent/event.c:385)    event_base_loop  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/third_party/libevent/event.c:525)    base::MessagePumpLibevent::Run(base::MessagePump::Delegate*)  (message_pump_libevent.cc:268)    MessageLoop::RunInternal() (message_loop.cc:205)    MessageLoop::RunHandler() (message_loop.cc:177)    MessageLoop::Run() (message_loop.cc:155)    base::Thread::Run(MessageLoop*) (thread.cc:133)    base::Thread::ThreadMain() (thread.cc:155)    ThreadFunc(void*)  (/b/slave/chromium-rel-mac-valgrind-ui-1/build/src/base/platform_thread_posix.cc:26)    _pthread_start    thread_start  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*      fun:_ZN13WorkerService12CreateWorkerERK4GURLbbRKSbItN4base20string16_char_traitsESaItEEiiPN3IPC7Message6SenderEi      fun:_ZN21ResourceMessageFilter14OnCreateWorkerERK4GURLbRKSbItN4base20string16_char_traitsESaItEEiPi      fun:_Z16DispatchToMethodI21ResourceMessageFilterMS0_FvRK4GURLbRKSbItN4base20string16_char_traitsESaItEEiPiES1_bS7_iiEvPT_T0_RK6Tuple4IT1_T2_T3_T4_EP6Tuple1IT5_E      fun:_ZN3IPC16MessageWithReplyI6Tuple4I4GURLbSbItN4base20string16_char_traitsESaItEEiE6Tuple1IRiEE8DispatchI21ResourceMessageFilterMSD_FvRKS2_bRKS6_iPiEEEbPKNS_7MessageEPT_T0_     fun:_ZN21ResourceMessageFilter17OnMessageReceivedERKN3IPC7MessageE     fun:_ZN3IPC12ChannelProxy7Context10TryFiltersERKNS_7MessageE     fun:_ZN3IPC11SyncChannel11SyncContext17OnMessageReceivedERKNS_7MessageE     fun:_ZN3IPC7Channel11ChannelImpl23ProcessIncomingMessagesEv     fun:_ZN3IPC7Channel11ChannelImpl28OnFileCanReadWithoutBlockingEi     fun:_ZN4base19MessagePumpLibevent22OnLibeventNotificationEisPv     fun:event_process_active     fun:event_base_loop     fun:_ZN4base19MessagePumpLibevent3RunEPNS_11MessagePump8DelegateE     fun:_ZN11MessageLoop11RunInternalEv     fun:_ZN11MessageLoop10RunHandlerEv  }   </pre>