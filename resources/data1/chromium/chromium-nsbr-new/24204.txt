<title>Issue 24204 -   chromium -    Background isn't properly painted (shows red fill in Debug  black in Release) - Project Hosting on Google Code</title> <pre> ( Migrated from http://buganizer/issue?id=1115062 )      pamg on April 07 2008 13:26  (New)  Summary     Background isn't properly painted (shows red fill in Debug  black in  Release)  Component     Chrome &gt; Deprecated &gt; Compatibility &gt; Layout Test Failures  Reporter     pamg  CC     chrome-bugs  Type     Bug  Priority     P2  Severity     S2  In prod     false  Notes  LayoutTests/tables/mozilla_expected_failures/bugs/bug178855.xml  LayoutTests/fast/flexbox/flex-hang.html    both fail the pixel test in Debug configuration because of bright red  unpainted space (which is black in Release mode).  They also show some  obvious painting weirdness in Chrome itself  which is easiest to see using  bug178855.xml:    1.Navigate to the  file:///C:/.../LayoutTests/tables/mozilla_expected_failures/bugs/ directory  listing.  2. Click on bug178855.xml  3. See that the page isn't properly cleared  leaving most of it visible  behind the small &quot;a test&quot; square at the top left.  See attachment.  4. Reload the page (click on the reload button).  5. See that the page is now cleared to black (in Release) or red (in  Debug)  again with a small white &quot;a test&quot; square at the top left.  See  other attachment.    flex-hang.html does the same thing  but since its content fills more of the  page  it's harder to notice.  bug_178855.png - Before reloading  bug_178855_reloaded.png - After reloading  pamg on April 15 2008 16:10  (New)  Hotlist     Cr__Rel_1.0  Cr__Untriaged  eseidel on April 15 2008 18:24  (New)  Notes  LayoutTests/tables/mozilla_expected_failures/bugs/bug178855.xml fails in  Safari as well.  I don't think LayoutTests/fast/flexbox/flex-hang.html  fails though.    Filed bug178855.xml failure upstream as:  <a href="https://bugs.webkit.org/show_bug.cgi?id=18524">https://bugs.webkit.org/show_bug.cgi?id=18524</a>  eseidel on April 15 2008 18:26  (New)  Hotlist     Cr__Rel_1.0  Cr__Untriaged  reported_to_webkit  ananthak on April 16 2008 10:57  (New)  Component     Chrome &gt; Deprecated &gt; WebKit  mal on April 17 2008 16:27  (New)  Hotlist     Cr__Rel_1.0  reported_to_webkit  mdu on April 23 2008 16:14  (New)  Hotlist     Cr__Rel_1.0  reported_to_webkit  chrome:major-impact-bugs   Chrome_specific_compatibility_issues  css-related   Fails-in-Chrome-but-pass-in-FF  Fails-in-Chrome-but-pass-in-IE   Fails-in-Chrome-but-pass-in-IE-and-FF  Notes  I tried to verify this with URL  <a href="http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/tables/mozilla_expected_failures/bugs/bug178855.xml?format=raw">http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/tables/mozilla_expected_failures/bugs/bug178855.xml?format=raw</a>   its behaves same in IE/FF/Opera/Safari  only has a black background in Chrome.    Is it a webkit specific bug? See screen-shot of Safari.    Browsers:    Chrome 0.1.135.0-<a href="/p/chromium/source/detail?r=34241">r34241</a>: Not OK  IE 7.0: OK  FF 3.0b5: OK  Opera 9.27: OK  Safari 3.1: OK  s206-worksfine1115062.gif  sunandt on April 25 2008 17:58  (New)  Hotlist     Cr__Rel_1.0  reported_to_webkit  chrome:major-impact-bugs   Chrome_specific_compatibility_issues  css-related   Fails-in-Chrome-but-pass-in-FF  Fails-in-Chrome-but-pass-in-IE   Fails-in-Chrome-but-pass-in-IE-and-FF  chrome-specific-not-in-safari3.1  eseidel on May 05 2008 11:47  (New)  Hotlist     reported_to_webkit  chrome:major-impact-bugs   Chrome_specific_compatibility_issues  css-related   Fails-in-Chrome-but-pass-in-FF  Fails-in-Chrome-but-pass-in-IE   Fails-in-Chrome-but-pass-in-IE-and-FF  chrome-specific-not-in-safari3.1   Cr__Rel_Future  Cr__Untriaged  Notes  Yes  it displays correctly in Safari (and Chrome)  it only fails in  TestShell  during Debug mode (when it's red).  WebKit knows about the  issue.  This only affects flex box painting (very seldom used on the web)   and when you set the display: for the &lt;html&gt; tag to be table-cell.  Both  are obscure.  Punting.  These tests can be marked DEFER if they haven't  already.    <a href="https://bugs.webkit.org/show_bug.cgi?id=8423">https://bugs.webkit.org/show_bug.cgi?id=8423</a>  is the bug for the &lt;html style=&quot;display: table&quot;&gt; underpainting.  pamg on May 05 2008 15:14  (New)  Notes  The error with repro steps listed #1-5 above does happen in Chrome  not  only in test_shell.  I just re-confirmed it in 0.1.134.2 (34489).  The full  contents of that test (bug178855.xml) are    &lt;table style=&quot;position: absolute;&quot; xmlns=&quot;<a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>&quot;&gt;   &lt;tr&gt;   &lt;td&gt;a test&lt;/td&gt;   &lt;/tr&gt;  &lt;/table&gt;    I don't follow what this has to do with display: table  so the two failing  tests may well have different causes.   </pre>