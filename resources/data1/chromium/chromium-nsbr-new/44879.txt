<title>Issue 44879 -   chromium -    Leaks in (anonymous namespace)::ExtensionImpl::StartRequest() - Project Hosting on Google Code</title> <pre> From: <a href="http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrind)(1)/builds/4582/steps/valgrind%20test:%20unit/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrind)(1)/builds/4582/steps/valgrind%20test:%20unit/logs/stdio</a>    Command: src/sconsbuild/Release/unit_tests --gtest_filter=-  VisitedLinkEventsTest.Coalescense:VisitedLinkRelayTest.Basics:RenderViewTest.ImeComposition:DnsMasterTest.MassiveConcurrentLookupTest:URLFetcherBadHTTPSTest.BadHTTPSTest:RenderViewTest.OnHandleKeyboardEvent --gtest_print_time  112 (24 direct  88 indirect) bytes in 1 blocks are definitely lost in loss record 20 164 of 22 183    operator new(unsigned int) (mp/scripts/valgrind-memcheck/coregrind/m_replacemalloc/vg_replace_malloc.c:269)    __gnu_cxx::new_allocator&lt;std::_Rb_tree_node&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::allocate(unsigned int  void const*) (sr/include/c++/4.2/ext/new_allocator.h:91)    std::_Rb_tree&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;    std::_Select1st&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;    std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::_M_get_node() (sr/include/c++/4.2/bits/stl_tree.h:367)    std::_Rb_tree&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;    std::_Select1st&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;    std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::_M_create_node(std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;   const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:376)    std::_Rb_tree&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;    std::_Select1st&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;    std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::_M_insert(std::_Rb_tree_node_base*  std::_Rb_tree_node_base*  std::pair&lt;std::basic_string&lt;wchar_t    std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:838)    std::_Rb_tree&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;    std::_Select1st&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;    std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::_M_insert_unique(std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;   const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:986)    std::_Rb_tree&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt;    std::_Select1st&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;    std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::_M_insert_unique(std::_Rb_tree_iterator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;    std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;  std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; const&amp;) (sr/include/c++/4.2/bits/stl_tree.h:1008)    std::map&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  Value*  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;  std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t    std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::insert(std::_Rb_tree_iterator&lt;std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt;    std::pair&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; const&amp;) (sr/include/c++/4.2/bits/stl_map.h:427)    std::map&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt;  Value*  std::less&lt;std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; &gt;  std::allocator&lt;std::pair&lt;std::basic_string&lt;wchar_t    std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const  Value*&gt; &gt; &gt;::operator[](std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;) (sr/include/c++/4.2/bits/stl_map.h:350)    DictionaryValue::SetWithoutPathExpansion(std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  Value*) (uilder/build/src/base/values.cc:430)    base::JSONReader::BuildValue(bool) (uilder/build/src/base/json/json_reader.cc:324)    base::JSONReader::BuildValue(bool) (uilder/build/src/base/json/json_reader.cc:262)    base::JSONReader::JsonToValue(std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; const&amp;  bool  bool) (uilder/build/src/base/json/json_reader.cc:193)    (anonymous namespace)::ExtensionImpl::StartRequest(v8::Arguments const&amp;) (uilder/build/src/chrome/renderer/extensions/extension_process_bindings.cc:454)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*     fun:_ZN9__gnu_cxx13new_allocatorISt13_Rb_tree_nodeISt4pairIKSbIwSt11char_traitsIwESaIwEEP5ValueEEE8allocateEjPKv     fun:_ZNSt8_Rb_treeISbIwSt11char_traitsIwESaIwEESt4pairIKS3_P5ValueESt10_Select1stIS8_ESt4lessIS3_ESaIS8_EE11_M_get_nodeEv     fun:_ZNSt8_Rb_treeISbIwSt11char_traitsIwESaIwEESt4pairIKS3_P5ValueESt10_Select1stIS8_ESt4lessIS3_ESaIS8_EE14_M_create_nodeERKS8_     fun:_ZNSt8_Rb_treeISbIwSt11char_traitsIwESaIwEESt4pairIKS3_P5ValueESt10_Select1stIS8_ESt4lessIS3_ESaIS8_EE9_M_insertEPSt18_Rb_tree_node_baseSG_RKS8_     fun:_ZNSt8_Rb_treeISbIwSt11char_traitsIwESaIwEESt4pairIKS3_P5ValueESt10_Select1stIS8_ESt4lessIS3_ESaIS8_EE16_M_insert_uniqueERKS8_     fun:_ZNSt8_Rb_treeISbIwSt11char_traitsIwESaIwEESt4pairIKS3_P5ValueESt10_Select1stIS8_ESt4lessIS3_ESaIS8_EE16_M_insert_uniqueESt17_Rb_tree_iteratorIS8_ERKS8_     fun:_ZNSt3mapISbIwSt11char_traitsIwESaIwEEP5ValueSt4lessIS3_ESaISt4pairIKS3_S5_EEE6insertESt17_Rb_tree_iteratorISA_ERKSA_     fun:_ZNSt3mapISbIwSt11char_traitsIwESaIwEEP5ValueSt4lessIS3_ESaISt4pairIKS3_S5_EEEixERS9_     fun:_ZN15DictionaryValue23SetWithoutPathExpansionERKSbIwSt11char_traitsIwESaIwEEP5Value     fun:_ZN4base10JSONReader10BuildValueEb     fun:_ZN4base10JSONReader10BuildValueEb     fun:_ZN4base10JSONReader11JsonToValueERKSsbb     fun:_ZN85_GLOBAL__N_chrome_renderer_extensions_extension_process_bindings.cc_00000000_889370D813ExtensionImpl12StartRequestERKN2v89ArgumentsE  }    From: <a href="http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4954/steps/valgrind%20test:%20unit/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4954/steps/valgrind%20test:%20unit/logs/stdio</a>    Command: src/xcodebuild/Debug/unit_tests --gtest_filter=-  VisitedLinkEventsTest.Coalescense:VisitedLinkRelayTest.Basics:RenderViewTest.ImeComposition:DnsMasterTest.MassiveConcurrentLookupTest:IPCSyncChannelTest.*:WebDropTargetTest.URL:WebDropTargetTest.Data:AutocompleteTextFieldEditorTest.CutCopyTest:Do  wnloadUtilTest.AddFileToPasteboardTest:FindPasteboardTest.ReadingFromPboardUpdatesFindText:FindPasteboardTest.SendsNotificationWhenTextChanges:RenderViewTest.MacTestCmdUp:ChromeBrowserWindowTest.DoesHideTitle:ClearBrowsingDataControllerTest.*:NSM  enuItemAdditionsTest.TestMOnDifferentLayouts:PrefsControllerTest.GetPrefsViewForPage:PrefsControllerTest.GetToolbarItemForPage:PrefsControllerTest.ShowAndClose:PrefsControllerTest.SwitchToPage:RenderViewTest.OnPrintPages:RenderViewTest.Print*:Tab  StripControllerTest.AddRemoveTabs:TaskManagerWindowControllerTest.*:BookmarkAllTabsControllerTest.BookmarkAllTabs:BookmarkFolderTargetTest.* --gtest_print_time  54 (20 direct  34 indirect) bytes in 1 blocks are definitely lost in loss record 9 688 of 15 595    operator new(unsigned long) (mp/vg-bins/scripts/valgrind-memcheck/coregrind/m_replacemalloc/vg_replace_malloc.c:276)    base::JSONReader::BuildValue(bool) (json_reader.cc:260)    base::JSONReader::JsonToValue(std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; const&amp;  bool  bool) (json_reader.cc:193)    (anonymous namespace)::ExtensionImpl::StartRequest(v8::Arguments const&amp;) (extension_process_bindings.cc:454)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*     fun:_ZN4base10JSONReader10BuildValueEb     fun:_ZN4base10JSONReader11JsonToValueERKSsbb     fun:_ZN12_GLOBAL__N_113ExtensionImpl12StartRequestERKN2v89ArgumentsE  }    ... and more. </pre>