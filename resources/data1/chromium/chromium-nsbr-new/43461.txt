<title>Issue 43461 -   chromium -    Need a better way to build some Chrome Frame unit tests without linking with two copies of NSPR - Project Hosting on Google Code</title> <pre> This issue continues <a title="Use SSLClientSocketNSS on Windows by default." class=closed_ref href="/p/chromium/issues/detail?id=43142"> issue 43142 </a>.    This problem was first described in my second comment in  <a href="http://codereview.chromium.org/555186">http://codereview.chromium.org/555186</a>    Some Chrome Frame unit tests use Mozilla's XPCOM  which is  linked with nspr4.dll.  So I had to make the network stack  *not* reference SSLClientSocketNSS on Windows to avoid  doubly-defined NSPR symbols.  This requires changing  individual programs that need SSLClientSocketNSS (such as  net_unittests.exe  chrome.dll  and test_shell.exe) to  reference SSLClientSocketNSS  with a call to:      net::ClientSocketFactory::SetSSLClientSocketFactory(        net::SSLClientSocketNSSFactory);    I don't like this solution.  I'd like to understand better  how those Chrome Frame unit tests are built and come up with  a better solution that only require changing how those Chrome  Frame unit tests are built to avoid linking with two copies  of NSPR (our own NSPR static library and Mozilla's nspr4.dll). </pre>