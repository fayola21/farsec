<title>Issue 35901 -   chromium -    QuickTime plugin threading problem - Project Hosting on Google Code</title> <pre> I'm seeing a small number of crashes with this stack  all from watching QuickTime videos on various sub-pages of apple.com:    Thread 4 *CRASHED* ( EXC_BAD_ACCESS / KERN_PROTECTION_FAILURE @ 0x000000b4 )    0x91feb214	 [libSystem.B.dylib	 + 0x00006214]	pthread_mutex_lock  0x0057a8df	 [Google Chrome Framework	 - ../base/lock.h:16]	MessageLoop::PostTask_Helper(tracked_objects::Location const&amp;  Task*    long long  bool)  0x0057ab54	 [Google Chrome Framework	 - message_loop.cc:243]	MessageLoop::PostDelayedTask(tracked_objects::Location const&amp;    Task*  long long)  0x0058edb3	 [Google Chrome Framework	 - timer.cc:25]	  base::BaseTimer_Helper::InitiateDelayedTask(base::BaseTimer_Helper::TimerTask*)  0x0148b1c4	 [Google Chrome Framework	 - ../base/timer.h:119]	WebPluginDelegateImpl::UpdateIdleEventRate()  0x0148b2d9	 [Google Chrome Framework	 - webplugin_delegate_impl_mac.mm:357]	  WebPluginDelegateImpl::WindowlessUpdateGeometry(gfx::Rect const&amp;  gfx::Rect const&amp;)  0x01593e36	 [Google Chrome Framework	 - webplugin_proxy.cc:449]	WebPluginProxy::UpdateGeometry(gfx::Rect const&amp;  gfx::Rect   const&amp;  base::FileDescriptor const&amp;  base::FileDescriptor const&amp;  int)  0x015903d6	 [Google Chrome Framework	 - webplugin_delegate_stub.cc:304]	  WebPluginDelegateStub::OnUpdateGeometry(PluginMsg_UpdateGeometry_Param const&amp;)  0x015919f3	 [Google Chrome Framework	 - ../base/tuple.h:422]	WebPluginDelegateStub::OnMessageReceived(IPC::Message const&amp;)  0x0005b910	 [Google Chrome Framework	 - message_router.cc:40]	MessageRouter::RouteMessage(IPC::Message const&amp;)  0x0158b316	 [Google Chrome Framework	 - plugin_channel_base.cc:145]	PluginChannelBase::OnMessageReceived(IPC::Message const&amp;)  0x01588724	 [Google Chrome Framework	 - plugin_channel.cc:199]	PluginChannel::OnMessageReceived(IPC::Message const&amp;)  0x00a642bd	 [Google Chrome Framework	 - ipc_sync_channel.cc:103]	IPC::SyncChannel::WaitForReply(IPC::SyncChannel::SyncContext*    base::WaitableEvent*)  0x00a6450a	 [Google Chrome Framework	 - ipc_sync_channel.cc:417]	IPC::SyncChannel::SendWithTimeout(IPC::Message*  int)  0x00a62cff	 [Google Chrome Framework	 - ipc_sync_channel.cc:381]	IPC::SyncChannel::Send(IPC::Message*)  0x0158b08e	 [Google Chrome Framework	 - plugin_channel_base.cc:127]	PluginChannelBase::Send(IPC::Message*)  0x0158882a	 [Google Chrome Framework	 - plugin_channel.cc:189]	PluginChannel::Send(IPC::Message*)  0x01593856	 [Google Chrome Framework	 - webplugin_proxy.cc:67]	WebPluginProxy::GetCookies(GURL const&amp;  GURL const&amp;)  0x014790fa	 [Google Chrome Framework	 - plugin_host.cc:952]	NPN_GetValueForURL  0x02d70c5a	 [QuickTime Plugin	 + 0x00010c5a]	  0x02d732ca	 [QuickTime Plugin	 + 0x000132ca]	  0x18390a2c	 [QuickTimeStreaming	 + 0x00014a2c]	  0x1838dd4c	 [QuickTimeStreaming	 + 0x00011d4c]	  0x905ffcfd	 [QuickTime	 + 0x002a8cfd]	QTSNetworkThread_RLSourcePerformCallback  0x923f08ca	 [CoreFoundation	 + 0x0003e8ca]	__CFRunLoopDoSources0  0x923ee38e	 [CoreFoundation	 + 0x0003c38e]	__CFRunLoopRun  0x923ed863	 [CoreFoundation	 + 0x0003b863]	CFRunLoopRunSpecific  0x923f37a3	 [CoreFoundation	 + 0x000417a3]	CFRunLoopRun  0x905ffc7b	 [QuickTime	 + 0x002a8c7b]	QTSNetworkThread_RunThread  0x92012fbc	 [libSystem.B.dylib	 + 0x0002dfbc]	_pthread_start  0x92012e41	 [libSystem.B.dylib	 + 0x0002de41]	thread_start    Sample crash:  http://crash/reportdetail?reportid=aed6b2fe24fead53      This is really bad  since most of the WebPluginDelegateImpl methods are not supposed to be called from any thread but the main thread. I'm   not sure if it's supposed to be okay to call NPN_GetValueForURL from another thread like this  and we need to be doing something different  or   if this is QuickTime's bug. </pre>