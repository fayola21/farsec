<title>Issue 45248 -   chromium -    Memory corruption crashes - Project Hosting on Google Code</title> <pre> Happening on my ToT Linux chromium builds two days in a row.  Lemme dig up the   two stacktraces:      Program received signal SIGSEGV  Segmentation fault.  [Switching to Thread 0x4582b950 (LWP 2874)]  0x0000000000d21e4e in tcmalloc::SLL_Next (t=0xffffffff) at   third_party/tcmalloc/chromium/src/linked_list.h:42  42        return *(reinterpret_cast&lt;void**&gt;(t));  (gdb) ba  #0  0x0000000000d21e4e in tcmalloc::SLL_Next (t=0xffffffff) at   third_party/tcmalloc/chromium/src/linked_list.h:42  #1  0x0000000000d21ebf in tcmalloc::SLL_Pop (list=0x7ffff7f60320) at   third_party/tcmalloc/chromium/src/linked_list.h:56  #2  0x0000000000d227d4 in tcmalloc::ThreadCache::FreeList::Pop   (this=0x7ffff7f60320) at third_party/tcmalloc/chromium/src/thread_cache.h:200  #3  0x0000000000d22c3f in tcmalloc::ThreadCache::Allocate (this=0x7ffff7f60200    size=144  cl=10) at third_party/tcmalloc/chromium/src/thread_cache.h:349  #4  0x0000000000d2099a in do_malloc (size=144) at   third_party/tcmalloc/chromium/src/tcmalloc.cc:981  #5  0x0000000000d209ef in cpp_alloc (size=144  nothrow=false) at   third_party/tcmalloc/chromium/src/tcmalloc.cc:1250  #6  0x0000000004586854 in tc_new (size=144) at   third_party/tcmalloc/chromium/src/tcmalloc.cc:1411  #7  0x00000000006030a8 in history::VisitSegmentDatabase::QuerySegmentUsage   (this=0x7fffececbdf0  from_time=...  max_result_count=8  results=0x7fffe7d36be0)   at chrome/browser/history/visitsegment_database.cc:266  #8  0x00000000005ccd93 in history::HistoryBackend::QuerySegmentUsage   (this=0x7fffecedbe00  request=...  from_time=...  max_result_count=8) at   chrome/browser/history/history_backend.cc:988  #9  0x00000000005c0dd6 in DispatchToMethod&lt;history::HistoryBackend  void   (history::HistoryBackend::*)(scoped_refptr&lt;CancelableRequest1&lt;CallbackRunner&lt;Tup  le2&lt;int  std::vector&lt;PageUsageData*  std::allocator&lt;PageUsageData*&gt; &gt;*&gt; &gt;    ScopedVector&lt;PageUsageData&gt; &gt; &gt;  base::Time  int)    scoped_refptr&lt;CancelableRequest1&lt;CallbackRunner&lt;Tuple2&lt;int    std::vector&lt;PageUsageData*  std::allocator&lt;PageUsageData*&gt; &gt;*&gt; &gt;    ScopedVector&lt;PageUsageData&gt; &gt; &gt;  base::Time  int&gt; (obj=0x7fffecedbe00       method=0x5ccd12   &lt;history::HistoryBackend::QuerySegmentUsage(scoped_refptr&lt;CancelableRequest1&lt;Cal  lbackRunner&lt;Tuple2&lt;int  std::vector&lt;PageUsageData*    std::allocator&lt;PageUsageData*&gt; &gt;*&gt; &gt;  ScopedVector&lt;PageUsageData&gt; &gt; &gt;    base::Time  int)&gt;  arg=...) at ./base/tuple.h:435  #10 0x00000000005c0e22 in RunnableMethod&lt;history::HistoryBackend  void   (history::HistoryBackend::*)(scoped_refptr&lt;CancelableRequest1&lt;CallbackRunner&lt;Tup  le2&lt;int  std::vector&lt;PageUsageData*  std::allocator&lt;PageUsageData*&gt; &gt;*&gt; &gt;    ScopedVector&lt;PageUsageData&gt; &gt; &gt;  base::Time  int)    Tuple3&lt;scoped_refptr&lt;CancelableRequest1&lt;CallbackRunner&lt;Tuple2&lt;int    std::vector&lt;PageUsageData*  std::allocator&lt;PageUsageData*&gt; &gt;*&gt; &gt;    ScopedVector&lt;PageUsageData&gt; &gt; &gt;  base::Time  int&gt; &gt;::Run (this=0x7fffebbf9190)   at ./base/task.h:296  #11 0x0000000000d6802f in MessageLoop::RunTask (this=0x4582af20    task=0x7fffebbf9190) at base/message_loop.cc:328  #12 0x0000000000d6874c in MessageLoop::DeferOrRunPendingTask (this=0x4582af20    pending_task=...) at base/message_loop.cc:336  #13 0x0000000000d6899c in MessageLoop::DoWork (this=0x4582af20) at   base/message_loop.cc:443  #14 0x0000000000d6e897 in base::MessagePumpDefault::Run (this=0x7fffeced8020    delegate=0x4582af20) at base/message_pump_default.cc:23  #15 0x0000000000d69033 in MessageLoop::RunInternal (this=0x4582af20) at   base/message_loop.cc:204  #16 0x0000000000d69053 in MessageLoop::RunHandler (this=0x4582af20) at   base/message_loop.cc:176  #17 0x0000000000d690f8 in MessageLoop::Run (this=0x4582af20) at   base/message_loop.cc:154  #18 0x0000000000d953d5 in base::Thread::Run (this=0x7fffeced45c0    message_loop=0x4582af20) at base/thread.cc:136  #19 0x0000000000d95826 in base::Thread::ThreadMain (this=0x7fffeced45c0) at   base/thread.cc:160  #20 0x0000000000d79620 in ThreadFunc (closure=0x7fffeced45c0) at   base/platform_thread_posix.cc:28  #21 0x00007ffff44763f7 in start_thread () from /lib/libpthread.so.0  #22 0x00007ffff1f60bbd in clone () from /lib/libc.so.6  #23 0x0000000000000000 in ?? ()    and ...oh  the second one is exactly the same.    The crashes happen when I come in the morning (chromium has been left running   overnight) and start browsing for a bit.  Within a minute  it crashes.  When I   restart  it works fine.  Today was the second day in a row where this happened   to me. </pre>