<title>Issue 23918 -   chromium -    Memory leak in WebFrameClient  StatsCounter - Project Hosting on Google Code</title> <pre> @<a href="/p/chromium/source/detail?r=28085">r28085</a>    <a href="http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valg">http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valg</a>  rind)(1)/builds/336/steps/valgrind%20test:%20ui/logs/stdio    19:50:54 memcheck_analyze.py [ERROR] FAIL! There were 1 errors:  19:50:54 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command: /b/slave/chromium-rel-linux-valgrind-tests-  1/build/src/sconsbuild/Release/chrome --type=zygote --enable-logging=  34 bytes in 1 blocks are definitely lost in loss record 430 of 681    operator new(unsigned int) (ome/chrome-bot/valgrind-10880-  redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:214)    std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt;   &gt;::_Rep::_S_create(unsigned int  unsigned int  std::allocator&lt;char&gt; const&amp;)   (/usr/lib/libstdc++.so.6.0.9)    std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt;   &gt;::_Rep::_M_clone(std::allocator&lt;char&gt; const&amp;  unsigned int)   (/usr/lib/libstdc++.so.6.0.9)    std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt;   &gt;::reserve(unsigned int) (/usr/lib/libstdc++.so.6.0.9)    std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt;   &gt;::append(std::basic_string&lt;char  std::char_traits&lt;char&gt;    std::allocator&lt;char&gt; &gt; const&amp;) (/usr/lib/libstdc++.so.6.0.9)    StatsCounter::StatsCounter(std::basic_string&lt;char    std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; const&amp;)   (uilder/build/src/base/stats_counters.h:81)    WebFrameImpl::WebFrameImpl(WebKit::WebFrameClient*)   (uilder/build/src/webkit/glue/webframe_impl.cc:1498)    WebViewImpl::initializeMainFrame(WebKit::WebFrameClient*)   (uilder/build/src/webkit/glue/webview_impl.cc:347)    RenderView::Init(int  int  RendererPreferences const&amp;    base::RefCountedData&lt;int&gt;*  int)   (uilder/build/src/chrome/renderer/render_view.cc:321)    RenderView::Create(RenderThreadBase*  int  int  RendererPreferences   const&amp;  WebPreferences const&amp;  base::RefCountedData&lt;int&gt;*  int)   (uilder/build/src/chrome/renderer/render_view.cc:274)    RenderThread::OnCreateNewView(int  RendererPreferences const&amp;    WebPreferences const&amp;  int)   (uilder/build/src/chrome/renderer/render_thread.cc:345)    void DispatchToMethod&lt;RenderThread  void (RenderThread::*)(int    RendererPreferences const&amp;  WebPreferences const&amp;  int)  int    RendererPreferences  WebPreferences  int&gt;(RenderThread*  void   (RenderThread::*)(int  RendererPreferences const&amp;  WebPreferences const&amp;    int)  Tuple4&lt;int  RendererPreferences  WebPreferences  int&gt; const&amp;)   (uilder/build/src/base/tuple.h:441)    bool IPC::MessageWithTuple&lt;Tuple4&lt;int  RendererPreferences    WebPreferences  int&gt; &gt;::Dispatch&lt;RenderThread  void (RenderThread::*)(int    RendererPreferences const&amp;  WebPreferences const&amp;  int)&gt;(IPC::Message   const*  RenderThread*  void (RenderThread::*)(int  RendererPreferences   const&amp;  WebPreferences const&amp;  int))   (uilder/build/src/ipc/ipc_message_utils.h:999)    RenderThread::OnControlMessageReceived(IPC::Message const&amp;)   (uilder/build/src/chrome/renderer/render_thread.cc:276)    ChildThread::OnMessageReceived(IPC::Message const&amp;)   (uilder/build/src/chrome/common/child_thread.cc:117)    IPC::ChannelProxy::Context::OnDispatchMessage(IPC::Message const&amp;)   (uilder/build/src/ipc/ipc_channel_proxy.cc:204)    void DispatchToMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)    IPC::Message&gt;(IPC::ChannelProxy::Context*  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;   const&amp;) (uilder/build/src/base/tuple.h:422)    RunnableMethod&lt;IPC::ChannelProxy::Context  void   (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt;   &gt;::Run() (uilder/build/src/base/task.h:277)    MessageLoop::RunTask(Task*) (uilder/build/src/base/message_loop.cc:314)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)   (uilder/build/src/base/message_loop.cc:322)    MessageLoop::DoWork() (uilder/build/src/base/message_loop.cc:429)    base::MessagePumpDefault::Run(base::MessagePump::Delegate*)   (uilder/build/src/base/message_pump_default.cc:23)    MessageLoop::RunInternal() (uilder/build/src/base/message_loop.cc:199)    MessageLoop::RunHandler() (uilder/build/src/base/message_loop.cc:181)    MessageLoop::Run() (uilder/build/src/base/message_loop.cc:155)    RendererMain(MainFunctionParams const&amp;)   (uilder/build/src/chrome/renderer/renderer_main.cc:167)    ChromeMain (uilder/build/src/chrome/app/chrome_dll_main.cc:580)    main (uilder/build/src/chrome/app/chrome_exe_main_gtk.cc:33)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:_Znw*     fun:_ZNSs4_Rep9_S_createEjjRKSaIcE     fun:_ZNSs4_Rep8_M_cloneERKSaIcEj     fun:_ZNSs7reserveEj     fun:_ZNSs6appendERKSs     fun:_ZN12StatsCounterC1ERKSs     fun:_ZN12WebFrameImplC1EPN6WebKit14WebFrameClientE     fun:_ZN11WebViewImpl19initializeMainFrameEPN6WebKit14WebFrameClientE       fun:_ZN10RenderView4InitEiiRK19RendererPreferencesPN4base14RefCountedDataIi  EEi       fun:_ZN10RenderView6CreateEP16RenderThreadBaseiiRK19RendererPreferencesRK14  WebPreferencesPN4base14RefCountedDataIiEEi       fun:_ZN12RenderThread15OnCreateNewViewEiRK19RendererPreferencesRK14WebPrefe  rencesi       fun:_Z16DispatchToMethodI12RenderThreadMS0_FviRK19RendererPreferencesRK14We  bPreferencesiEiS1_S4_iEvPT_T0_RK6Tuple4IT1_T2_T3_T4_E       fun:_ZN3IPC16MessageWithTupleI6Tuple4Ii19RendererPreferences14WebPreference  siEE8DispatchI12RenderThreadMS7_FviRKS2_RKS3_iEEEbPKNS_7MessageEPT_T0_     fun:_ZN12RenderThread24OnControlMessageReceivedERKN3IPC7MessageE     fun:_ZN11ChildThread17OnMessageReceivedERKN3IPC7MessageE     fun:_ZN3IPC12ChannelProxy7Context17OnDispatchMessageERKNS_7MessageE       fun:_Z16DispatchToMethodIN3IPC12ChannelProxy7ContextEMS2_FvRKNS0_7MessageEE  S3_EvPT_T0_RK6Tuple1IT1_E       fun:_ZN14RunnableMethodIN3IPC12ChannelProxy7ContextEMS2_FvRKNS0_7MessageEE6  Tuple1IS3_EE3RunEv     fun:_ZN11MessageLoop7RunTaskEP4Task     fun:_ZN11MessageLoop21DeferOrRunPendingTaskERKNS_11PendingTaskE     fun:_ZN11MessageLoop6DoWorkEv     fun:_ZN4base18MessagePumpDefault3RunEPNS_11MessagePump8DelegateE  } </pre>