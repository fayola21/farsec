<title>Issue 33425 -   chromium -    Leak in net_unittests: FTPDirectoryListing_Test and FTPCacheLoginBoxCredentials_Test - Project Hosting on Google Code</title> <pre> This leak happens once in a while on the Wine/Valgrind test bot.    52 bytes in 1 blocks are definitely lost in loss record 428 of 1 100     at 0x47100EA: RtlAllocateHeap (heap.c:247)     by 0x4965567: WSARecvFrom (socket.c:4772)     by 0x4965C1E: WSARecv (socket.c:4743)     by 0xA04EA7: net::TCPClientSocketWin::Read   (tcp_client_socket_win.cc:459)     by 0x9AA5BC: net::FtpNetworkTransaction::DoCtrlRead   (ftp_network_transaction.cc:535)     by 0x9A988A: net::FtpNetworkTransaction::DoLoop   (ftp_network_transaction.cc:395)     by 0x9A9312: net::FtpNetworkTransaction::OnIOComplete   (ftp_network_transaction.cc:333)     by 0x9AD841: DispatchToMethod&amp;lt;net::FtpNetworkTransaction void   (__thiscall net::FtpNetworkTransaction::*)(int) int&amp;gt; (tuple.h:422)     by 0x9AD484: CallbackImpl&amp;lt;net::FtpNetworkTransaction void (__thiscall   net::FtpNetworkTransaction::*)(int) Tuple1&amp;lt;int&amp;gt; &amp;gt;::RunWithParams   (task.h:563)     by 0x519DE3: CallbackRunner&amp;lt;Tuple1&amp;lt;int&amp;gt; &amp;gt;::Run&amp;lt;int&amp;gt;   (task.h:528)     by 0xA05B56: net::TCPClientSocketWin::DoReadCallback   (tcp_client_socket_win.cc:610)     by 0xA0606D: net::TCPClientSocketWin::DidCompleteConnect   (tcp_client_socket_win.cc:666)     by 0xA04109:   net::TCPClientSocketWin::Core::ReadDelegate::OnObjectSignaled   (tcp_client_socket_win.cc:252)     by 0x95A9EA: base::ObjectWatcher::Watch::Run (object_watcher.cc:30)     by 0x916728: MessageLoop::RunTask (message_loop.cc:320)     by 0x9167D4: MessageLoop::DeferOrRunPendingTask (message_loop.cc:328)     by 0x916D28: MessageLoop::DoWork (message_loop.cc:435)     by 0x96FFE1: base::MessagePumpForIO::DoRunLoop (message_pump_win.cc:446)     by 0x96EAE1: base::MessagePumpWin::RunWithDispatcher   (message_pump_win.cc:52)     by 0x96ED3B: base::MessagePumpWin::Run (in /b/slave/chromium-dbg-linux-  wine-valgrind/build/src/chrome/Debug/net_unittests.exe)     by 0x91604A: MessageLoop::RunInternal (message_loop.cc:205)     by 0x915E0A: MessageLoop::RunHandler (message_loop.cc:177)     by 0x915CF9: MessageLoop::Run (message_loop.cc:155)     by 0x703A18: URLRequestTestFTP_FLAKY_FTPDirectoryListing_Test::TestBody   (url_request_unittest.cc:1856)     by 0x8E4E17: testing::Test::Run (gtest.cc:2060)  {     Memcheck:Leak     fun:RtlAllocateHeap     fun:WSARecvFrom     fun:WSARecv     fun:net::TCPClientSocketWin::Read     fun:net::FtpNetworkTransaction::DoCtrlRead     fun:net::FtpNetworkTransaction::DoLoop     fun:net::FtpNetworkTransaction::OnIOComplete     fun:DispatchToMethod&amp;lt;net::FtpNetworkTransaction void (__thiscall   net::FtpNetworkTransaction::*)(int) int&amp;gt;     fun:CallbackImpl&amp;lt;net::FtpNetworkTransaction void (__thiscall   net::FtpNetworkTransaction::*)(int) Tuple1&amp;lt;int&amp;gt; &amp;gt;::RunWithParams     fun:CallbackRunner&amp;lt;Tuple1&amp;lt;int&amp;gt; &amp;gt;::Run&amp;lt;int&amp;gt;     fun:net::TCPClientSocketWin::DoReadCallback     fun:net::TCPClientSocketWin::DidCompleteConnect     fun:net::TCPClientSocketWin::Core::ReadDelegate::OnObjectSignaled     fun:base::ObjectWatcher::Watch::Run     fun:MessageLoop::RunTask     fun:MessageLoop::DeferOrRunPendingTask     fun:MessageLoop::DoWork     fun:base::MessagePumpForIO::DoRunLoop     fun:base::MessagePumpWin::RunWithDispatcher     fun:base::MessagePumpWin::Run     fun:MessageLoop::RunInternal     fun:MessageLoop::RunHandler     fun:MessageLoop::Run     fun:URLRequestTestFTP_FLAKY_FTPDirectoryListing_Test::TestBody     fun:testing::Test::Run  }   </pre>