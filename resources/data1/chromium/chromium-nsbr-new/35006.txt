<title>Issue 35006 -   chromium -    Calling external custom protocol requires user action - Project Hosting on Google Code</title> <pre> Chrome Version       : 3.x to 5.x    Other browsers tested: IE  Firefox  Safari         Safari 4: OK    Firefox 3.x: OK           IE 7: OK           IE 8: OK      it is unfortunately hard to provide an isolated test file / environment for  this issue  as it is part of a large web based CRM  but I'll describe it here.    Step 1) The Windows system has a registered  'foo:' custom protocol. An EXE  file opens a web page in chrome which is set as default browser  using  ShellExecute.  The said page has a line of javascript doing  'location.href=foo:someparams'. At first  the Javascript is successfully  calling the protocol.    Step2) The user logs into our web based CRM system. A set of pages get the  same EXE to call the same html page in Chrome (exactly same code)  and this  time the Javascript line just does nothing.     Typing the location.href= command into Javascript console also does nothing.     If this code is placed into an onload event of the page  nothing happens.    If this code is placed in a &lt;div onclick=&quot;location.href=foo:someparams&quot;&gt;  and the div is clicked by the user  it works (requires user interaction  apparently)    Placing a META refresh tag with 0 or 10 seconds also does nothing. If the  user hits F5  then it works on the next refresh (again  requires user  interaction).    Using window.open with that foo:someparams URL also does not work  unless  it is performed on a user click or some action manually initiated by the user.    Note : The hack of adding &quot;foo: false&quot; to the protocol list in the User  State file has been activated to avoid the annoying confirmation dialogs  everytime the protocol is called.    Question ?    How is it possible that it works just fine the first time  and is somehow  blocked unless the user manually performs an action leading to that URL ?    Is this some kind of obscure security restriction and if so  how to be able  to set some option to trust this protocol / URL ?         </pre>