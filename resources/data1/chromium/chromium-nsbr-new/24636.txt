<title>Issue 24636 -   chromium -    gcl upload fails trying to see if I have mercurial - Project Hosting on Google Code</title> <pre>   1. Make a new change list  2. gcl upload        I expected things to upload  instead I get something like:      File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/gcl.py&quot;  line 1250  in &lt;module&gt;      sys.exit(main())    File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/gcl.py&quot;  line 1223  in main      UploadCL(change_info  argv[3:])    File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/gcl.py&quot;  line 845  in UploadCL      issue  patchset = upload.RealMain(upload_arg  change_info.patch)    File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/upload.py&quot;  line 1270  in RealMain      vcs = GuessVCS(options)    File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/upload.py&quot;  line 1232  in GuessVCS      out  returncode = RunShellWithReturnCode([&quot;hg&quot;  &quot;root&quot;])    File &quot;/Users/mdalrymple/Projects/chromium/depot_tools/upload.py&quot;  line 566  in RunShellWithReturnCode      shell=use_shell  universal_newlines=universal_newlines)    File &quot;/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/subprocess.py&quot;  line 593  in   __init__      errread  errwrite)    File &quot;/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/subprocess.py&quot;  line 1079  in   _execute_child      raise child_exception  OSError: [Errno 5] Input/output error    I managed to narrow it down to upload.py's GuessVCS method.  It tries to run &quot;hg&quot;.  It's expecting a return code of 2   (ENOENT)  but for whatever reason  my system is resulting in a return code of 5 (I/O Error).  Maybe it's because I   have csh as my default shell.  If I add &quot;and errno != 5&quot; to the if clause in the except OSErr  coming from   RunShellWihtReturnCode([&quot;hg&quot;  &quot;root])  then I can happily upload.    OS X 10.5.8.   </pre>