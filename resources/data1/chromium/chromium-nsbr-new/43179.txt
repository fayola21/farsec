<title>Issue 43179 -   chromium -    Leak(s) in SpdySessionTest.GetPushStream - Project Hosting on Google Code</title> <pre> Leaks started at <a href="/p/chromium/source/detail?r=46313">r46313</a> from SpdySessionTest.GetPushStream on Mac/Linux.  The one consistent trace is:    A)      operator new(unsigned long) (mp/vg-bins/scripts/valgrind-memcheck/coregrind/m_replacemalloc/vg_replace_malloc.c:276)    net::(anonymous namespace)::SessionDependencies::SessionDependencies() (spdy_session_unittest.cc:41)    net::(anonymous namespace)::SessionDependencies::SessionDependencies() (spdy_session_unittest.cc:42)    net::SpdySessionTest_GetPushStream_Test::TestBody() (spdy_session_unittest.cc:178)    testing::Test::Run() (gtest.cc:2095)    testing::internal::TestInfoImpl::Run() (gtest.cc:2314)    testing::TestCase::Run() (gtest.cc:2420)    testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:4024)    testing::UnitTest::Run() (gtest.cc:3687)    TestSuite::Run() (test/test_suite.h:125)    main (run_all_unittests.cc:38)    But Mac has been reporting these other two off and on:    B)      net::TCPClientSocketPool::RequestSocket() (tcp_client_socket_pool.cc:214)    int net::ClientSocketHandle::Init&lt;net::TCPSocketParams  net::TCPClientSocketPool&gt;() (client_socket_handle.h:168)    net::SpdySession::Connect() (spdy_session.cc:281)    net::SpdySessionTest_GetPushStream_Test::TestBody() (spdy_session_unittest.cc:217)    testing::Test::Run() (gtest.cc:2095)    testing::internal::TestInfoImpl::Run() (gtest.cc:2314)    testing::TestCase::Run() (gtest.cc:2420)    testing::internal::UnitTestImpl::RunAllTests() (gtest.cc:4024)    testing::UnitTest::Run() (gtest.cc:3687)    TestSuite::Run() (test/test_suite.h:125)    main (run_all_unittests.cc:38)    C)      operator new(unsigned long) (mp/vg-bins/scripts/valgrind-memcheck/coregrind/m_replacemalloc/vg_replace_malloc.c:276)    net::SpdySession::OnSyn() (spdy_session.cc:970)    net::SpdySession::OnControl(spdy::SpdyControlFrame const*) (spdy_session.cc:1073)    spdy::SpdyFramer::ProcessControlFramePayload(char const*  unsigned long) (spdy_framer.cc:346)    spdy::SpdyFramer::ProcessInput(char const*  unsigned long) (spdy_framer.cc:185)    net::SpdySession::OnReadComplete(int) (spdy_session.cc:548)    ...     MessageLoop::RunTask(Task*) (message_loop.cc:328)    MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;) (message_loop.cc:336)    MessageLoop::DoWork() (message_loop.cc:443)    base::MessagePumpLibevent::Run(base::MessagePump::Delegate*) (message_pump_libevent.cc:241)    MessageLoop::RunInternal() (message_loop.cc:204)    MessageLoop::RunHandler() (message_loop.cc:176)    MessageLoop::RunAllPending() (message_loop.cc:160)    net::SpdySessionTest_GetPushStream_Test::TestBody() (spdy_session_unittest.cc:219)    Linux A: <a href="http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrind)(3)/builds/5017/steps/valgrind%20test:%20net/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Linux%20Tests%20(valgrind)(3)/builds/5017/steps/valgrind%20test:%20net/logs/stdio</a>  Mac A/B: <a href="http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4568/steps/valgrind%20test:%20net/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4568/steps/valgrind%20test:%20net/logs/stdio</a>  C: <a href="http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4563/steps/valgrind%20test:%20net/logs/stdio">http://build.chromium.org/buildbot/memory/builders/Chromium%20Mac%20(valgrind)/builds/4563/steps/valgrind%20test:%20net/logs/stdio</a> </pre>