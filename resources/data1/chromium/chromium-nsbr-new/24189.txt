<title>Issue 24189 -   chromium -    fastdomopen-and-close-by-DOM.html is failing - Project Hosting on Google Code</title> <pre> (from http://buganizer/issue?id=753420 )    tc on June 14 2007 17:28  (Assigned)  Summary     regression: fastdomopen-and-close-by-DOM.html is failing  Component     Chrome &gt; Deprecated &gt; Tools &gt; Layout Tests  Reporter     tc  Assignee     tc  CC     chrome-team  Type     Bug  Priority     P2  Severity     S2  In prod     false  Notes  Adding the navigation controller (window.history) to the test shell has  caused this test to start failing.  As it turns out  it should have been  failing before  but the lack of history was causing it to succeed.    In kjs_window.cpp:1817  window.close() is only supposed to work if either  the openedByDOM bit is set on the frame or if getHistoryLength() &lt;= 1.   Since we had no history  it was closing  but the test is actually supposed  to be testing the openedByDOM bit.    We're not passing the openedByDOM bit properly because we're passing the  frame creation on to our webview delegate (so we can start a new process)  and not passing the bit through.  Normally the bit is set by  FrameLoader::continueLoadAfterNewWindowPolicy().    After talking with Darin  it sounds like we're going to have different  rules for whether or not window.close() should work  so I'm just going to  disable this test for now.  tc on June 14 2007 18:04  (Fixed / Fixed)  Notes  Disabled in <a href="/p/chromium/source/detail?r=838">r838</a>.  mal on November 02 2007 15:29  (New)  Assignee     &lt;none&gt;  Hotlist     Cr__Rel_1.0  WebKit ignored tests  Notes  I'd like to keep this open until we fix the test and remove it from the  ignored list (or decide that we'll never fix it).  mal on December 13 2007 11:23  (New)  Summary     fastdomopen-and-close-by-DOM.html is failing  Notes  This doesn't need to be considered a regression anymore.    This test is on the ignored list. It should be on the fixable list IMO.  eseidel on March 13 2008 17:54  (New)  Hotlist     Cr__Rel_1.0  WebKit ignored tests  layout_test_failures  mal on March 22 2008 14:40  (New)  CC     chrome-bugs  dsiroker on March 31 2008 23:55  (New)  Component     Chrome &gt; Deprecated &gt; Compatibility &gt; Layout Test Failures  ananthak on April 22 2008 14:00  (New)  Component     Chrome &gt; Deprecated &gt; WebKit  eseidel on May 01 2008 13:21  (New)  Hotlist     WebKit ignored tests  layout_test_failures  Cr__Rel_Future  Cr__Untriaged  Notes  Not for beta.  eseidel on May 01 2008 13:21  (New)  Notes  To be clear: our behavior is currently intentionally different (as far as I  understand).  The test can be fixed/tweaked/etc. as part of the  great-merge-up after Beta.   </pre>