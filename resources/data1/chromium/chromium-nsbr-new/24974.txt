<title>Issue 24974 -   chromium -    DCHECK in  Browser::CanCloseWithInProgressDownloads - Project Hosting on Google Code</title> <pre>   1. Go to <a href="http://video.linuxfoundation.org/video/1578">http://video.linuxfoundation.org/video/1578</a>  2. Right click the .ogg file in &quot;share this video&quot; section  3. Choose save as        When the download starts close the tab.    Here's the trace:     	chrome.dll!DebugUtil::BreakDebugger()  Line 221	C++   	chrome.dll!logging::LogMessage::~LogMessage()  Line 540	C++  &gt;	chrome.dll!Browser::CanCloseWithInProgressDownloads()  Line 2683	C++   	chrome.dll!Browser::CanCloseContentsAt(int index=0)  Line 1649	C++   	  chrome.dll!TabStripModel::InternalCloseTabs(std::vector&lt;int std::allocator&lt;int&gt; &gt;   indices=[1](0)  bool create_historical_tabs=true)  Line 650 + 0x26 bytes	C++   	chrome.dll!TabStripModel::CloseTabContentsAt(int index=0)  Line 226 + 0x18   bytes	C++   	chrome.dll!TabStrip::CloseTab(Tab * tab=0x02bf3b40)  Line 1125	C++   	chrome.dll!Tab::ButtonPressed(views::Button * sender=0x02c6d8c0  const   views::Event &amp; event={...})  Line 235 + 0x22 bytes	C++   	chrome.dll!views::Button::NotifyClick(const views::Event &amp; event={...})  Line   74 + 0x1e bytes	C++   	chrome.dll!views::CustomButton::OnMouseReleased(const views::MouseEvent &amp;   e={...}  bool canceled=false)  Line 138 + 0x16 bytes	C++   	chrome.dll!views::View::ProcessMouseReleased(const views::MouseEvent &amp;   e={...}  bool canceled=false)  Line 517 + 0x1a bytes	C++   	chrome.dll!views::RootView::OnMouseReleased(const views::MouseEvent &amp;   e={...}  bool canceled=false)  Line 448	C++   	chrome.dll!views::WidgetWin::ProcessMouseReleased(const WTL::CPoint &amp;   point={...}  unsigned int flags=1)  Line 915 + 0x26 bytes	C++   	chrome.dll!views::WidgetWin::OnLButtonUp(unsigned int flags=0  const   WTL::CPoint &amp; point={...})  Line 600	C++   	chrome.dll!views::WidgetWin::_ProcessWindowMessage(HWND__ * hWnd=0x002309e2    unsigned int uMsg=514  unsigned int wParam=0  long lParam=2162883  long &amp; lResult=0    unsigned long dwMsgMapID=0)  Line 141 + 0x4c bytes	C++   	chrome.dll!views::WidgetWin::ProcessWindowMessage(HWND__ * hWnd=0x002309e2    unsigned int uMsg=514  unsigned int wParam=0  long lParam=2162883  long &amp; lResult=0    unsigned long dwMsgMapID=0)  Line 95 + 0x47 bytes	C++   	chrome.dll!views::WidgetWin::OnWndProc(unsigned int message=514  unsigned int   w_param=0  long l_param=2162883)  Line 1106 + 0x24 bytes	C++   	chrome.dll!app::WindowImpl::WndProc(HWND__ * hwnd=0x002309e2  unsigned int   message=514  unsigned int w_param=0  long l_param=2162883)  Line 183 + 0x1b bytes	  C++   	user32.dll!76be8807() 	   	[Frames below may be incorrect and/or missing  no symbols loaded for   user32.dll]	   	user32.dll!76be8962() 	   	user32.dll!76be8911() 	   	user32.dll!76be8aad() 	   	chrome.dll!std::_Iterator_base::~_Iterator_base()  Line 151 + 0x17 bytes	  C++   	user32.dll!76be8b00() 	   	chrome.dll!views::AcceleratorHandler::Dispatch(const tagMSG &amp; msg={...})    Line 57 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForUI::ProcessMessageHelper(const tagMSG &amp;   msg={...})  Line 357 + 0x1f bytes	C++   	chrome.dll!base::MessagePumpForUI::ProcessNextWindowsMessage()  Line 336 +   0xc bytes	C++   	chrome.dll!base::MessagePumpForUI::DoRunLoop()  Line 205 + 0x8 bytes	C++   	  chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate *   delegate=0x005bed5c  base::MessagePumpWin::Dispatcher * dispatcher=0x005bdd28)  Line   52 + 0xf bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 195	C++   	chrome.dll!MessageLoop::RunHandler()  Line 182	C++   	chrome.dll!MessageLoopForUI::Run(base::MessagePumpWin::Dispatcher *   dispatcher=0x005bdd28)  Line 600	C++   	chrome.dll!`anonymous namespace'::RunUIMessageLoop(BrowserProcess *   browser_process=0x02be5000)  Line 155	C++   	chrome.dll!BrowserMain(const MainFunctionParams &amp; parameters={...})  Line 881   + 0x11 bytes	C++   	chrome.dll!ChromeMain(HINSTANCE__ * instance=0x00250000    sandbox::SandboxInterfaceInfo * sandbox_info=0x005bf714  wchar_t *   command_line=0x00612fb0)  Line 600 + 0xc bytes	C++   	chrome.exe!wWinMain(HINSTANCE__ * instance=0x00250000  HINSTANCE__ *   prev_instance=0x00000000  wchar_t * command_line=0x00612fb0  int __formal=1)  Line   104 + 0x14 bytes	C++   	chrome.exe!__tmainCRTStartup()  Line 324 + 0x35 bytes	C   	chrome.exe!wWinMainCRTStartup()  Line 196	C   	kernel32.dll!76dbe4a5() 	   	ntdll.dll!7783cfed() 	   	ntdll.dll!7783d1ff() 	    And this keeps happening. </pre>