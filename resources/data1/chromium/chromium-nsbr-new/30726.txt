<title>Issue 30726 -   chromium -    Three valgrind errors related to the use of zlib in the FLIP code - Project Hosting on Google Code</title> <pre> valgrind reports three errors in zlib functions called by  the FLIP code.  Note that these errors may be known issues  in zlib and we may just need to adjust existing suppressions  (e.g.  the one for <a title="Memory leak in FlipFramer::DecompressFrame" class=closed_ref href="/p/chromium/issues/detail?id=30667"> issue 30667 </a>) to cover them.    Here is the valgrind report:    10:57:36 memcheck_analyze.py [ERROR] FAIL! There were 3 errors:   10:57:36 memcheck_analyze.py [ERROR] UninitValue  Command: src/sconsbuild/Release/net_unittests --gtest_filter=-  DiskCacheBackendTest.InvalidEntry:DiskCacheBackendTest.InvalidEntryRead:Dis  kCacheBackendTest.InvalidEntryWithLoad:DiskCacheBackendTest.TrimInvalidEntr  y:DiskCacheBackendTest.TrimInvalidEntry2:DiskCacheBackendTest.InvalidEntryE  numeration:DiskCacheBackendTest.NewEvictionInvalidEntry:DiskCacheBackendTes  t.NewEvictionInvalidEntryRead:DiskCacheBackendTest.NewEvictionInvalidEntryW  ithLoad:DiskCacheBackendTest.NewEvictionTrimInvalidEntry:DiskCacheBackendTe  st.NewEvictionTrimInvalidEntry2:DiskCacheBackendTest.NewEvictionInvalidEntr  yEnumeration --gtest_print_time  Use of uninitialised value of size 4    inflate_fast (ild/buildd/zlib-1.2.3.3.dfsg/inffast.c:293)    inflate (ild/buildd/zlib-1.2.3.3.dfsg/inflate.c:954)    flip::FlipFramer::DecompressFrame(flip::FlipFrame const*)   (uilder/build/src/net/flip/flip_framer.cc:730)    (anonymous namespace)::FlipFramerTest_BasicCompression_Test::TestBody()   (uilder/build/src/net/flip/flip_framer_test.cc:201)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2099)    testing::internal::TestInfoImpl::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2318)    testing::TestCase::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2426)    testing::internal::UnitTestImpl::RunAllTests()   (uilder/build/src/testing/gtest/src/gtest.cc:4026)    testing::UnitTest::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:3694)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:124)    main (uilder/build/src/net/base/run_all_unittests.cc:38)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Value4     fun:inflate_fast     fun:inflate     fun:_ZN4flip10FlipFramer15DecompressFrameEPKNS_9FlipFrameE       fun:_ZN112_GLOBAL__N__b_slave_chromium_rel_linux_valgrind_builder_build_src  _net_flip_flip_framer_test.cc_00000000_ECB8879436FlipFramerTest_BasicCompre  ssion_Test8TestBodyEv     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  }      10:57:36 memcheck_analyze.py [ERROR] UninitCondition  Command: src/sconsbuild/Release/net_unittests --gtest_filter=-  DiskCacheBackendTest.InvalidEntry:DiskCacheBackendTest.InvalidEntryRead:Dis  kCacheBackendTest.InvalidEntryWithLoad:DiskCacheBackendTest.TrimInvalidEntr  y:DiskCacheBackendTest.TrimInvalidEntry2:DiskCacheBackendTest.InvalidEntryE  numeration:DiskCacheBackendTest.NewEvictionInvalidEntry:DiskCacheBackendTes  t.NewEvictionInvalidEntryRead:DiskCacheBackendTest.NewEvictionInvalidEntryW  ithLoad:DiskCacheBackendTest.NewEvictionTrimInvalidEntry:DiskCacheBackendTe  st.NewEvictionTrimInvalidEntry2:DiskCacheBackendTest.NewEvictionInvalidEntr  yEnumeration --gtest_print_time  Conditional jump or move depends on uninitialised value(s)    inflate_fast (ild/buildd/zlib-1.2.3.3.dfsg/inffast.c:187)    inflate (ild/buildd/zlib-1.2.3.3.dfsg/inflate.c:954)    flip::FlipFramer::DecompressFrame(flip::FlipFrame const*)   (uilder/build/src/net/flip/flip_framer.cc:730)    (anonymous namespace)::FlipFramerTest_BasicCompression_Test::TestBody()   (uilder/build/src/net/flip/flip_framer_test.cc:201)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2099)    testing::internal::TestInfoImpl::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2318)    testing::TestCase::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2426)    testing::internal::UnitTestImpl::RunAllTests()   (uilder/build/src/testing/gtest/src/gtest.cc:4026)    testing::UnitTest::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:3694)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:124)    main (uilder/build/src/net/base/run_all_unittests.cc:38)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Cond     fun:inflate_fast     fun:inflate     fun:_ZN4flip10FlipFramer15DecompressFrameEPKNS_9FlipFrameE       fun:_ZN112_GLOBAL__N__b_slave_chromium_rel_linux_valgrind_builder_build_src  _net_flip_flip_framer_test.cc_00000000_ECB8879436FlipFramerTest_BasicCompre  ssion_Test8TestBodyEv     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  }      10:57:36 memcheck_analyze.py [ERROR] UninitCondition  Command: src/sconsbuild/Release/net_unittests --gtest_filter=-  DiskCacheBackendTest.InvalidEntry:DiskCacheBackendTest.InvalidEntryRead:Dis  kCacheBackendTest.InvalidEntryWithLoad:DiskCacheBackendTest.TrimInvalidEntr  y:DiskCacheBackendTest.TrimInvalidEntry2:DiskCacheBackendTest.InvalidEntryE  numeration:DiskCacheBackendTest.NewEvictionInvalidEntry:DiskCacheBackendTes  t.NewEvictionInvalidEntryRead:DiskCacheBackendTest.NewEvictionInvalidEntryW  ithLoad:DiskCacheBackendTest.NewEvictionTrimInvalidEntry:DiskCacheBackendTe  st.NewEvictionTrimInvalidEntry2:DiskCacheBackendTest.NewEvictionInvalidEntr  yEnumeration --gtest_print_time  Conditional jump or move depends on uninitialised value(s)    inflate (ild/buildd/zlib-1.2.3.3.dfsg/inflate.c:785)    flip::FlipFramer::DecompressFrame(flip::FlipFrame const*)   (uilder/build/src/net/flip/flip_framer.cc:730)    (anonymous namespace)::FlipFramerTest_BasicCompression_Test::TestBody()   (uilder/build/src/net/flip/flip_framer_test.cc:201)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2099)    testing::internal::TestInfoImpl::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2318)    testing::TestCase::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:2426)    testing::internal::UnitTestImpl::RunAllTests()   (uilder/build/src/testing/gtest/src/gtest.cc:4026)    testing::UnitTest::Run()   (uilder/build/src/testing/gtest/src/gtest.cc:3694)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:124)    main (uilder/build/src/net/base/run_all_unittests.cc:38)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Cond     fun:inflate     fun:_ZN4flip10FlipFramer15DecompressFrameEPKNS_9FlipFrameE       fun:_ZN112_GLOBAL__N__b_slave_chromium_rel_linux_valgrind_builder_build_src  _net_flip_flip_framer_test.cc_00000000_ECB8879436FlipFramerTest_BasicCompre  ssion_Test8TestBodyEv     fun:_ZN7testing4Test3RunEv     fun:_ZN7testing8internal12TestInfoImpl3RunEv     fun:_ZN7testing8TestCase3RunEv     fun:_ZN7testing8internal12UnitTestImpl11RunAllTestsEv     fun:_ZN7testing8UnitTest3RunEv     fun:_ZN9TestSuite3RunEv     fun:main  } </pre>