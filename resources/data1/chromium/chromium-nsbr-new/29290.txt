<title>Issue 29290 -   chromium -    [i18n] Chrome only: Draft auto-saving clears IME's preedit text - Project Hosting on Google Code</title> <pre> (Copied from &lt;http://b/2294301&gt;    How to reproduce:   1. Open Gmail   2. Open Compose view   3. Enable IME   4. Type any characters as preedit text without confirming   5. Wait for the draft auto-saving    Expected result:   6. The draft is saved  and no changes to the preedit text.    Actual result:   6. The draft is saved  and the preedit text dissapears.    There are some reports about this issue in our help forums:   <a href="http://www.google.com/support/forum/p/gmail/thread?tid=24ce9a4cdc9a053e&amp;hl=ja">http://www.google.com/support/forum/p/gmail/thread?tid=24ce9a4cdc9a053e&amp;hl=ja</a>   <a href="http://www.google.com/support/forum/p/gmail/thread?tid=5b8f99fe75a7521a&amp;hl=ja">http://www.google.com/support/forum/p/gmail/thread?tid=5b8f99fe75a7521a&amp;hl=ja</a>   <a href="http://www.google.com/support/forum/p/chrome/thread?tid=28d2ca56a2ff9068&amp;hl=ja">http://www.google.com/support/forum/p/chrome/thread?tid=28d2ca56a2ff9068&amp;hl=ja</a>   <a href="http://www.google.com/support/forum/p/chrome/thread?tid=725ee7f50f0cb2a9&amp;hl=ja">http://www.google.com/support/forum/p/chrome/thread?tid=725ee7f50f0cb2a9&amp;hl=ja</a>    This seems Gmail-specific  and Chrome-specific  and not IME-specific issue.        This seems to be another side-effect of my <a href="/p/chromium/source/detail?r=4300">r4300</a> (*1)  which fixed <a title="OmniBox: NavSuggest doesn't work fine when you select NavSuggest suggested item before finalizing IME " class=closed_ref href="/p/chromium/issues/detail?id=3156"> Issue 3156 </a>. My <a href="/p/chromium/source/detail?r=4300">r4300</a> cancels an ongoing composition while   updating omnibox text. Unfortunately  this cancellation request also cancels ongoing composition in the RenderWidgetHostViewWin   class and it causes this issue.    My <a href="/p/chromium/source/detail?r=4300">r4300</a> has already caused side-effects (such as <a title="IME: Form autofill pop-up is overlapped with IME candidate window" class=closed_ref href="/p/chromium/issues/detail?id=9596"> Issue 9596 </a>  <a title="Checkfailure in autocomplete code calling SetSelectedLine() with old line == kNoMatch" class=closed_ref href="/p/chromium/issues/detail?id=13500"> Issue 13500 </a>  etc.) and we had to write workarounds for them. So  I   think it is better to revert my <a href="/p/chromium/source/detail?r=4300">r4300</a> once and find another solutions for <a title="OmniBox: NavSuggest doesn't work fine when you select NavSuggest suggested item before finalizing IME " class=closed_ref href="/p/chromium/issues/detail?id=3156"> Issue 3156 </a> than to write another workaround. (That is    I fear we are going a wrong way.)     (*1) &lt;<a href="http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=4300">http://src.chromium.org/viewvc/chrome?view=rev&amp;revision=4300</a>&gt;    Regards  </pre>