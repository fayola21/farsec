<title>Issue 39423 -   chromium -    Test LayoutTests/security/block-test.html timeouts in Chromium. - Project Hosting on Google Code</title> <pre> After upstream change <a href="http://trac.webkit.org/changeset/56489">http://trac.webkit.org/changeset/56489</a>  the test  timeouts.    The reason: KURL and GURL handle URLs with port number &gt; 65535 (0x80000 and  higher) differently. KURL initializes the URL as valid and then later  blocks the network operation. This causes onError event to be raised on the  IMG element that the test uses and it moves the test forward.    In googleurl  ulr_canon::CanonicalizePort() will try to parse the port and  return url_parse::PORT_INVALID  which will render those URLs 'invalid'    So DocLoader::RequestResource() will check for fullURL.isValid() and abort  load right there  it will never hit network and never fire onError.    I'm disabling the test in test_expectations for now.    This has to be fixed either by relaxing the checks in googleurl or by  firing onError in case we couldn't complete the URL while initiating a load.    It disables a security test so I'm setting it to Pri-1  preliminary. </pre>