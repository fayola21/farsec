<title>Issue 24163 -   chromium -    VisitedLinkMaster reads from disk on UI thread - Project Hosting on Google Code</title> <pre> This happens while creating the first BrowserRenderProcessHost  so it   affects startup time. Deferring the init process on this object seems non-  trivial.    [15371:15371:180781047636:FATAL:/usr/local/google/2chrome/src/base/file_uti  l_posix.cc(506)] Check failed: MessageLoop::current()-&gt;thread_name() ==   &quot;Chrome_FileThread&quot; (Chromium_BrowserMain vs. Chrome_FileThread)    Program received signal SIGTRAP  Trace/breakpoint trap.  DebugUtil::BreakDebugger () at   /usr/local/google/2chrome/src/base/debug_util_posix.cc:120  120	}  (gdb) bt  #0  DebugUtil::BreakDebugger () at   /usr/local/google/2chrome/src/base/debug_util_posix.cc:120  #1  0x0000000000a6cc93 in ~LogMessage (this=0x7fffffff9cd0) at   /usr/local/google/2chrome/src/base/logging.cc:535  #2  0x0000000000a59777 in file_util::OpenFile (filename=@0x7fffffff9ff0    mode=0x1d2154b &quot;rb+&quot;)      at /usr/local/google/2chrome/src/base/file_util_posix.cc:506  #3  0x00000000006d6a02 in VisitedLinkMaster::InitFromFile   (this=0x7fffec008170)      at   /usr/local/google/2chrome/src/chrome/browser/visitedlink_master.cc:571  #4  0x00000000006d86a9 in VisitedLinkMaster::Init (this=0x7fffec008170)      at   /usr/local/google/2chrome/src/chrome/browser/visitedlink_master.cc:265  #5  0x00000000005e4405 in ProfileImpl::GetVisitedLinkMaster   (this=0x4f6fb00)      at /usr/local/google/2chrome/src/chrome/browser/profile.cc:838  #6  0x000000000086b712 in BrowserRenderProcessHost::InitVisitedLinks   (this=0x51298b0)      at   /usr/local/google/2chrome/src/chrome/browser/renderer_host/browser_render_p  rocess_host.cc:602  #7  0x000000000086c6b7 in BrowserRenderProcessHost::Init (this=0x51298b0)      at   /usr/local/google/2chrome/src/chrome/browser/renderer_host/browser_render_p  rocess_host.cc:342  #8  0x00000000005fc5c0 in RenderViewHost::CreateRenderView (this=0x5129720)      at   /usr/local/google/2chrome/src/chrome/browser/renderer_host/render_view_host  .cc:177  #9  0x0000000000698b7f in TabContents::CreateRenderViewForRenderManager   (this=0x5128000  render_view_host=0x5129720)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/tab_contents.cc:2  538  #10 0x00000000008cf93a in RenderViewHostManager::Navigate (this=0x5128120    entry=@0x512c070)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/render_view_host_  manager.cc:82  #11 0x000000000069bcf7 in TabContents::NavigateToPendingEntry   (this=0x5128000  reload=false)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/tab_contents.cc:6  92  #12 0x000000000068fd4e in NavigationController::NavigateToPendingEntry   (this=0x5128058  reload=false)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/navigation_contro  ller.cc:898  #13 0x000000000069075e in NavigationController::LoadEntry (this=0x5128058    entry=0x512c070)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/navigation_contro  ller.cc:214  #14 0x00000000006907a7 in NavigationController::LoadURL (this=0x5128058    url=@0x7fffffffb210  referrer=@0x7fffffffb440  transition=6)      at   /usr/local/google/2chrome/src/chrome/browser/tab_contents/navigation_contro  ller.cc:393  #15 0x0000000000738907 in Browser::CreateTabContentsForURL (this=0x4f9a100    url=@0x7fffffffb210  referrer=@0x7fffffffb440        profile=0x4f6fb00  transition=6  defer_load=false  instance=0x0) at   /usr/local/google/2chrome/src/chrome/browser/browser.cc:1574  #16 0x000000000073f372 in Browser::AddTabWithURL (this=0x4f9a100    url=@0x4faf270  referrer=@0x7fffffffb440  transition=6        foreground=true  index=-1  force_index=false  instance=0x0) at   /usr/local/google/2chrome/src/chrome/browser/browser.cc:525  #17 0x000000000074a659 in BrowserInit::LaunchWithProfile::OpenURLsInBrowser   (this=0x7fffffffbc40  browser=0x4f9a100        process_startup=true  urls=@0x7fffffffb7f0) at   /usr/local/google/2chrome/src/chrome/browser/browser_init.cc:563  #18 0x000000000074b4dd in BrowserInit::LaunchWithProfile::Launch   (this=0x7fffffffbc40  profile=0x4f6fb00  process_startup=true)      at /usr/local/google/2chrome/src/chrome/browser/browser_init.cc:444  #19 0x000000000074b87a in LaunchBrowser (command_line=@0x4f33b40    profile=0x4f6fb00  cur_dir=@0x7fffffffd390  process_startup=true        return_code=0x7fffffffd76c  browser_init=0x7fffffffd370) at   /usr/local/google/2chrome/src/chrome/browser/browser_init.cc:340  #20 0x000000000074c5e1 in BrowserInit::ProcessCmdLineImpl   (command_line=@0x4f33b40  cur_dir=@0x7fffffffd390  process_startup=true        profile=0x4f6fb00  return_code=0x7fffffffd76c    browser_init=0x7fffffffd370)      at /usr/local/google/2chrome/src/chrome/browser/browser_init.cc:814  #21 0x000000000045bb62 in BrowserInit::Start (this=0x7fffffffd370    cmd_line=@0x4f33b40  cur_dir=@0x7fffffffd390  profile=0x4f6fb00        return_code=0x7fffffffd76c)  #22 0x0000000000458cf3 in BrowserMain (parameters=@0x7fffffffe2d0) at   /usr/local/google/2chrome/src/chrome/browser/browser_main.cc:852  #23 0x0000000000401084 in ChromeMain (argc=1  argv=0x7fffffffe598) at   /usr/local/google/2chrome/src/chrome/app/chrome_dll_main.cc:600  #24 0x0000000000400414 in main (argc=1  argv=0x7fffffffe598) at   /usr/local/google/2chrome/src/chrome/app/chrome_exe_main_gtk.cc:33 </pre>