<title>Issue 40467 -   chromium -    Remove TCMalloc dependency from libbase - Project Hosting on Google Code</title> <pre> Copy pasted from an email exchange between me and mmoss:    So  I think this is the deal.  Libraries shouldn't be choosing the memory allocator.  What if chrome   depended on libA which depends on MallocX  and also libB which depends on MallocY.  Which Malloc   implementation should chrome get?  Really  it's chrome that should be deciding which it gets  so   libA and libB shouldn't specify it.  This is the reason we don't let WebKit define FastMalloc (which is   really their version of TCMalloc).    So  the fact that profiler.cc depends on TCMalloc is a design flaw  since it forces libbase to depend   on TCMalloc.  I believe I reviewed that change  so it's my fault for not catching it earlier.  We should   define an interface in libbase.cc  and let chrome do dependency injection to specify the TCMalloc   implementation of ProfilerStart. </pre>