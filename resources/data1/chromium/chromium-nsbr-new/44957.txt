<title>Issue 44957 -   chromium -    AwaitMutualSyncCycleCompletion() ends up waiting forever if sync happens to finish before the method is called - Project Hosting on Google Code</title> <pre>   1. Build and run the TwoClientLiveBookmarksSyncTest.SimultaneousURLChanges  sync integration test    What is the expected output?  Test passes    What do you see instead?  This test case involves making an update on client 2 and waiting for the  change to be synced to client 1. This is implemented by calling  bookmark_utils::ApplyEditsWithNoGroupChange() on client 2  and after that   calling ASSERT_TRUE(client2()-&gt;AwaitMutualSyncCycleCompletion(client1())).    However  if sync has already completed before  AwaitMutualSyncCycleCompletion() is called (this happens very often with  the python sync server)  the inner call to AwaitSyncCycleCompletion() (for  client 2) never returns  causing the test case to time out.    Additional information:  The test case needs to be rewritten so that if sync is complete before the  verification method is called  it returns true immediately.   </pre>