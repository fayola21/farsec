<title>Issue 31316 -   chromium -    queryCommandState returns wrong values for some commands when an image is selected - Project Hosting on Google Code</title> <pre> Chrome Version       : Chromium	4.0.261.0 (Developer Build 33437)             Safari 4: OK    Firefox 3.x: OK           IE 7: OK           IE 8: OK      1. set contentEditable=&quot;true&quot; for the document body  2. select an image or some normal text and an image  3. use document.queryCommandState() to check the state of Bold  Italic    Underline  Strikethrough commands.      queryCommandState returns false  since no bold  italic  etc. text is   selected.      queryCommandState returns true.      Attached is a simple page that demonstrates the problem.    When you set contenteditable=&quot;true&quot; and select an image or text and an   image  the document.queryCommandState() function for Bold  Italic    Underline  Strikethrough will return true even though the selection does   not have these styles. When you select only text  queryCommandState works   as expected.    </pre>