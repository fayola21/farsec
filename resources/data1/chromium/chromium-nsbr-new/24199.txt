<title>Issue 24199 -   chromium -    Failing to load remote stylesheet in security test - Project Hosting on Google Code</title> <pre> ( Migrated from http://buganizer/issue?id=1042838 )    eseidel on February 26 2008 18:35  (New)  Summary     Failing to load remote stylesheet in security test  Component     Chrome &gt; Deprecated &gt; WebKit  Reporter     eseidel  CC     chrome-bugs  Type     Bug  Priority     P2  Severity     S2  In prod     false  Notes  Failing to load remote stylesheet in security test    // Failing to load remote stylesheet.  Probably a loader error  possibly a  security error  V8 | KJS # LayoutTestshttptestssecuritylocal-user-CSS-from-remote.html  = FAIL  eseidel on March 13 2008 17:54  (New)  Hotlist     layout_test_failures  eseidel on April 18 2008 13:41  (New)  Notes  The test in question:  <a href="http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/http/tests/security/local-user-CSS-from-remote.html">http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/http/tests/security/local-user-CSS-from-remote.html</a>  ericroman on May 22 2008 12:33  (Assigned)  Assignee     ericroman  ericroman on May 27 2008 15:08  (Assigned)  Notes  Deferring the test.    The test tries to set a _local_ user style sheet override  which is not  supported by chrome.    The test is is chrome-incompatible  as it relies on ability to read from  disk directly in renderer process  (the user style sheet is loaded synchronously from disk for each page  and  is cached using the file's modification timestamp for validation)    To make this chrome-safe  these IO operations should be proxied through the  browser (sandboxed renderer can't read directly from disk).    Specifically these functions cause the failure in test_shell.exe  (test_shell.exe _could_ read from disk  but that would be a worthless test).    (1)  void TestWebViewDelegate::SetUserStyleSheetLocation(const GURL&amp; location)    -- has a bug in that it doesn't set user_style_sheet_enabled (so the  location is disregarded)    (2)  String KURL::fileSystemPath() const { notImplemented(); return String(); }    -- gets called when setting the user stylesheet  but it is not implemented    (3)  PassRefPtr&lt;SharedBuffer&gt; SharedBuffer::createWithContentsOfFile(const  String&amp; filePath)  {     notImplemented();     return 0;  }    -- gets called to load the user stylesheet (synchronously) for the page  if  the file modification time changed.  mal on May 27 2008 17:55  (Assigned)  Notes  The following revision refers to this bug:     http://go/crsrc?view=rev&amp;revision=41565    ------------------------------------------------------------------------  <a href="/p/chromium/source/detail?r=41565">r41565</a> | ericroman | 2008-05-27 17:55:43 -0700 (Tue  27 May 2008) | 7 lines  Changed paths:    D /changes/ericroman/j6t5    M  http://go/crsrc/trunk/webkit/tools/layout_tests/test_lists/tests_fixable.txt?<a href="/p/chromium/source/detail?r=1">r1</a>=41565&amp;<a href="/p/chromium/source/detail?r=2">r2</a>=41564    M  http://go/crsrc/trunk/webkit/tools/test_shell/test_shell.cc?<a href="/p/chromium/source/detail?r=1">r1</a>=41565&amp;<a href="/p/chromium/source/detail?r=2">r2</a>=41564    M  http://go/crsrc/trunk/webkit/tools/test_shell/test_webview_delegate.cc?<a href="/p/chromium/source/detail?r=1">r1</a>=41565&amp;<a href="/p/chromium/source/detail?r=2">r2</a>=41564    - set/unset the user style sheet enabled option   (doesn't fix any tests  due to the other unimplemented stubs)  - defer the layout test  &quot;LayoutTests/http/tests/security/local-user-CSS-from-remote.html&quot;    BUG=1042838      ------------------------------------------------------------------------  ericroman on May 27 2008 17:57  (New)  Assignee     &lt;none&gt;  Notes  Layout test is deferred.  mal on June 02 2008 15:23  (New)  Notes  Chrome release 0.1.140.0 includes the following revision(s) that reference  this bug:       http://go/crsrc?view=rev&amp;revision=41565  	  Status 	New     Reporter 	eseidel  Assignee 	  Verifier 	  CC 	chrome-bugs     Type 	Bug  Priority 	P2  Severity 	S2     Depends on 	  Blocking 	     Changelists 	     Found in 	  Targeted to 	  Verified in 	  In prod 	false     Hotlists 	  layout_test_failures  Email: 	buganizer-system+20506+1042838@google.com   </pre>