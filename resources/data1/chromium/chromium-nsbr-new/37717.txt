<title>Issue 37717 -   chromium -    ExtensionPopupController can leak on shutdown - Project Hosting on Google Code</title> <pre> I see races in ExtensionApiTest.IncognitoPopup that can lead to   ExtensionPopupController getting leaked on shutdown.  My rough understanding   is that ExtensionPopupController gets cleaned up by CoreAnimation based on a   timer.  If we haven't hit the timer by the time the MessageLoop shuts down    then we leak ExtensionPopupController.    It looks like Andy added this code.  Andy  can you suggest an appropriate   fix here?  Can we delete ExtensionPopupController before the timer hits if   we're shutting down?  Perhaps by picking up on APP_TERMINATING? </pre>