<title>Issue 29821 -   chromium -    Extension dependencies/libraries? - Project Hosting on Google Code</title> <pre> Chrome Version       : 4.0.249.30 (Official Build 33928)    Probably getting a bit ahead of myself  but I've noticed that in nearly 100%   of the extensions I've written  jQuery has been useful if for nothing more   than to query the document.    I can't really object to the fact that the resource itself can't be shared.   After all  it's only a few kilobytes  and I could always load it from where   Google is hosting it -- thus  it would be cached for all extensions. I   prefer to include it in the extension so that it will work offline.    No  the (potential) problem here is performance. jQuery is around 56   kilobytes  minified  and takes about 50 ms to load in some simple tests I've   run. I haven't written an extension that comes anywhere close to that in   pure code. This means that if I have several Content Scripts affecting the   same page  jQuery is going to be loaded multiple times  just to execute a   few queries -- and it's going to be the biggest thing that's loaded.    This is not a problem  yet  but it seems incredibly wasteful  and it seems   like it would get noticeable if I had 20 or 30 of these installed. In fact    20 jQuerified extensions times 50 ms per jQuery is a full second of lag per   page.    One possible solution is to capitalize on v8's ability to snapshot a VM. I'm   not entirely sure how this would work  but it seems if jQuery is always   loaded first  and never makes any sort of remote requests (no network  no   messages  nothing)  never alters the DOM  it just loads itself  the result   could be copied into each extension that applies to the same page. Thus    jQuery is loaded once  then effectively forked  and the process could be   made generic enough to apply to any set of Javascript libraries  so long as   they are always loaded in the same order and follow those restrictions.    This suggestion focuses on content scripts because I don't see this being a   problem elsewhere. Background pages are loaded once at start  so it's not a   problem then. Other kinds of popups  including configuration  are generally   accessed one at a time. Content scripts  on the other hand  suggest the   possibility of running tens of copies of jQuery  each of which must be   loaded with every page.    Is this the right place to file suggestions like this? </pre>