<title>Issue 38293 -   chromium -    Heapchecker reports memory leaks in BookmarkBarGtkUnittest(unit_tests) on Linux - Project Hosting on Google Code</title> <pre> To reproduce  build the unit_tests locally with the &quot;linux_use_heapcheck&quot;  GYP variable set to 1  or see the reports at  <a href="http://build.chromium.org/buildbot/waterfall.fyi/builders/Linux%20Heapcheck/builds/3508/steps/heapcheck%20test%3A%20unit/logs/stdio">http://build.chromium.org/buildbot/waterfall.fyi/builders/Linux%20Heapcheck/builds/3508/steps/heapcheck%20test%3A%20unit/logs/stdio</a>    $ HEAPCHECK=strict sconsbuild/Debug/unit_tests  --gtest_filter=BookmarkBarGtkUnittest.*  ...  [  PASSED  ] 3 tests.    YOU HAVE 15 DISABLED TESTS      YOU HAVE 1 FLAKY TEST    Leak check _main_ detected leaks of 288 bytes in 7 objects    The 7 largest leaks:  Leak of 64 bytes in 1 objects allocated from:  	@ 1559ab9 ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f777ab BookmarkBarGtkUnittest_BuildsButtons_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 64 bytes in 1 objects allocated from:  	@ 1559ab9 ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f77847 BookmarkBarGtkUnittest_BuildsButtons_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 64 bytes in 1 objects allocated from:  	@ 1559ab9 ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f77a44  BookmarkBarGtkUnittest_HidesHelpMessageWithBookmark_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 40 bytes in 1 objects allocated from:  	@ 1195dbd base::internal::WeakReferenceOwner::GetRef  	@ 1559760 base::WeakPtrFactory::GetWeakPtr  	@ 1559a9a ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f777ab BookmarkBarGtkUnittest_BuildsButtons_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 40 bytes in 1 objects allocated from:  	@ 1195dbd base::internal::WeakReferenceOwner::GetRef  	@ 1559760 base::WeakPtrFactory::GetWeakPtr  	@ 1559a9a ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f77a44 BookmarkBarGtkUnittest_HidesHelpMessageWithBookmark_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 8 bytes in 1 objects allocated from:  	@ 20a4701 RefCountedBase  	@ 1195c41 RefCounted  	@ 1195c5d Flag  	@ 1195dcc base::internal::WeakReferenceOwner::GetRef  	@ 1559760 base::WeakPtrFactory::GetWeakPtr  	@ 1559a9a ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f777ab BookmarkBarGtkUnittest_BuildsButtons_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main    Leak of 8 bytes in 1 objects allocated from:  	@ 20a4701 RefCountedBase  	@ 1195c41 RefCounted  	@ 1195c5d Flag  	@ 1195dcc base::internal::WeakReferenceOwner::GetRef  	@ 1559760 base::WeakPtrFactory::GetWeakPtr  	@ 1559a9a ScopedRunnableMethodFactory::NewRunnableMethod  	@ 1556707 BookmarkBarGtk::BookmarkNodeAdded  	@ 142e0a1 BookmarkModel::AddNode  	@ 142fb19 BookmarkModel::AddURLWithCreationTime  	@ 142fbf0 BookmarkModel::AddURL  	@ 142fc36 BookmarkModel::AddURL  	@ f77a44 BookmarkBarGtkUnittest_HidesHelpMessageWithBookmark_Test::TestBody  	@ 1cc7367 testing::Test::Run  	@ 1ccaad8 testing::internal::TestInfoImpl::Run  	@ 1ccac0e testing::TestCase::Run  	@ 1ccb66d testing::internal::UnitTestImpl::RunAllTests  	@ 1ccb7bd testing::UnitTest::Run  	@ 1bc388f TestSuite::Run  	@ 1bc2359 main  	@ 7fae0f2701c4 __libc_start_main </pre>