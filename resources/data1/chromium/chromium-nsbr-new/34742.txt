<title>Issue 34742 -   chromium -    SignatureCreatorTest.BasicTest leaks memory under heap leak checker - Project Hosting on Google Code</title> <pre> Heap leak checker reports a memory leak in   SignatureCreatorTest.BasicTest on Linux:    tools/heapcheck/chrome_tests.sh -t base --  gtest_filter=SignatureCreatorTest.BasicTest  ...  Leak check _main_ detected leaks of 240 bytes in 2 objects  The 2 largest leaks:  Leak of 168 bytes in 1 objects allocated from:  	@ 7ff5ae7878cd PR_NewLock  Leak of 72 bytes in 1 objects allocated from:  	@ 7ff5aefe3d46 PORT_ZAlloc_Util        Running `valgrind --leak-check=full base_unittests --  gtest_filter=SignatureCreatorTest.BasicTest` gives the following report:    ==3112== 240 (72 direct  168 indirect) bytes in 1 blocks are definitely   lost in loss record 490 of 572  ==3112==    at 0x4C2306D: calloc   /tmp/vg/coregrind/m_replacemalloc/vg_replace_malloc.c:458  ==3112==    by 0x71E3D45: PORT_ZAlloc_Util /tmp/nss.g21230/nss-  3.12.3.1/mozilla/security/nss/lib/util/secport.c:140  ==3112==    by 0x71E3E21: PORT_NewArena_Util /tmp/nss.g21230/nss-  3.12.3.1/mozilla/security/nss/lib/util/secport.c:201  ==3112==    by 0x6EEB1CD: ??? in   /usr/lib/debug/usr/lib32/libnss3.so.1d  ==3112==    by 0x6EEBB35: PK11_ImportPrivateKeyInfoAndReturnKey in   /usr/lib/debug/usr/lib32/libnss3.so.1d  ==3112==    by 0x6EEBD4A: PK11_ImportDERPrivateKeyInfoAndReturnKey   in /usr/lib/debug/usr/lib32/libnss3.so.1d  ==3112==    by 0x61E85F:   base::RSAPrivateKey::CreateFromPrivateKeyInfo(std::vector&lt;unsigned char    std::allocator&lt;unsigned char&gt; &gt; const&amp;) /usr/local/google/chrome-  commit/src/base/crypto/rsa_private_key_nss.cc:77  ==3112==    by 0x4DD5DB:   SignatureCreatorTest_BasicTest_Test::TestBody()   /usr/local/google/chrome-  commit/src/base/crypto/signature_creator_unittest.cc:21  ==3112==    by 0x6C78EA: testing::Test::Run()   /usr/local/google/chrome-commit/src/testing/gtest/src/gtest.cc:2085  ==3112==    by 0x6CB05B: testing::internal::TestInfoImpl::Run()   /usr/local/google/chrome-commit/src/testing/gtest/src/gtest.cc:2304  ==3112==    by 0x6CB191: testing::TestCase::Run()   /usr/local/google/chrome-commit/src/testing/gtest/src/gtest.cc:2412  ==3112==    by 0x6CBBF0: testing::internal::UnitTestImpl::RunAllTests()   /usr/local/google/chrome-commit/src/testing/gtest/src/gtest.cc:4013   </pre>