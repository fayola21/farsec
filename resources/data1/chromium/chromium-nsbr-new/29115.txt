<title>Issue 29115 -   chromium -    Valgrind leak in Skia - Project Hosting on Google Code</title> <pre> <a href="http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valg">http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valg</a>  rind)(3)/builds/1763/steps/valgrind%20test:%20ui/logs/stdio    Command: /b/slave/chromium-rel-linux-valgrind-tests-  3/build/src/sconsbuild/Release/chrome --type=zygote --enable-logging=  104 bytes in 1 blocks are definitely lost in loss record 2 501 of 2 809    malloc (ome/chrome-bot/valgrind-10880-  redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:195)    malloc (uilder/build/src/base/process_util_linux.cc:563)    sk_malloc_flags(unsigned int  unsigned int)   (uilder/build/src/skia/ext/SkMemory_new_handler.cpp:52)    sk_malloc_throw(unsigned int)   (uilder/build/src/skia/ext/SkMemory_new_handler.cpp:27)    SkDeque::push_back()   (uilder/build/src/third_party/skia/src/core/SkDeque.cpp:161)    SkCanvas::internalSave(SkCanvas::SaveFlags)   (uilder/build/src/third_party/skia/src/core/SkCanvas.cpp:561)    SkCanvas::save(SkCanvas::SaveFlags)   (uilder/build/src/third_party/skia/src/core/SkCanvas.cpp:572)    PlatformContextSkia::save()   (uilder/build/src/third_party/WebKit/WebCore/platform/graphics/skia/Platfor  mContextSkia.cpp:224)    WebCore::GraphicsContext::savePlatformState()   (uilder/build/src/third_party/WebKit/WebCore/platform/graphics/skia/Graphic  sContextSkia.cpp:246)    WebCore::GraphicsContext::save()   (uilder/build/src/third_party/WebKit/WebCore/platform/graphics/GraphicsCont  ext.cpp:93)      WebCore::RenderBoxModelObject::paintFillLayerExtended(WebCore::RenderObject  ::PaintInfo const&amp;  WebCore::Color const&amp;  WebCore::FillLayer const*  int    int  int  int  WebCore::InlineFlowBox*  WebCore::CompositeOperator)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBoxModelObject  .cpp:442)    WebCore::RenderBox::paintFillLayer(WebCore::RenderObject::PaintInfo   const&amp;  WebCore::Color const&amp;  WebCore::FillLayer const*  int  int  int    int  WebCore::CompositeOperator)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp:733)    WebCore::RenderBox::paintFillLayers(WebCore::RenderObject::PaintInfo   const&amp;  WebCore::Color const&amp;  WebCore::FillLayer const*  int  int  int    int  WebCore::CompositeOperator)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp:728)      WebCore::RenderBox::paintRootBoxDecorations(WebCore::RenderObject::PaintInf  o&amp;  int  int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp:599)      WebCore::RenderBox::paintBoxDecorations(WebCore::RenderObject::PaintInfo&amp;    int  int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBox.cpp:611)    WebCore::RenderBlock::paintObject(WebCore::RenderObject::PaintInfo&amp;  int    int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBlock.cpp:1690  )    WebCore::RenderBlock::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderBlock.cpp:1519  )    WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*    WebCore::GraphicsContext*  WebCore::IntRect const&amp;  unsigned int    WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*    WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  unsigned int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderLayer.cpp:2247  )    WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*    WebCore::GraphicsContext*  WebCore::IntRect const&amp;  unsigned int    WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*    WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  unsigned int)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderLayer.cpp:2300  )    WebCore::RenderLayer::paint(WebCore::GraphicsContext*  WebCore::IntRect   const&amp;  unsigned int  WebCore::RenderObject*)   (uilder/build/src/third_party/WebKit/WebCore/rendering/RenderLayer.cpp:2078  )    WebCore::FrameView::paintContents(WebCore::GraphicsContext*    WebCore::IntRect const&amp;)   (uilder/build/src/third_party/WebKit/WebCore/page/FrameView.cpp:1703)    WebCore::ScrollView::paint(WebCore::GraphicsContext*  WebCore::IntRect   const&amp;)   (uilder/build/src/third_party/WebKit/WebCore/platform/ScrollView.cpp:793)    WebKit::WebFrameImpl::paint(skia::PlatformCanvas*  WebKit::WebRect   const&amp;)   (uilder/build/src/third_party/WebKit/WebKit/chromium/src/WebFrameImpl.cpp:1  580)    WebKit::WebViewImpl::paint(skia::PlatformCanvas*  WebKit::WebRect const&amp;)   (uilder/build/src/third_party/WebKit/WebKit/chromium/src/WebViewImpl.cpp:83  6)    RenderWidget::PaintRect(gfx::Rect const&amp;  skia::PlatformCanvas*)   (uilder/build/src/chrome/renderer/render_widget.cc:373)    RenderWidget::DoDeferredUpdate()   (uilder/build/src/chrome/renderer/render_widget.cc:462)    RenderWidget::CallDoDeferredUpdate()   (uilder/build/src/chrome/renderer/render_widget.cc:380)    RenderWidget::OnPaintRectAck()   (uilder/build/src/chrome/renderer/render_widget.cc:272)    bool IPC::Message::Dispatch&lt;RenderWidget&gt;(IPC::Message const*    RenderWidget*  void (RenderWidget::*)())   (uilder/build/src/ipc/ipc_message.h:134)    RenderWidget::OnMessageReceived(IPC::Message const&amp;)   (uilder/build/src/chrome/renderer/render_widget.cc:142)  Suppression:  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Leak     fun:malloc     fun:malloc     fun:_Z15sk_malloc_flagsjj     fun:_Z15sk_malloc_throwj     fun:_ZN7SkDeque9push_backEv     fun:_ZN8SkCanvas12internalSaveENS_9SaveFlagsE     fun:_ZN8SkCanvas4saveENS_9SaveFlagsE     fun:_ZN19PlatformContextSkia4saveEv     fun:_ZN7WebCore15GraphicsContext17savePlatformStateEv     fun:_ZN7WebCore15GraphicsContext4saveEv       fun:_ZN7WebCore20RenderBoxModelObject22paintFillLayerExtendedERKNS_12Render  Object9PaintInfoERKNS_5ColorEPKNS_9FillLayerEiiiiPNS_13InlineFlowBoxENS_17C  ompositeOperatorE       fun:_ZN7WebCore9RenderBox14paintFillLayerERKNS_12RenderObject9PaintInfoERKN  S_5ColorEPKNS_9FillLayerEiiiiNS_17CompositeOperatorE       fun:_ZN7WebCore9RenderBox15paintFillLayersERKNS_12RenderObject9PaintInfoERK  NS_5ColorEPKNS_9FillLayerEiiiiNS_17CompositeOperatorE       fun:_ZN7WebCore9RenderBox23paintRootBoxDecorationsERNS_12RenderObject9Paint  InfoEii       fun:_ZN7WebCore9RenderBox19paintBoxDecorationsERNS_12RenderObject9PaintInfo  Eii       fun:_ZN7WebCore11RenderBlock11paintObjectERNS_12RenderObject9PaintInfoEii     fun:_ZN7WebCore11RenderBlock5paintERNS_12RenderObject9PaintInfoEii       fun:_ZN7WebCore11RenderLayer10paintLayerEPS0_PNS_15GraphicsContextERKNS_7In  tRectEjPNS_12RenderObjectEPN3WTF7HashMapIPNS_24OverlapTestRequestClientES4_  NS9_7PtrHashISC_EENS9_10HashTraitsISC_EENSF_IS4_EEEEj       fun:_ZN7WebCore11RenderLayer10paintLayerEPS0_PNS_15GraphicsContextERKNS_7In  tRectEjPNS_12RenderObjectEPN3WTF7HashMapIPNS_24OverlapTestRequestClientES4_  NS9_7PtrHashISC_EENS9_10HashTraitsISC_EENSF_IS4_EEEEj       fun:_ZN7WebCore11RenderLayer5paintEPNS_15GraphicsContextERKNS_7IntRectEjPNS  _12RenderObjectE       fun:_ZN7WebCore9FrameView13paintContentsEPNS_15GraphicsContextERKNS_7IntRec  tE     fun:_ZN7WebCore10ScrollView5paintEPNS_15GraphicsContextERKNS_7IntRectE  }   </pre>