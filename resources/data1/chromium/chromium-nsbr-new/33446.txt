<title>Issue 33446 -   chromium -    Win32WifiDataProviderTest hangs under Valgrind - Project Hosting on Google Code</title> <pre> The Chromiun Linux Wine bot turned red today because it kept on hanging on   Win32WifiDataProviderTest.    I tested with a build of <a href="/p/chromium/source/detail?r=37430">r37430</a>  and it works fine under Wine. I think the   test failed once  so maybe it's a little flaky. (under Wine at least)    When I run it using Valgrind  the test just hangs. On the bot it hangs for   more than 20 minutes  and the bot times out. Running the test locally  the   most I've gotten out of it is:    [ RUN      ] Win32WifiDataProviderTest.DoScanWithResults  ==22160== Thread 2:  ==22160== Invalid read of size 1  ==22160==    at 0x100225E0: ??? (in   /tmp/wine/src/chrome/Debug/unit_tests.exe)  ==22160==    by 0xE139E21: Win32WifiDataProvider::DoWifiScanTask   (wifi_data_provider_win.cc:247)  ==22160==    by 0xE13D03E: DispatchToMethod&lt;Win32WifiDataProvider void   (__thiscall Win32WifiDataProvider::*)(void)&gt; (tuple.h:412)  ==22160==    by 0xE13CE9F:   ScopedRunnableMethodFactory&lt;Win32WifiDataProvider&gt;::RunnableMethod&lt;void   (__thiscall Win32WifiDataProvider::*)(void) Tuple0&gt;::Run (task.h:150)  ==22160==    by 0xD96A7F8: MessageLoop::RunTask (message_loop.cc:320)  ==22160==    by 0xD96A8A4: MessageLoop::DeferOrRunPendingTask   (message_loop.cc:328)  ==22160==    by 0xD96AF85: MessageLoop::DoDelayedWork (message_loop.cc:462)  ==22160==    by 0xD9CF5BF: base::MessagePumpDefault::Run   (message_pump_default.cc:27)  ==22160==    by 0xD96A11A: MessageLoop::RunInternal (message_loop.cc:205)  ==22160==    by 0xD969EDA: MessageLoop::RunHandler (message_loop.cc:177)  ==22160==    by 0xD969DC9: MessageLoop::Run (message_loop.cc:155)  ==22160==    by 0xD99FCA5: base::Thread::Run (thread.cc:133)  ==22160==    by 0xD99FD82: base::Thread::ThreadMain (thread.cc:155)  ==22160==    by 0xD9A0AE0: `anonymous namespace'::ThreadFunc   (platform_thread_win.cc:26)  ==22160==    by 0xCC6D743: ??? (in /tmp/winefoo/lib/wine/ntdll.dll.so)  ==22160==    by 0xCC700DF: call_thread_entry_point (signal_i386.c:2422)  ==22160==    by 0xCC755A4: start_thread (thread.c:458)  ==22160==    by 0xC6864FA: start_thread (in /lib32/libpthread-2.7.so)  ==22160==    by 0xC77A09D: clone (in /lib32/libc-2.7.so)  ==22160==  Address 0x1a5576d3 is not stack'd  malloc'd or (recently) free'd  ==22160==  {     &lt;insert_a_suppression_name_here&gt;     Memcheck:Addr1     obj:/tmp/wine/src/chrome/Debug/unit_tests.exe     fun:Win32WifiDataProvider::DoWifiScanTask     fun:DispatchToMethod&lt;Win32WifiDataProvider void (__thiscall   Win32WifiDataProvider::*)(void)&gt;       fun:ScopedRunnableMethodFactory&lt;Win32WifiDataProvider&gt;::RunnableMethod&lt;void   (__thiscall Win32WifiDataProvider::*)(void) Tuple0&gt;::Run     fun:MessageLoop::RunTask     fun:MessageLoop::DeferOrRunPendingTask     fun:MessageLoop::DoDelayedWork  [hang] </pre>