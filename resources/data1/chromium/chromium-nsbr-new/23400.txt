<title>Issue 23400 -   chromium -    Add MemoryPurger - Project Hosting on Google Code</title> <pre> We have a little-used class called SystemMonitor::PowerObserver that can be   subclassed if you want to be notified just before sleep or just after wake.    Because the system pages everything out on sleep  it makes sense to flush   everything we possibly can from memory when we get this notice  because   swapping it back in when the user wakes the system and starts interacting   with us will be very slow and contentious.    Here are things we should definitely try to do:  * For the browser process:    * Commit all the sqlite databases and unload them from memory; at the   very least  do this with the history system  then use the prefetch trick to   reload it on wake.    * Dump the spellcheck dictionary.    * Tell tcmalloc to free everything it can.  (This is vague since it's not   clear to me what this means; Jim  Mike  and Anton will know more here.    Also  do we need to do this in each renderer process too?)    * For each renderer process:    * Repeatedly call the V8 idle notification until it returns true   (&quot;nothing more to free&quot;).  Note that it makes more sense to do this than to   implement a new &quot;delete everything&quot; pass because object references make it   difficult to free everything possible in just one pass.    * Tell the WebCore cache manager to set its global limit to 0  which   should flush the image/script/css/etc. caches.    * Destroy the host-side font caches. </pre>