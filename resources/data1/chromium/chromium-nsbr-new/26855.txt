<title>Issue 26855 -   chromium -    Crash CFStringToSTLStringWithEncodingT&lt;std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; - Project Hosting on Google Code</title> <pre> Platform:    Hostname: Macintosh-0017f2d64524.local    Mac OS X Version 10.5.8 (Build 9L27)    Processor: 2 Intel 2.33 GHz    RAM: 2048 MB    Chrome:    Chrome version: 4.0.237.0 <a href="/p/chromium/source/detail?r=31086">r31086</a>  &lt;&lt;&lt;Release&gt;&gt;&gt;    QuickTime Player: 7.6.4    QuickTime PlayerX: &lt;unknown&gt;    Flash Player: 10.0.32      1. Launch chrome  2. Go Page menu--&gt; Report Bug or Broken Website.....  3. On the dialog &quot;Report Bug or Broken Website&quot;  clear the Page URL  4. Enter some information  click &quot;Send report&quot;    Actual: Chrome crashes. ( Crash Report - Attached)    What is the expected output?  or other platforms( Windows ) behaves ?  Simply it grabs the given info and dialog closes.    Crashing thread:    Thread 0 (crashed)   0 CoreFoundation      0.476.19.0           0x95bee947 CFStringGetLength + 0x27   1 Google Chrome Framew0.237.0.0            0x027528a7 CFStringToSTLStringWithEncodingT&lt;std::basic_string&lt;char  std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; &gt; + 0x7 (sys_string_conversions_mac.mm:26)   2 Google Chrome Framew0.237.0.0            0x02752c08 base::SysNSStringToUTF8(NSString*) + 0xe (sys_string_conversions_mac.mm:173)   3 Google Chrome Framew0.237.0.0            0x023aa0ce -[BugReportWindowController sendReport:] + 0x43 (bug_report_window_controller.mm:117)   4 AppKit              0.949.54.0           0x965e1e8e -[NSApplication sendAction:to:from:] + 0x6f   5 Google Chrome Framew0.237.0.0            0x0238ad43 -[CrApplication sendAction:to:from:] + 0x3b (chrome_application_mac.mm:243)   6 AppKit              0.949.54.0           0x965e1dcb -[NSControl sendAction:to:] + 0x6b   7 AppKit              0.949.54.0           0x965e1c51 -[NSCell _sendActionFrom:] + 0xa8   8 AppKit              0.949.54.0           0x965e12aa -[NSCell trackMouse:inRect:ofView:untilMouseUp:] + 0x722   9 AppKit              0.949.54.0           0x965e0afd -[NSButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 0x21c  10 AppKit              0.949.54.0           0x965e03b7 -[NSControl mouseDown:] + 0x377  11 AppKit              0.949.54.0           0x965deaf6 -[NSWindow sendEvent:] + 0x1504  12 AppKit              0.949.54.0           0x965ab6a4 -[NSApplication sendEvent:] + 0xb7a  13 Google Chrome Framew0.237.0.0            0x0238ab17 -[CrApplication sendEvent:] + 0x2a (chrome_application_mac.mm:258)  14 AppKit              0.949.54.0           0x9674d3b6 -[NSApplication _realDoModalLoop:peek:] + 0x25c  15 AppKit              0.949.54.0           0x96747aca -[NSApplication runModalForWindow:] + 0x11d  16 Google Chrome Framew0.237.0.0            0x023a9868 -[BugReportWindowController runModalDialog] + 0x1d (bug_report_window_controller.mm:101)  17 AppKit              0.949.54.0           0x965e1e8e -[NSApplication sendAction:to:from:] + 0x6f  18 Google Chrome Framew0.237.0.0            0x0238ad43 -[CrApplication sendAction:to:from:] + 0x3b (chrome_application_mac.mm:243)  19 AppKit              0.949.54.0           0x96690b63 -[NSMenu performActionForItemAtIndex:] + 0x1ec  20 AppKit              0.949.54.0           0x96690868 -[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:] + 0xdb  21 AppKit              0.949.54.0           0x9666d4b9 AppKitMenuEventHandler + 0x19cf  22 HIToolbox           0.353.0.0            0x947f713c DispatchEventToHandlers(EventTargetRec*  OpaqueEventRef*  HandlerCallRec*) + 0x49c  23 HIToolbox           0.353.0.0            0x947f657a SendEventToEventTargetInternal(OpaqueEventRef*  OpaqueEventTargetRef*  HandlerCallRec*) + 0x194  24 HIToolbox           0.353.0.0            0x94812ecb SendEventToEventTarget + 0x33  25 HIToolbox           0.353.0.0            0x948471e6 SendHICommandEvent(unsigned long  HICommand const*  unsigned long  unsigned long  unsigned char  OpaqueEventTargetRef*  OpaqueEventTargetRef*  OpaqueEventRef**) + 0x19a  26 HIToolbox           0.353.0.0            0x9486d958 SendMenuCommandWithContextAndModifiers + 0x3a  27 HIToolbox           0.353.0.0            0x9486d913 SendMenuItemSelectedEvent + 0x85  28 HIToolbox           0.353.0.0            0x9486d829 FinishMenuSelection(MenuData*  MenuData*  MenuResult*  MenuResult*  unsigned long  unsigned long  unsigned long  unsigned char) + 0xa1  29 HIToolbox           0.353.0.0            0x9484a493 MenuSelectCore(MenuData*  Point  double  unsigned long  OpaqueMenuRef**  unsigned short*) + 0x27f  30 HIToolbox           0.353.0.0            0x94849e7e _HandleMenuSelection2 + 0x17e  31 HIToolbox           0.353.0.0            0x94849cf2 _HandleMenuSelection + 0x34  32 AppKit              0.949.54.0           0x965a9e66 _NSHandleCarbonMenuEvent + 0xf3  33 AppKit              0.949.54.0           0x96510bc1 _DPSNextEvent + 0x77d  34 AppKit              0.949.54.0           0x9650ff87 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 0x7f  35 AppKit              0.949.54.0           0x9674d38c -[NSApplication _realDoModalLoop:peek:] + 0x232  36 AppKit              0.949.54.0           0x96747aca -[NSApplication runModalForWindow:] + 0x11d  37 Google Chrome Framew0.237.0.0            0x023a9868 -[BugReportWindowController runModalDialog] + 0x1d (bug_report_window_controller.mm:101)  38 AppKit              0.949.54.0           0x965e1e8e -[NSApplication sendAction:to:from:] + 0x6f  39 Google Chrome Framew0.237.0.0            0x0238ad43 -[CrApplication sendAction:to:from:] + 0x3b (chrome_application_mac.mm:243)  40 AppKit              0.949.54.0           0x96690b63 -[NSMenu performActionForItemAtIndex:] + 0x1ec  41 AppKit              0.949.54.0           0x96690868 -[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:] + 0xdb  42 AppKit              0.949.54.0           0x9666d4b9 AppKitMenuEventHandler + 0x19cf  43 HIToolbox           0.353.0.0            0x947f713c DispatchEventToHandlers(EventTargetRec*  OpaqueEventRef*  HandlerCallRec*) + 0x49c  44 HIToolbox           0.353.0.0            0x947f657a SendEventToEventTargetInternal(OpaqueEventRef*  OpaqueEventTargetRef*  HandlerCallRec*) + 0x194  45 HIToolbox           0.353.0.0            0x94812ecb SendEventToEventTarget + 0x33  46 HIToolbox           0.353.0.0            0x948471e6 SendHICommandEvent(unsigned long  HICommand const*  unsigned long  unsigned long  unsigned char  OpaqueEventTargetRef*  OpaqueEventTargetRef*  OpaqueEventRef**) + 0x19a  47 HIToolbox           0.353.0.0            0x9486d958 SendMenuCommandWithContextAndModifiers + 0x3a  48 HIToolbox           0.353.0.0            0x9486d913 SendMenuItemSelectedEvent + 0x85  49 HIToolbox           0.353.0.0            0x9486d829 FinishMenuSelection(MenuData*  MenuData*  MenuResult*  MenuResult*  unsigned long  unsigned long  unsigned long  unsigned char) + 0xa1  50 HIToolbox           0.353.0.0            0x9484a493 MenuSelectCore(MenuData*  Point  double  unsigned long  OpaqueMenuRef**  unsigned short*) + 0x27f  51 HIToolbox           0.353.0.0            0x94849e7e _HandleMenuSelection2 + 0x17e  52 HIToolbox           0.353.0.0            0x94849cf2 _HandleMenuSelection + 0x34  53 AppKit              0.949.54.0           0x965a9e66 _NSHandleCarbonMenuEvent + 0xf3  54 AppKit              0.949.54.0           0x96510bc1 _DPSNextEvent + 0x77d  55 AppKit              0.949.54.0           0x9650ff87 -[NSApplication nextEventMatchingMask:untilDate:inMode:dequeue:] + 0x7f  56 AppKit              0.949.54.0           0x9674d38c -[NSApplication _realDoModalLoop:peek:] + 0x232  57 AppKit              0.949.54.0           0x96747aca -[NSApplication runModalForWindow:] + 0x11d  58 Google Chrome Framew0.237.0.0            0x023a9868 -[BugReportWindowController runModalDialog] + 0x1d (bug_report_window_controller.mm:101)  59 Google Chrome Framew0.237.0.0            0x023a2e44 BrowserWindowCocoa::ShowReportBugDialog() + 0x11 (browser_window_cocoa.mm:261)  60 Google Chrome Framew0.237.0.0            0x02356348 Browser::ExecuteCommandWithDisposition(int  WindowOpenDisposition) + 0x10 (browser.cc:1166)  61 Google Chrome Framew0.237.0.0            0x0235692f Browser::ExecuteCommand(int) + 0x19 (browser.cc:1521)  62 AppKit              0.949.54.0           0x965e1e8e -[NSApplication sendAction:to:from:] + 0x6f  63 Google Chrome Framew0.237.0.0            0x0238ad43 -[CrApplication sendAction:to:from:] + 0x3b (chrome_application_mac.mm:243)  64 AppKit              0.949.54.0           0x96690b63 -[NSMenu performActionForItemAtIndex:] + 0x1ec  65 AppKit              0.949.54.0           0x96690868 -[NSCarbonMenuImpl performActionWithHighlightingForItemAtIndex:] + 0xdb  66 AppKit              0.949.54.0           0x9666d4b9 AppKitMenuEventHandler + 0x19cf  67 HIToolbox           0.353.0.0            0x947f713c DispatchEventToHandlers(EventTargetRec*  OpaqueEventRef*  HandlerCallRec*) + 0x49c  68 HIToolbox           0.353.0.0            0x947f657a SendEventToEventTargetInternal(OpaqueEventRef*  OpaqueEventTargetRef*  HandlerCallRec*) + 0x194  69 HIToolbox           0.353.0.0            0x94812ecb SendEventToEventTarget + 0x33  70 HIToolbox           0.353.0.0            0x948471e6 SendHICommandEvent(unsigned long  HICommand const*  unsigned long  unsigned long  unsigned char  OpaqueEventTargetRef*  OpaqueEventTargetRef*  OpaqueEventRef**) + 0x19a  71 HIToolbox           0.353.0.0            0x9486d958 SendMenuCommandWithContextAndModifiers + 0x3a  72 HIToolbox           0.353.0.0            0x9486d913 SendMenuItemSelectedEvent + 0x85  73 HIToolbox           0.353.0.0            0x9486d829 FinishMenuSelection(MenuData*  MenuData*  MenuResult*  MenuResult*  unsigned long  unsigned long  unsigned long  unsigned char) + 0xa1  74 HIToolbox           0.353.0.0            0x948bdb30 PopUpMenuSelectCore(MenuData*  Point  double  Point  unsigned short  unsigned int  Rect const*  unsigned short  unsigned long  Rect const*  Rect const*  __CFString const*  OpaqueMenuRef**  unsigned short*) + 0x6e2  75 HIToolbox           0.353.0.0            0x948bd3fa _HandlePopUpMenuSelection7 + 0x272  76 AppKit              0.949.54.0           0x9675919a _NSPopUpCarbonMenu3 + 0xc08  77 AppKit              0.949.54.0           0x9679349b -[NSCarbonMenuImpl popUpMenu:atLocation:width:forView:withSelectedItem:withFont:withFlags:withOptions:] + 0x1cb  78 AppKit              0.949.54.0           0x9679240e -[NSPopUpButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 0x23b  79 AppKit              0.949.54.0           0x96a29631 -[NSPopUpButtonCell performClickWithFrame:inView:] + 0x85  80 Google Chrome Framew0.237.0.0            0x023c7f52 -[MenuButton(Private) showMenu:] + 0x5e (menu_button.mm:104)  81 AppKit              0.949.54.0           0x965e1e8e -[NSApplication sendAction:to:from:] + 0x6f  82 Google Chrome Framew0.237.0.0            0x0238ad43 -[CrApplication sendAction:to:from:] + 0x3b (chrome_application_mac.mm:243)  83 AppKit              0.949.54.0           0x965e1dcb -[NSControl sendAction:to:] + 0x6b  84 Google Chrome Framew0.237.0.0            0x023ac74c -[ClickHoldButtonCell trackMouse:inRect:ofView:untilMouseUp:] + 0x14 (clickhold_button_cell.mm:151)  85 AppKit              0.949.54.0           0x965e03b7 -[NSControl mouseDown:] + 0x377  86 AppKit              0.949.54.0           0x965deaf6 -[NSWindow sendEvent:] + 0x1504  87 Google Chrome Framew0.237.0.0            0x023ab84a -[ChromeEventProcessingWindow sendEvent:] + 0x2a (chrome_event_processing_window.mm:104)  88 Google Chrome Framew0.237.0.0            0x023aa85d -[ChromeBrowserWindow sendEvent:] + 0x27 (chrome_browser_window.mm:260)  89 AppKit              0.949.54.0           0x965ab6a4 -[NSApplication sendEvent:] + 0xb7a  90 Google Chrome Framew0.237.0.0            0x0238ab17 -[CrApplication sendEvent:] + 0x2a (chrome_application_mac.mm:258)  91 AppKit              0.949.54.0           0x96508fe6 -[NSApplication run] + 0x362  92 Google Chrome Framew0.237.0.0            0x02742796 base::MessagePumpNSApplication::DoRun(base::MessagePump::Delegate*) + 0x13 (message_pump_mac.mm:652)  93 Google Chrome Framew0.237.0.0            0x027428e5 base::MessagePumpCFRunLoopBase::Run(base::MessagePump::Delegate*) + 0xb (message_pump_mac.mm:195)  94 Google Chrome Framew0.237.0.0            0x0273f643 MessageLoop::Run() + 0xb (message_loop.cc:205)  95 Google Chrome Framew0.237.0.0            0x02367932 BrowserMain(MainFunctionParams const&amp;) + 0x7 (browser_main.cc:151)  96 Google Chrome Framew0.237.0.0            0x022995bf ChromeMain + 0xd (chrome_dll_main.cc:624)  97 Google Chrome                            0x00001fc5   98  </pre>