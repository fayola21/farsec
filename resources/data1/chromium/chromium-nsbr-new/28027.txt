<title>Issue 28027 -   chromium -    Invalid read in WTF::ChromiumThreading::scheduleDispatchFunctionsOnMainThread() - Project Hosting on Google Code</title> <pre> From   <a href="http://build.chromium.org/buildbot/waterfall/builders/Chromium%20Mac%20UI%2">http://build.chromium.org/buildbot/waterfall/builders/Chromium%20Mac%20UI%2</a>  0(valgrind)(2)/builds/590/steps/valgrind%20test:%20ui/logs/stdio    12:20:42 memcheck_analyze.py [ERROR] FAIL! There were 1 errors:  12:21:34 memcheck_analyze.py [ERROR] InvalidRead  Command: /b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/xcodebuild/Debug/Chromium.app/Contents/Versions/4.0.251.0/Chrom  ium Helper.app/Contents/MacOS/Chromium Helper --type=worker --  channel=24856.17be4c10.1322463720  Invalid read of size 4    WTF::ChromiumThreading::scheduleDispatchFunctionsOnMainThread()   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebKit/chromium/src/ChromiumThreading.cpp:47  )    WTF::scheduleDispatchFunctionsOnMainThread() (/b/slave/chromium-rel-mac-  valgrind-ui-  2/build/src/third_party/WebKit/JavaScriptCore/JavaScriptCore.gyp/../wtf/chr  omium/MainThreadChromium.cpp:45)    WTF::callOnMainThread(void (*)(void*)  void*) (/b/slave/chromium-rel-mac-  valgrind-ui-  2/build/src/third_party/WebKit/JavaScriptCore/JavaScriptCore.gyp/../wtf/Mai  nThread.cpp:117)      WebCore::ScriptExecutionContext::postTaskToMainThread(WTF::PassOwnPtr&lt;WebCo  re::ScriptExecutionContext::Task&gt;) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../dom/ScriptExecutionCo  ntext.cpp:263)      WebCore::Document::postTask(WTF::PassOwnPtr&lt;WebCore::ScriptExecutionContext  ::Task&gt;) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../dom/Document.cpp:4541  )      WebKit::WebWorkerBase::postTaskToLoader(WTF::PassOwnPtr&lt;WebCore::ScriptExec  utionContext::Task&gt;) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebKit/chromium/src/WebWorkerBase.cpp:297)      WebCore::WorkerThreadableLoader::MainThreadBridge::MainThreadBridge(WTF::Pa  ssRefPtr&lt;WebCore::ThreadableLoaderClientWrapper&gt;    WebCore::WorkerLoaderProxy&amp;  WebCore::String const&amp;    WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderOptions const&amp;)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../loader/WorkerThreadab  leLoader.cpp:97)      WebCore::WorkerThreadableLoader::MainThreadBridge::MainThreadBridge(WTF::Pa  ssRefPtr&lt;WebCore::ThreadableLoaderClientWrapper&gt;    WebCore::WorkerLoaderProxy&amp;  WebCore::String const&amp;    WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderOptions const&amp;)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../loader/WorkerThreadab  leLoader.cpp:98)      WebCore::WorkerThreadableLoader::WorkerThreadableLoader(WebCore::WorkerCont  ext*  WebCore::ThreadableLoaderClient*  WebCore::String const&amp;    WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderOptions const&amp;)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../loader/WorkerThreadab  leLoader.cpp:59)      WebCore::WorkerThreadableLoader::WorkerThreadableLoader(WebCore::WorkerCont  ext*  WebCore::ThreadableLoaderClient*  WebCore::String const&amp;    WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderOptions const&amp;)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../loader/WorkerThreadab  leLoader.cpp:61)    WebCore::WorkerThreadableLoader::create(WebCore::WorkerContext*    WebCore::ThreadableLoaderClient*  WebCore::String const&amp;    WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderOptions const&amp;)   (WorkerThreadableLoader.h:61)      WebCore::WorkerThreadableLoader::loadResourceSynchronously(WebCore::WorkerC  ontext*  WebCore::ResourceRequest const&amp;  WebCore::ThreadableLoaderClient&amp;    WebCore::ThreadableLoaderOptions const&amp;) (/b/slave/chromium-rel-mac-  valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../loader/WorkerThreadab  leLoader.cpp:76)      WebCore::WorkerScriptLoader::loadSynchronously(WebCore::ScriptExecutionCont  ext*  WebCore::KURL const&amp;  WebCore::CrossOriginRequestPolicy)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../workers/WorkerScriptL  oader.cpp:67)    WebCore::WorkerContext::importScripts(WTF::Vector&lt;WebCore::String  0ul&gt;   const&amp;  WebCore::String const&amp;  int  int&amp;) (/b/slave/chromium-rel-mac-  valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../workers/WorkerContext  .cpp:211)    WebCore::V8Custom::v8WorkerContextImportScriptsCallback(v8::Arguments   const&amp;) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../bindings/v8/custom/V8  WorkerContextCustom.cpp:123)    v8::internal::Builtin_HandleApiCall(v8::internal::Arguments)   (builtins.cc:383)    0x1482E18A    0x148425B9    0x1483F0F8    0x1482F9C1    v8::internal::Invoke(bool    v8::internal::Handle&lt;v8::internal::JSFunction&gt;    v8::internal::Handle&lt;v8::internal::Object&gt;  int  v8::internal::Object***    bool*) (execution.cc:99)      v8::internal::Execution::Call(v8::internal::Handle&lt;v8::internal::JSFunction  &gt;  v8::internal::Handle&lt;v8::internal::Object&gt;  int    v8::internal::Object***  bool*) (execution.cc:129)    v8::Script::Run() (api.cc:1152)    WebCore::WorkerContextExecutionProxy::runScript(v8::Handle&lt;v8::Script&gt;)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../bindings/v8/WorkerCon  textExecutionProxy.cpp:402)    WebCore::WorkerContextExecutionProxy::evaluate(WebCore::String const&amp;    WebCore::String const&amp;  int  WebCore::WorkerContextExecutionState*)   (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../bindings/v8/WorkerCon  textExecutionProxy.cpp:362)    WebCore::WorkerScriptController::evaluate(WebCore::ScriptSourceCode   const&amp;  WebCore::ScriptValue*) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../bindings/v8/WorkerScr  iptController.cpp:77)    WebCore::WorkerScriptController::evaluate(WebCore::ScriptSourceCode   const&amp;) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../bindings/v8/WorkerScr  iptController.cpp:65)    WebCore::WorkerThread::workerThread() (/b/slave/chromium-rel-mac-  valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../workers/WorkerThread.  cpp:128)    WebCore::WorkerThread::workerThreadStart(void*) (/b/slave/chromium-rel-  mac-valgrind-ui-  2/build/src/third_party/WebKit/WebCore/WebCore.gyp/../workers/WorkerThread.  cpp:111)    WTF::threadEntryPoint(void*) (/b/slave/chromium-rel-mac-valgrind-ui-  2/build/src/third_party/WebKit/JavaScriptCore/JavaScriptCore.gyp/../wtf/Thr  eading.cpp:64) </pre>