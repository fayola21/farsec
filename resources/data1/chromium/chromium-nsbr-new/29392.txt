<title>Issue 29392 -   chromium -    Regression (r33792): memory leaks related to FlipSession / FlipSessionPool - Project Hosting on Google Code</title> <pre> Since <a href="/p/chromium/source/detail?r=33792">r33792</a>  new valgrind errors have been observed.    <a href="http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(3)/builds/1821/steps/valgrind%20test:%20net/logs/stdi">http://build.chromium.org/buildbot/waterfall/builders/Linux%20Tests%20(valgrind)(3)/builds/1821/steps/valgrind%20test:%20net/logs/stdi</a>  o    21:33:11 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command: src/sconsbuild/Release/net_unittests --gtest_filter=-  DiskCacheBackendTest.InvalidEntry:DiskCacheBackendTest.InvalidEntryRead:DiskCacheBackendTest.InvalidEntryWithLoad:DiskCacheBackendTest  .TrimInvalidEntry:DiskCacheBackendTest.TrimInvalidEntry2:DiskCacheBackendTest.InvalidEntryEnumeration:DiskCacheBackendTest.NewEviction  InvalidEntry:DiskCacheBackendTest.NewEvictionInvalidEntryRead:DiskCacheBackendTest.NewEvictionInvalidEntryWithLoad:DiskCacheBackendTes  t.NewEvictionTrimInvalidEntry:DiskCacheBackendTest.NewEvictionTrimInvalidEntry2:DiskCacheBackendTest.NewEvictionInvalidEntryEnumeratio  n --gtest_print_time  16 515 (984 direct  15 531 indirect) bytes in 3 blocks are definitely lost in loss record 1 031 of 1 034    operator new(unsigned int) (ome/chrome-bot/valgrind-10880-redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:214)    net::FlipSessionPool::Get(net::HostResolver::RequestInfo const&amp;  net::HttpNetworkSession*)   (uilder/build/src/net/flip/flip_session_pool.cc:36)    net::FlipNetworkTransaction::DoInitConnection() (uilder/build/src/net/flip/flip_network_transaction.cc:209)    net::FlipNetworkTransaction::DoLoop(int) (uilder/build/src/net/flip/flip_network_transaction.cc:159)    net::FlipNetworkTransaction::Start(net::HttpRequestInfo const*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  net::LoadLog*)   (uilder/build/src/net/flip/flip_network_transaction.cc:54)    net::FlipNetworkTransactionTest::TransactionHelper(net::HttpRequestInfo const&amp;  net::DelayedSocketData*)   (uilder/build/src/net/flip/flip_network_transaction_unittest.cc:277)    net::FlipNetworkTransactionTest_ConnectFailure_Test::TestBody() (uilder/build/src/net/flip/flip_network_transaction_unittest.cc:912)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2099)    testing::internal::TestInfoImpl::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2318)    testing::TestCase::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2426)    testing::internal::UnitTestImpl::RunAllTests() (uilder/build/src/testing/gtest/src/gtest.cc:4026)    testing::UnitTest::Run() (uilder/build/src/testing/gtest/src/gtest.cc:3694)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:124)    main (uilder/build/src/net/base/run_all_unittests.cc:35)    =============    21:33:11 memcheck_analyze.py [ERROR] Leak_DefinitelyLost  Command: src/sconsbuild/Release/net_unittests --gtest_filter=-  DiskCacheBackendTest.InvalidEntry:DiskCacheBackendTest.InvalidEntryRead:DiskCacheBackendTest.InvalidEntryWithLoad:DiskCacheBackendTest  .TrimInvalidEntry:DiskCacheBackendTest.TrimInvalidEntry2:DiskCacheBackendTest.InvalidEntryEnumeration:DiskCacheBackendTest.NewEviction  InvalidEntry:DiskCacheBackendTest.NewEvictionInvalidEntryRead:DiskCacheBackendTest.NewEvictionInvalidEntryWithLoad:DiskCacheBackendTes  t.NewEvictionTrimInvalidEntry:DiskCacheBackendTest.NewEvictionTrimInvalidEntry2:DiskCacheBackendTest.NewEvictionInvalidEntryEnumeratio  n --gtest_print_time  5 589 (80 direct  5 509 indirect) bytes in 1 blocks are definitely lost in loss record 1 015 of 1 034    operator new(unsigned int) (ome/chrome-bot/valgrind-10880-redzone/coregrind/m_replacemalloc/vg_replace_malloc.c:214)    net::FlipSession::GetOrCreateStream(net::HttpRequestInfo const&amp;  net::UploadDataStream const*)   (uilder/build/src/net/flip/flip_session.cc:269)    net::FlipNetworkTransaction::DoSendRequest() (uilder/build/src/net/flip/flip_network_transaction.cc:230)    net::FlipNetworkTransaction::DoLoop(int) (uilder/build/src/net/flip/flip_network_transaction.cc:166)    net::FlipNetworkTransaction::Start(net::HttpRequestInfo const*  CallbackRunner&lt;Tuple1&lt;int&gt; &gt;*  net::LoadLog*)   (uilder/build/src/net/flip/flip_network_transaction.cc:54)    net::FlipNetworkTransactionTest::TransactionHelper(net::HttpRequestInfo const&amp;  net::DelayedSocketData*)   (uilder/build/src/net/flip/flip_network_transaction_unittest.cc:277)    net::FlipNetworkTransactionTest_ConnectFailure_Test::TestBody() (uilder/build/src/net/flip/flip_network_transaction_unittest.cc:912)    testing::Test::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2099)    testing::internal::TestInfoImpl::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2318)    testing::TestCase::Run() (uilder/build/src/testing/gtest/src/gtest.cc:2426)    testing::internal::UnitTestImpl::RunAllTests() (uilder/build/src/testing/gtest/src/gtest.cc:4026)    testing::UnitTest::Run() (uilder/build/src/testing/gtest/src/gtest.cc:3694)    TestSuite::Run() (uilder/build/src/base/test/test_suite.h:124)    main (uilder/build/src/net/base/run_all_unittests.cc:35) </pre>