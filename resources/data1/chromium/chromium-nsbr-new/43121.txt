<title>Issue 43121 -   chromium -    Browser crash @ views::NativeMenuWin::MenuMessageHook() - Project Hosting on Google Code</title> <pre> Build: 375.29  OS: XP    The full call stack can be found @ http://crash/reportdetail?  reportid=32bad404ac17372b#crashing_thread    I was trying to reproduce the <a title="Browser locks during local page rendering."  href="/p/chromium/issues/detail?id=43116">issue 43116</a>. When browser is locked  I tried   to close/exit Chrome. It crashed on me once.    Call stack  ----------  Thread 0 *CRASHED* ( EXCEPTION_ACCESS_VIOLATION @ 0x00000050 )  0x0252199e 	[chrome.dll 	- native_menu_win.cc:444] 	  views::NativeMenuWin::MenuMessageHook(int unsigned int long)  0x7e42b371 	[user32.dll 	+ 0x0001b371] 	DispatchHookW  0x7e42b316 	[user32.dll 	+ 0x0001b316] 	CallHookWithSEH  0x7e4278cf 	[user32.dll 	+ 0x000178cf] 	__fnHkINLPMSG  0x7c90e472 	[ntdll.dll 	+ 0x0000e472] 	KiUserCallbackDispatcher  0x0252197e 	[chrome.dll 	- native_menu_win.cc:430] 	  views::NativeMenuWin::GetHighlightedMenuItemInfo(HMENU__ * bool * bool *)  0x7e46cf6d 	[user32.dll 	+ 0x0005cf6d] 	NtUserTrackPopupMenuEx  0x02104749 	[chrome.dll 	- tab_contents_view_win.cc:343] 	  TabContentsViewWin::ShowContextMenu(ContextMenuParams const &amp;)  0x0209e432 	[chrome.dll 	- render_view_host.cc:1185] 	  RenderViewHost::OnMsgContextMenu(ContextMenuParams const &amp;)  0x0209fe92 	[chrome.dll 	- ipc_message_utils.h:991] 	  IPC::MessageWithTuple&lt;Tuple1&lt;ContextMenuParams&gt;   &gt;::Dispatch&lt;RenderViewHost void ( RenderViewHost::*)(ContextMenuParams   const &amp;)&gt;(IPC::Message const * RenderViewHost * void (   RenderViewHost::*)(ContextMenuParams const &amp;))  0x0209d5cd 	[chrome.dll 	- render_view_host.cc:744] 	  RenderViewHost::OnMessageReceived(IPC::Message const &amp;)  0x021bde2e 	[chrome.dll 	- browser_render_process_host.cc:806] 	  BrowserRenderProcessHost::OnMessageReceived(IPC::Message const &amp;)  0x022330d3 	[chrome.dll 	- resource_message_filter.cc:97] 	  `anonymous namespace'::ContextMenuMessageDispatcher::Run()  0x01fc3db2 	[chrome.dll 	- message_loop.cc:329] 	  MessageLoop::RunTask(Task *)  0x01fc3def 	[chrome.dll 	- message_loop.cc:337] 	  MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const &amp;)  0x01fc3f85 	[chrome.dll 	- message_loop.cc:444] 	  MessageLoop::DoWork()  0x01fd44ed 	[chrome.dll 	- message_pump_win.cc:209] 	  base::MessagePumpForUI::DoRunLoop()  0x01fd4302 	[chrome.dll 	- message_pump_win.cc:52] 	  base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate   * base::MessagePumpWin::Dispatcher *)  0x01fc3c52 	[chrome.dll 	- message_loop.cc:200] 	  MessageLoop::RunInternal()  0x01fc3be2 	[chrome.dll 	- message_loop.cc:177] 	  MessageLoop::RunHandler()  0x01fc4195 	[chrome.dll 	- message_loop.cc:612] 	  MessageLoopForUI::Run(base::MessagePumpWin::Dispatcher *)  0x020275e5 	[chrome.dll 	- browser_main.cc:177] 	`anonymous   namespace'::RunUIMessageLoop(BrowserProcess *)  0x02028e9c 	[chrome.dll 	- browser_main.cc:1167] 	  BrowserMain(MainFunctionParams const &amp;)  0x01c33d1b 	[chrome.dll 	- chrome_dll_main.cc:814] 	ChromeMain  0x0040340e 	[chrome.exe 	- client_util.cc:195] 	  MainDllLoader::Launch(HINSTANCE__ * sandbox::SandboxInterfaceInfo *)  0x00403a94 	[chrome.exe 	- chrome_exe_main.cc:46] 	wWinMain  0x00445dce 	[chrome.exe 	- crt0.c:263] 	__tmainCRTStartup  0x7c817076 	[kernel32.dll 	+ 0x00017076] 	BaseProcessStart  Thread 1  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90df49 	[ntdll.dll 	+ 0x0000df49] 	NtWaitForMultipleObjects  0x7c80958f 	[kernel32.dll 	+ 0x0000958f] 	CreateFileMappingA  0x77df8630 	[advapi32.dll 	+ 0x00028630] 	WmipEventPump  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 2  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90d219 	[ntdll.dll 	+ 0x0000d219] 	ZwDelayExecution  0x7c927f21 	[ntdll.dll 	+ 0x00027f21] 	RtlpTimerThread  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 3  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90da49 	[ntdll.dll 	+ 0x0000da49] 	ZwRemoveIoCompletion  0x7c80a7e5 	[kernel32.dll 	+ 0x0000a7e5] 	GetQueuedCompletionStatus  0x00410370 	[chrome.exe 	- broker_services.cc:155] 	  sandbox::BrokerServicesBase::TargetEventsThread(void *)  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart </pre>