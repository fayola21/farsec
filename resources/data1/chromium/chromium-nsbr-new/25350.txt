<title>Issue 25350 -   chromium -    Browser crash @ RenderWidgetHostViewWin::OnKillFocus(HWND__ *)  - Project Hosting on Google Code</title> <pre> Build: 4.0.223.5    -Navigate to any SSL error/Malware Detected interstitial error page.  -Kill the tab.  -Click on 'Back to safety' button.    Browser window crashes.    The callstack can be found @  http://crash/reportdetail?reportid=7140f7068d8462a6#crashing_thread    Not sure it's a blocker !!??    Stack Trace  (Jump to crashing thread)  ######################################  Thread 0 *CRASHED* (EXCEPTION_ACCESS_VIOLATION @0x00000028)  0x01e3a7ab 	[chrome.dll 	- render_widget_host_view_win.cc:840]   RenderWidgetHostViewWin::OnKillFocus(HWND__ *)  0x01e39276 	[chrome.dll 	- render_widget_host_view_win.h:73]   RenderWidgetHostViewWin::ProcessWindowMessage(HWND__ * unsigned  int unsigned int long long &amp; unsigned long)  0x01e3b23f 	[chrome.dll 	- atlwin.h:3073]   ATL::CWindowImplBaseT&lt;ATL::CWindow ATL::CWinTraits&lt;1174405120 0&gt;  &gt;::WindowProc(HWND__ * unsigned int unsigned int long)  0x7e418733 	[user32.dll 	+ 0x00008733] 	InternalCallWinProc  0x7e418815 	[user32.dll 	+ 0x00008815] 	UserCallWinProcCheckWow  0x7e428e9f 	[user32.dll 	+ 0x00018e9f] 	DispatchClientMessage  0x7e428eeb 	[user32.dll 	+ 0x00018eeb] 	__fnDWORD  0x7c90e472 	[ntdll.dll 	+ 0x0000e472] 	KiUserCallbackDispatcher  0x7e428e52 	[user32.dll 	+ 0x00018e52] 	TestWindowProcess  0x01df86e6 	[chrome.dll 	- render_widget_host.cc:115]   RenderWidgetHost::Shutdown()  0x01daefd4 	[chrome.dll 	- interstitial_page.cc:237] 	InterstitialPage::Hide()  0x01daf25b 	[chrome.dll 	- interstitial_page.cc:455]   InterstitialPage::DontProceed()  0x01de661f 	[chrome.dll 	- safe_browsing_blocking_page.cc:431]   SafeBrowsingBlockingPage::DontProceed()  0x01de6171 	[chrome.dll 	- safe_browsing_blocking_page.cc:330]   SafeBrowsingBlockingPage::CommandReceived(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp;)  0x01daf147 	[chrome.dll 	- interstitial_page.cc:378]   InterstitialPage::DomOperationResponse(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)  0x01d884fa 	[chrome.dll 	- render_view_host.cc:1198]   RenderViewHost::OnMsgDomOperationResponse(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)  0x01d89e35 	[chrome.dll 	- ipc_message_utils.h:999]   IPC::MessageWithTuple&lt;Tuple2&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; int&gt; &gt;::Dispatch&lt;RenderViewHost void (  RenderViewHost::*)(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)&gt;(IPC::Message const * RenderViewHost * void (  RenderViewHost::*)(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int))  0x01d8760e 	[chrome.dll 	- render_view_host.cc:766]   RenderViewHost::OnMessageReceived(IPC::Message const &amp;)  0x01e33b38 	[chrome.dll 	- browser_render_process_host.cc:826]   BrowserRenderProcessHost::OnMessageReceived(IPC::Message const &amp;)  0x01debbe5 	[chrome.dll 	- task.h:277]   RunnableMethod&lt;history::HistoryBackend void (  history::HistoryBackend::*)(std::set&lt;GURL std::less&lt;GURL&gt; std::allocator&lt;GURL&gt;  &gt; const &amp;) Tuple1&lt;std::set&lt;GURL std::less&lt;GURL&gt; std::allocator&lt;GURL&gt; &gt; &gt;  &gt;::Run()  0x01cc4ba2 	[chrome.dll 	- message_loop.cc:314] 	MessageLoop::RunTask(Task *)  0x01cc4bdc 	[chrome.dll 	- message_loop.cc:322]   MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const &amp;)  0x01cc4d91 	[chrome.dll 	- message_loop.cc:429] 	MessageLoop::DoWork()  0x01cd609f 	[chrome.dll 	- message_pump_win.cc:209]   base::MessagePumpForUI::DoRunLoop()  0x01cd5eb4 	[chrome.dll 	- message_pump_win.cc:52]   base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * base::MessagePumpWin::Dispatcher *)  0x01cc4a47 	[chrome.dll 	- message_loop.cc:194] 	MessageLoop::RunInternal()  0x01cc4a1b 	[chrome.dll 	- message_loop.cc:181] 	MessageLoop::RunHandler()  0x01cc4fcb 	[chrome.dll 	- message_loop.cc:599]   MessageLoopForUI::Run(base::MessagePumpWin::Dispatcher *)  0x01d0ab20 	[chrome.dll 	- browser_main.cc:149] 	`anonymous  namespace'::RunUIMessageLoop(BrowserProcess *)  0x01d0c374 	[chrome.dll 	- browser_main.cc:885]   BrowserMain(MainFunctionParams const &amp;)  0x01c338e5 	[chrome.dll 	- chrome_dll_main.cc:600] 	ChromeMain  0x00402c0e 	[chrome.exe 	- google_update_client.cc:96]   google_update::GoogleUpdateClient::Launch(HINSTANCE__  * sandbox::SandboxInterfaceInfo * wchar_t * char const * int *)  0x7c839ad7 	[kernel32.dll 	+ 0x00039ad7] 	GetCodePageFileInfo  Thread 1  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90d219 	[ntdll.dll 	+ 0x0000d219] 	ZwDelayExecution  0x7c927f21 	[ntdll.dll 	+ 0x00027f21] 	RtlpTimerThread  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 2  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90da49 	[ntdll.dll 	+ 0x0000da49] 	ZwRemoveIoCompletion  0x7c91028c 	[ntdll.dll 	+ 0x0001028c] 	RtlpWorkerThread  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 3  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90da49 	[ntdll.dll 	+ 0x0000da49] 	ZwRemoveIoCompletion  0x7c80a7e5 	[kernel32.dll 	+ 0x0000a7e5] 	GetQueuedCompletionStatus  0x0040f83e 	[chrome.exe 	- broker_services.cc:155]   sandbox::BrokerServicesBase::TargetEventsThread(void *)  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 4  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90df49 	[ntdll.dll 	+ 0x0000df49] 	NtWaitForMultipleObjects  0x7c80958f 	[kernel32.dll 	+ 0x0000958f] 	CreateFileMappingA  0x7e4195f8 	[user32.dll 	+ 0x000095f8] 	RealMsgWaitForMultipleObjectsEx  0x01cd618f 	[chrome.dll 	- message_pump_win.cc:262]   base::MessagePumpForUI::WaitForWork()  0x01cd60f5 	[chrome.dll 	- message_pump_win.cc:234]   base::MessagePumpForUI::DoRunLoop()  0x01cd5eb4 	[chrome.dll 	- message_pump_win.cc:52]   base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * base::MessagePumpWin::Dispatcher *)  0x01cd5cf9 	[chrome.dll 	- message_pump_win.h:78]   base::MessagePumpWin::Run(base::MessagePump::Delegate *)  0x01cc4a52 	[chrome.dll 	- message_loop.cc:199] 	MessageLoop::RunInternal()  0x01cc4a1b 	[chrome.dll 	- message_loop.cc:181] 	MessageLoop::RunHandler()  0x01cc49be 	[chrome.dll 	- message_loop.cc:155] 	MessageLoop::Run()  0x02323ce9 	[chrome.dll 	- thread.cc:132] 	base::Thread::Run(MessageLoop *)  0x02323d6e 	[chrome.dll 	- thread.cc:153] 	base::Thread::ThreadMain()  0x01cced39 	[chrome.dll 	- platform_thread_win.cc:26] 	`anonymous  namespace'::ThreadFunc(void *)  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart Stack Trace   (Jump to crashing thread)  Thread 0 *CRASHED* (EXCEPTION_ACCESS_VIOLATION @0x00000028)  0x01e3a7ab 	[chrome.dll 	- render_widget_host_view_win.cc:840]   RenderWidgetHostViewWin::OnKillFocus(HWND__ *)  0x01e39276 	[chrome.dll 	- render_widget_host_view_win.h:73]   RenderWidgetHostViewWin::ProcessWindowMessage(HWND__ * unsigned  int unsigned int long long &amp; unsigned long)  0x01e3b23f 	[chrome.dll 	- atlwin.h:3073]   ATL::CWindowImplBaseT&lt;ATL::CWindow ATL::CWinTraits&lt;1174405120 0&gt;  &gt;::WindowProc(HWND__ * unsigned int unsigned int long)  0x7e418733 	[user32.dll 	+ 0x00008733] 	InternalCallWinProc  0x7e418815 	[user32.dll 	+ 0x00008815] 	UserCallWinProcCheckWow  0x7e428e9f 	[user32.dll 	+ 0x00018e9f] 	DispatchClientMessage  0x7e428eeb 	[user32.dll 	+ 0x00018eeb] 	__fnDWORD  0x7c90e472 	[ntdll.dll 	+ 0x0000e472] 	KiUserCallbackDispatcher  0x7e428e52 	[user32.dll 	+ 0x00018e52] 	TestWindowProcess  0x01df86e6 	[chrome.dll 	- render_widget_host.cc:115]   RenderWidgetHost::Shutdown()  0x01daefd4 	[chrome.dll 	- interstitial_page.cc:237] 	InterstitialPage::Hide()  0x01daf25b 	[chrome.dll 	- interstitial_page.cc:455]   InterstitialPage::DontProceed()  0x01de661f 	[chrome.dll 	- safe_browsing_blocking_page.cc:431]   SafeBrowsingBlockingPage::DontProceed()  0x01de6171 	[chrome.dll 	- safe_browsing_blocking_page.cc:330]   SafeBrowsingBlockingPage::CommandReceived(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp;)  0x01daf147 	[chrome.dll 	- interstitial_page.cc:378]   InterstitialPage::DomOperationResponse(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)  0x01d884fa 	[chrome.dll 	- render_view_host.cc:1198]   RenderViewHost::OnMsgDomOperationResponse(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)  0x01d89e35 	[chrome.dll 	- ipc_message_utils.h:999]   IPC::MessageWithTuple&lt;Tuple2&lt;std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; int&gt; &gt;::Dispatch&lt;RenderViewHost void (  RenderViewHost::*)(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int)&gt;(IPC::Message const * RenderViewHost * void (  RenderViewHost::*)(std::basic_string&lt;char std::char_traits&lt;char&gt; std::allocator&lt;char&gt;  &gt; const &amp; int))  0x01d8760e 	[chrome.dll 	- render_view_host.cc:766]   RenderViewHost::OnMessageReceived(IPC::Message const &amp;)  0x01e33b38 	[chrome.dll 	- browser_render_process_host.cc:826]   BrowserRenderProcessHost::OnMessageReceived(IPC::Message const &amp;)  0x01debbe5 	[chrome.dll 	- task.h:277]   RunnableMethod&lt;history::HistoryBackend void (  history::HistoryBackend::*)(std::set&lt;GURL std::less&lt;GURL&gt; std::allocator&lt;GURL&gt;  &gt; const &amp;) Tuple1&lt;std::set&lt;GURL std::less&lt;GURL&gt; std::allocator&lt;GURL&gt; &gt; &gt;  &gt;::Run()  0x01cc4ba2 	[chrome.dll 	- message_loop.cc:314] 	MessageLoop::RunTask(Task *)  0x01cc4bdc 	[chrome.dll 	- message_loop.cc:322]   MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const &amp;)  0x01cc4d91 	[chrome.dll 	- message_loop.cc:429] 	MessageLoop::DoWork()  0x01cd609f 	[chrome.dll 	- message_pump_win.cc:209]   base::MessagePumpForUI::DoRunLoop()  0x01cd5eb4 	[chrome.dll 	- message_pump_win.cc:52]   base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * base::MessagePumpWin::Dispatcher *)  0x01cc4a47 	[chrome.dll 	- message_loop.cc:194] 	MessageLoop::RunInternal()  0x01cc4a1b 	[chrome.dll 	- message_loop.cc:181] 	MessageLoop::RunHandler()  0x01cc4fcb 	[chrome.dll 	- message_loop.cc:599]   MessageLoopForUI::Run(base::MessagePumpWin::Dispatcher *)  0x01d0ab20 	[chrome.dll 	- browser_main.cc:149] 	`anonymous  namespace'::RunUIMessageLoop(BrowserProcess *)  0x01d0c374 	[chrome.dll 	- browser_main.cc:885]   BrowserMain(MainFunctionParams const &amp;)  0x01c338e5 	[chrome.dll 	- chrome_dll_main.cc:600] 	ChromeMain  0x00402c0e 	[chrome.exe 	- google_update_client.cc:96]   google_update::GoogleUpdateClient::Launch(HINSTANCE__  * sandbox::SandboxInterfaceInfo * wchar_t * char const * int *)  0x7c839ad7 	[kernel32.dll 	+ 0x00039ad7] 	GetCodePageFileInfo  Thread 1  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90d219 	[ntdll.dll 	+ 0x0000d219] 	ZwDelayExecution  0x7c927f21 	[ntdll.dll 	+ 0x00027f21] 	RtlpTimerThread  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 2  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90da49 	[ntdll.dll 	+ 0x0000da49] 	ZwRemoveIoCompletion  0x7c91028c 	[ntdll.dll 	+ 0x0001028c] 	RtlpWorkerThread  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 3  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90da49 	[ntdll.dll 	+ 0x0000da49] 	ZwRemoveIoCompletion  0x7c80a7e5 	[kernel32.dll 	+ 0x0000a7e5] 	GetQueuedCompletionStatus  0x0040f83e 	[chrome.exe 	- broker_services.cc:155]   sandbox::BrokerServicesBase::TargetEventsThread(void *)  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  Thread 4  0x7c90e514 	[ntdll.dll 	+ 0x0000e514] 	KiFastSystemCallRet  0x7c90df49 	[ntdll.dll 	+ 0x0000df49] 	NtWaitForMultipleObjects  0x7c80958f 	[kernel32.dll 	+ 0x0000958f] 	CreateFileMappingA  0x7e4195f8 	[user32.dll 	+ 0x000095f8] 	RealMsgWaitForMultipleObjectsEx  0x01cd618f 	[chrome.dll 	- message_pump_win.cc:262]   base::MessagePumpForUI::WaitForWork()  0x01cd60f5 	[chrome.dll 	- message_pump_win.cc:234]   base::MessagePumpForUI::DoRunLoop()  0x01cd5eb4 	[chrome.dll 	- message_pump_win.cc:52]   base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Delegate  * base::MessagePumpWin::Dispatcher *)  0x01cd5cf9 	[chrome.dll 	- message_pump_win.h:78]   base::MessagePumpWin::Run(base::MessagePump::Delegate *)  0x01cc4a52 	[chrome.dll 	- message_loop.cc:199] 	MessageLoop::RunInternal()  0x01cc4a1b 	[chrome.dll 	- message_loop.cc:181] 	MessageLoop::RunHandler()  0x01cc49be 	[chrome.dll 	- message_loop.cc:155] 	MessageLoop::Run()  0x02323ce9 	[chrome.dll 	- thread.cc:132] 	base::Thread::Run(MessageLoop *)  0x02323d6e 	[chrome.dll 	- thread.cc:153] 	base::Thread::ThreadMain()  0x01cced39 	[chrome.dll 	- platform_thread_win.cc:26] 	`anonymous  namespace'::ThreadFunc(void *)  0x7c80b728 	[kernel32.dll 	+ 0x0000b728] 	BaseThreadStart  </pre>