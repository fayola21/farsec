<title>Issue 15289 -   chromium -    Sharing model of {cookie_store_ and proxy_service_} in ChromeURLRequestContext is wrong - Project Hosting on Google Code</title> <pre> In chrome_url_request_context.cc  some variables from the original context are shared to   other contexts.    In particular  the |cookie_store_| pointer from the original context is copied to the media   context. Similarly  the |proxy_service_| pointer from the original context is copied to the   media and off the record contexts.    This means that as soon as the original context is deleted  the pointers held by the other   contexts become invalid  and accesses made to them are memory errors.    This is a problem  since currently the original context is the first to be released  so media   and off the record contexts definitely outlive it (see ~ProfileImpl()).    Secondarily  URLRequestContext is refcounted. So even if ~ProfileImpl() were to re-order the   releases  it might still be wrong.    Really  the shared cookie store and proxy service should be refcounted. </pre>