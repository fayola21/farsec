<title>Issue 22588 -   chromium -    Refactor: Add a HttpRequestHeaders class - Project Hosting on Google Code</title> <pre> Currently extra headers are passed to HTTP transactions as a flat string  via:      HttpRequestInfo::extra_headers;    This has caused several problems in the past  because the chain of clients often blindly append   headers values. So we may end up with duplicate headers  or weird stuff.    Moreover  the code to strip headers from extra_headers is nasty (need to re-build a new string)    and we end up doing lots of redundant linear searches through |extra_headers| during   processing.    For HTTP response headers we abstracted away these sorts of problems using   HttpResponseHeaders.    We should do similarly for request headers  and internally handle de-duping / coalescing of   header values in some HttpRequestHeaders class. The interface would be similar to a map    making it easy to build up headers by calling add/remove/has methods.   </pre>