<title>Issue 16117 -   chromium -    Change close() algorithm to match HTML5 spec - Project Hosting on Google Code</title> <pre> Chrome Version       : 2.0.172.33 (Build oficial )             Safari 4: OK             IE 7: OK           IE 8: OK        1 - open a web page   2 - navigate to ther page.    Google chrome automatic closes the tab and if we have  only one tab   it closes the process chrome.            google chrome don��t close or prompt for close.          Google chrome closes the tab or if we have only  one tab it closse too without any confirmation.    ###########  Abstract  ###########    for test all of this need a instaled web server   and some patience XDD    #############  tesst 1  #############    Create a new html document and write in:    &lt;html&gt;&lt;body onload='close()'&gt;&lt;/body&gt;&lt;/html&gt;  save it as test1.html in c:test  for testing.    1.1 - Open google Chrome and open it with file handler like        file:///c:/test/test1.html        Chrome does not close the window and nothing apears...    1.2 - Open The file in a trust intranet zone via        htttp://localhost/test/test1.html  or via ip        http://192.168.1.100/test/test1.html        Chrome does not close the window and nothing apears...      1.3 - Open hard disk and select c:testtest1.html rigth         click and open with Google Chrome.        Chrome open and close auth.    if we change to other even  like onblur  with onfocus event it��s   interesting because if we try to use inspector to view the source  web we click in body tag   and we close inspector   the tab close too  this only aparently afects wen we open the html document with   test mode 1.3    so this issue aparently can��t exploit in a remote scenario.    ###############  test 2  ###############    create a new html file and wirte inside   and save it as   test2.html in the test folder.    &lt;html&gt;  &lt;head&gt;&lt;/head&gt;  &lt;title&gt;.:[-Google Chrome close() issue PoC By Lostmon-]:.&lt;/title&gt;  &lt;body&gt;  &lt;script&gt;  try { CloseCrome(); } catch(e) {  setTimeout(&quot;location.reload();&quot; 20);  close(); }  &lt;/script&gt;  &lt;h2&gt;.:[-Google Chrome close() issue PoC By Lostmon-]:.&lt;/h2&gt;  &lt;p&gt;Google Chrome :2.0.172.33 (Build oficial )&lt;br&gt;  WebKit	530.5&lt;br&gt;V8	1.1.10.13&lt;br&gt;  User Agent	Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US)&lt;br&gt;  AppleWebKit/530.5 (KHTML  like Gecko) Chrome/2.0.172.33 Safari/530.5&lt;/p&gt;  &lt;/body&gt;  &lt;/html&gt;    2.1 - Open it via file protocol handler file:///c:/test/test2.html          Chrome does not close the window and nothing aparently apears.        but if we try to navigate to other site like www.google.com        the tab closes auth.    2.2 - Open it via trust web server http://localhost/test/test2.html          or http://192.168.1.100/test/test2.html Chrome does not close        the window and nothing aparently apears ;but if we try to navigate        to other site like www.google.com the tab closes auth.    2.3 - Open hard disk and select c:testtest2.html rigth         click and open with Google Chrome.        Chrome open and close auth.    ##############  conclusion  ##############    This issue can be a vulnerability   and this can be used for example  to built malwares that can be tramp the browser in a determinate loocation  and if the user try to look the code (onfocus)or try to navigate to other  site (test2.html)or other event the window can close without interaction   them if a malware or a malicious web page or a browser hijacker  can load  as a default web page and them this can be a Denial Of Service Condition    atentamente:  Lostmon (lostmon@gmail.com)  Web-Blog: <a href="http://lostmon.blogspot.com/">http://lostmon.blogspot.com/</a>  Google group: <a href="http://groups.google.com/group/lostmon">http://groups.google.com/group/lostmon</a> (new)  --  La curiosidad es lo que hace mover la mente....   </pre>