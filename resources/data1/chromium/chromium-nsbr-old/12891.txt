<title>Issue 12891 -   chromium -    PNGEncoder::EncodeBGRASkBitmap doesn't handle alpha properly - Project Hosting on Google Code</title> <pre> It looks like it's not accounting for pre-multiplied colors correctly.      1. Get a semi-transparent SkBitmap (left image in attached file)  2. Use PNGEncoder::EncodeBGRASkBitmap  3. Observe darkened fringes where alpha is present (right image in attached   file).    Code looks like    SkBitmap* image = tp-&gt;GetBitmapNamed(resource_id);    std::vector&lt;unsigned char&gt; png_bytes;    PNGEncoder::EncodeBGRASkBitmap(*image  false  &amp;png_bytes); </pre>