<title>Issue 14203 -   chromium -    DCHECK in SafeBrowsingProtocolManager::IssueKeyRequest - Project Hosting on Google Code</title> <pre>   1. Start Chrome.  2. See DCHECK.    Runnin Chromium ToT (3.0.189.0) I get the following stack trace:    chrome_61c00000!DebugUtil::BreakDebugger+0x3  chrome_61c00000!logging::LogMessage::~LogMessage+0x2d4  chrome_61c00000!URLFetcher::Core::Start+0x18f  chrome_61c00000!URLFetcher::Start+0x20  chrome_61c00000!SafeBrowsingProtocolManager::IssueKeyRequest+0x119  chrome_61c00000!SafeBrowsingProtocolManager::GetNextUpdate+0x4e  chrome_61c00000!DispatchToMethod&lt;SafeBrowsingProtocolManager void   (__thiscall SafeBrowsingProtocolManager::*)(void)&gt;+0xc  chrome_61c00000!base::BaseTimer&lt;SafeBrowsingProtocolManager 0&gt;::TimerTask::  Run+0x54  chrome_61c00000!MessageLoop::RunTask+0xb9  &lt;snip&gt;    Problem seems to be that IssueKeyRequest calls:    request_-&gt;set_request_context(Profile::GetDefaultRequestContext())    and Profile::GetDefaultRequestContext() CAN return NULL especially at   startup. Having a null context triggers a DCHECK in URLFetcher a couple of   frames up.    It looks like either IssueKeyRequest should abort (and maybe reschedule?)   if it gets a NULL context  or SafeBrowsingProtocolManager::Initialize()   shouldn't be called until NOTIFY_DEFAULT_REQUEST_CONTEXT_AVAILABLE has   fired.    </pre>