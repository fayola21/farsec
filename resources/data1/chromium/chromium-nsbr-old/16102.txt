<title>Issue 16102 -   chromium -    Memory leak in FcFontMatch - Project Hosting on Google Code</title> <pre> Fairly common in ui tests.  To reproduce  do e.g.  sh tools/valgrind/chrome_tests.sh -t ui --gtest_filter=AutomatedUITestBase.Navigate  Related to <a title="Valgrind reports Fontconfig memory leaks" class=closed_ref href="/p/chromium/issues/detail?id=9245"> bug 9245 </a>?    To reproduce  do e.g.    sh tools/valgrind/chrome_test.sh -t ui --gtest_filter=AutomatedUITestBase.Navigate    Valgrind complains  13 232 (3 072 direct  10 160 indirect) bytes in 9 blocks are definitely lost in loss record 519  of 535     at realloc (vg_replace_malloc.c:472)     by FcPatternObjectInsertElt (fcpat.c:358)     by FcConfigPatternAdd (fccfg.c:1259)     by FcConfigSubstituteWithPat (fccfg.c:1463)     by FcFontRenderPrepare (fcmatch.c:457)     by FcFontSetMatch (fcmatch.c:538)     by FcFontMatch (fcmatch.c:560)     by pango_fc_fontset_get_font_at (pangofc-fontmap.c:761)     by pango_fc_fontset_foreach (pangofc-fontmap.c:1003)     by pango_fontset_foreach (pango-fontset.c:101)     by pango_fc_font_map_load_font (pangofc-fontmap.c:1677)     by pango_font_map_load_font (pango-fontmap.c:94)     by pango_context_load_font (pango-context.c:291)     by pango_layout_get_empty_extents_at_index (pango-layout.c:4395)     by pango_layout_check_lines (pango-layout.c:3781)     by pango_layout_get_extents_internal (pango-layout.c:2444)     by pango_layout_get_size (pango-layout.c:2670)     by gfx::Canvas::DrawStringInt(std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;   std::allocator&lt;wchar_t&gt; &gt; const&amp;  gfx::Font const&amp;  unsigned int const&amp;  int  int  int  int   int) (canvas_linux.cc:157)     by gfx::Canvas::DrawStringInt(std::basic_string&lt;wchar_t  std::char_traits&lt;wchar_t&gt;   std::allocator&lt;wchar_t&gt; &gt; const&amp;  gfx::Font const&amp;  unsigned int const&amp;  int  int  int  int)  (canvas.cc:221)     by TabRendererGtk::Paint(gfx::Canvas*) (tab_renderer_gtk.cc:428)   </pre>