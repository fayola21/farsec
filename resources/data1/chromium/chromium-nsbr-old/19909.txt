<title>Issue 19909 -   chromium -    Omnibox inline autocomplete on URLs with spaces is buggy/crashy - Project Hosting on Google Code</title> <pre>   1. Go to a URL containing spaces so the omnibox will attempt to inline-autocomplete it (I'm not sure   if this is sufficient -- I've been using &quot;ms/test test test&quot; or similar to do a search on our   internal site).  2. Start typing the URL into the omnibox again.      I expect to get normal inline autocomplete behavior.  Instead  things get weird after I get to the   first space in a non-debug build -- at that point  the initial two characters of the highlighted   autocompleted text appear to get dropped.  In other words  the progression is like this (asterisks   around highlighted autocompleted text):    ms/c+*+ style guide*  ms/c++* style guide*  ms/c++   ms/c++ s*le guide*  ms/c++ st*e guide*  ms/c++ sty* guide*  ms/c++ styl*guide*  etc.    I'm attaching a video in case this doesn't make sense.    Perhaps more usefully  I get a crash with a debug build.  I've only tried this on Linux  but Dean   says that he sees strange behavior on Windows too.    [19444:19457:1747726817221:FATAL:chrome/browser/autocomplete/history_url_provider.cc(828)] Check   failed: (match.inline_autocomplete_offset == std::wstring::npos) ||   (match.inline_autocomplete_offset &lt;= match.fill_into_edit.length()).   [19444:19457:1747726817221:FATAL:chrome/browser/autocomplete/history_url_provider.cc(828)] Check   failed: (match.inline_autocomplete_offset == std::wstring::npos) ||   (match.inline_autocomplete_offset &lt;= match.fill_into_edit.length()).   Backtrace:          /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN10StackTraceC1Ev+0x4d)   [0xcb7bcd]          /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN7logging10LogMessageD1Ev+0x223)   [0xcd34e5]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN18HistoryURLProvider21HistoryMatchToACMa  tchEP24HistoryURLProviderParamsRKNS_12HistoryMatchENS_9MatchTypeEm+0x388) [0x73ad0e]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN18HistoryURLProvider14DoAutocompleteEPN7  history14HistoryBackendEPNS0_11URLDatabaseEP24HistoryURLProviderParams+0x658) [0x73d0a8]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN18HistoryURLProvider13ExecuteWithDBEPN7h  istory14HistoryBackendEPNS0_11URLDatabaseEP24HistoryURLProviderParams+0x58) [0x73d1b6]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN7history14HistoryBackend20ScheduleAutoco  mpleteEP18HistoryURLProviderP24HistoryURLProviderParams+0x57) [0x587eef]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_Z16DispatchToMethodIN7history14HistoryBack  endEMS1_FvP18HistoryURLProviderP24HistoryURLProviderParamsE13scoped_refptrIS2_ES5_EvPT_T0_RK6Tuple2I  T1_T2_E+0x71) [0x5792a9]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN14RunnableMethodIN7history14HistoryBacke  ndEMS1_FvP18HistoryURLProviderP24HistoryURLProviderParamsE6Tuple2I13scoped_refptrIS2_ES5_EE3RunEv+0x  3a) [0x5792ea]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop7RunTaskEP4Task+0xd7)   [0xcd5973]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop21DeferOrRunPendingTaskERKN  S_11PendingTaskE+0x3e) [0xcd5f9e]          /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop6DoWorkEv+0xf6)   [0xcd630a]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN4base18MessagePumpDefault3RunEPNS_11Mess  agePump8DelegateE+0xcb) [0xcde207]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop11RunInternalEv+0x145)   [0xcd687d]            /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop10RunHandlerEv+0x15)   [0xcd689d]          /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN11MessageLoop3RunEv+0x22)   [0xcd6942]          /usr/local/google/home/derat/chrome/src/out/Debug/chrome(_ZN4base6Thread10ThreadMainEv+0xca)   [0xd0eb98]          /usr/local/google/home/derat/chrome/src/out/Debug/chrome [0xced250]          /lib/libpthread.so.0 [0x7f466bbd93f7]          /lib/libc.so.6(clone+0x6d) [0x7f466a3cdb3d] </pre>