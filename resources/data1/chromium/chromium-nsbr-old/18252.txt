<title>Issue 18252 -   chromium -    Memory leak in ui test DownloadTest.IncognitoDownload on mac - Project Hosting on Google Code</title> <pre> On just about every run of DownloadTest.IncognitoDownload  under mac valgrind  I see the warning    72 (24 direct  48 indirect) bytes in 1 blocks are definitely lost in loss  record 5 301 of 7 688    calloc  (tools/valgrind/valgrind-20090715/coregrind/m_replacemalloc/vg_replace_malloc.c:415)    _internal_class_createInstanceFromZone (/usr/lib/libobjc.A.dylib)    _internal_class_createInstance (/usr/lib/libobjc.A.dylib)    +[NSObject allocWithZone:]  (/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation)    +[NSColor colorWithCalibratedRed:green:blue:alpha:]  (/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit)    +[GTMTheme(BrowserThemeProviderInitialization)  themeWithBrowserThemeProvider:isOffTheRecord:]  (chrome/browser/cocoa/browser_window_controller.mm:1080)    -[BrowserWindowController(Private) setTheme]  (chrome/browser/cocoa/browser_window_controller.mm:1058)    -[BrowserWindowController initWithBrowser:takeOwnership:]  (chrome/browser/cocoa/browser_window_controller.mm:138)    -[BrowserWindowController initWithBrowser:]  (chrome/browser/cocoa/browser_window_controller.mm:109)    BrowserWindow::CreateBrowserWindow(Browser*)  (chrome/browser/cocoa/browser_window_factory.mm:21)    Browser::CreateBrowserWindow() (chrome/browser/browser.cc:275)    Browser::Create(Profile*) (chrome/browser/browser.cc:253)    Browser::OpenEmptyWindow(Profile*) (chrome/browser/browser.cc:315)    Browser::NewIncognitoWindow() (chrome/browser/browser.cc:775)    To reproduct  try    sh tools/valgrind/chrome_tests.sh -t ui   --gtest_filter=DownloadTest.IncognitoDownload    Or if that doesn't do it  try DownloadTest.*. </pre>