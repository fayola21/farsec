<title>Issue 11927 -   chromium -    Add -DNVALIGRIND to Mac/Linux production builds - Project Hosting on Google Code</title> <pre> Currently we use runtime marcro to determine if Chrome is running under   Valgrind. This is that the header file from Valgrind says:    ------------------------------------     The resulting executables will still run without Valgrind  just a     little bit more slowly than they otherwise would  but otherwise     unchanged.  When not running on valgrind  each client request     consumes very few (eg. 7) instructions  so the resulting performance     loss is negligible unless you plan to execute client requests     millions of times per second.  Nevertheless  if that is still a     problem  you can compile with the NVALGRIND symbol defined (gcc     -DNVALGRIND) so that client requests are not even compiled in.  ------------------------------------    Even though we use RUNNING_ON_VALGRIND only during shutdown and only at one   place  it might be safe for future if we just start recompiling Chrome with   -DNVALGRIND on Valgrind bots.   </pre>