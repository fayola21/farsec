<title>Issue 11057 -   chromium -    Script not allowed to remove fragment with &quot;location.hash = '#'&quot; - Project Hosting on Google Code</title> <pre> Chrome Version       : 1.0.154.53 (Official Build 11798)      Safari 4 Public Beta: OK    Firefox 3.0.9: OK    IE 7.0.5730.13: OK      1. Write a script that executes &quot;location.hash='#';&quot; and then any other   command such as &quot;alert('OK');&quot;  2. Visit this page in Chrome and verify that the script executes   successfully.  3. Then visit the page again  but with a URL fragment such as &quot;#test&quot;. This   time  no JS will be executed successfully after the location hash is   changed.        The rest of the script should continue to be executed.        Odd behavior follows  where the script stops working and can no longer be   debugged  sort of as if &quot;document.open()&quot; had been called.    The workaround I am going to use in Gmail will be to always assign a dummy   fragment instead of an empty fragment to location.hash. For example  on a   page where I want to change an existing fragment:    location.hash = '#' + (fragment ? fragment : 'dummy');  As long as there are characters following the pound sign  Chrome accepts   the change without odd behavior.     </pre>