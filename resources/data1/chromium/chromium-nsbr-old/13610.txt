<title>Issue 13610 -   chromium -    Use default downloads directory on Vista and Windows 7 (except where it is the desktop) - Project Hosting on Google Code</title> <pre> Currently  we just create a Downloads folder on Vista which doesn't give a   great experience. We had done this for security reasons since there was a   chance that the default downloads directory would be the desktop which can   cause issues  but there's a better way. Rather than try to change on an   upgrade  we should just change for new installs moving forward.    From Ian:   We should use the referenced API to get FOLDERID_Downloads  and then check   to make sure that it's not a dangerous path (we have a function for this   called DownloadPathIsDangerous). Assuming it's not dangerous we should use   it  if it is dangerous we should probably default to the current behavior   on XP and default to %USERPROFILE%Downloads on Vista.    // On Vista  we can get the download path using a Win API  // (<a href="http://msdn.microsoft.com/en-us/library/bb762584(VS.85).aspx)">http://msdn.microsoft.com/en-us/library/bb762584(VS.85).aspx)</a>   // but it can be set to Desktop  which is dangerous. Instead   // we just use 'Downloads' under DIR_USER_DOCUMENTS. Localizing  // 'downloads' is not a good idea because Chrome's UI language  // can be changed.  bool GetUserDownloadsDirectory(FilePath* result) {    if (!GetUserDocumentsDirectory(result))      return false;      *result = result-&gt;Append(L&quot;Downloads&quot;);    return true;  } </pre>