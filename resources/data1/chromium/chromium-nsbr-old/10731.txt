<title>Issue 10731 -   chromium -    ReadAV [NULL+8]@chrome!SkShader::resetLocalMatrix+0x11 - Project Hosting on Google Code</title> <pre> I am hitting NULL ptr read AVs in resetLocalMatrix during fuzzing. I've   found multiple ways to trigger this  one of which is this script:    x=document.createElement(&quot;CANVAS&quot;);  o=x.getContext(&quot;2d&quot;);  o.fillStyle = o.createRadialGradient(0 0 0 0 0 0);  o.lineTo(0 0);  o.fill()    The others are variations using different methods.    I looked through webkit bugs and found this bug:  <a href="https://bugs.webkit.org/show_bug.cgi?id=23957">https://bugs.webkit.org/show_bug.cgi?id=23957</a>  Eric: I figured that you may know if it's related or even the same issue -   it wasn't immediately clear to me.    Here's more info:            Attempt to read from a NULL pointer at NULL+8  instruction:          03f77b01 83780800        cmp     dword ptr [eax+8] 0          Registers:              eax=00000000 ebx=03419b90 ecx=00000000 edx=05fef394   esi=05fef388 edi=05fef3bc esp=05fef32c ebp=05fef330 eip=03f77b01          Stack:              ChildEBP RetAddr                05fef330 03f77aa7   chrome_28f0000!SkShader::resetLocalMatrix(void)+0x11              05fef344 039248e2 chrome_28f0000!SkShader::setLocalMatrix(class   SkMatrix * localM = 0x05fef394)+0x27              05fef3f8 03689efd   chrome_28f0000!WebCore::Gradient::platformGradient(void)+0x262              05fef5c4 03528b4a   chrome_28f0000!WebCore::GraphicsContext::fillPath(void)+0x15d              05fef5e4 02c082f6   chrome_28f0000!WebCore::CanvasRenderingContext2D::fill(void)+0x8a              05fef608 03419eb9   chrome_28f0000!WebCore::CanvasRenderingContext2DInternal::fillCallback(clas  s v8::Arguments * args = 0x05fef668)+0x56              05fef740 064f018b   chrome_28f0000!v8::internal::Builtin_HandleApiCall(int __argc__ = 1  class   v8::internal::Object ** __argv__ = 0x05fef760)+0x329              WARNING: Frame IP not in any known module. Following frames may   be wrong.              05fef824 03351891 0x64f018b              05fef8b8 03351762 chrome_28f0000!v8::internal::Invoke(bool   construct = true  class v8::internal::Handle&lt;v8::internal::JSFunction&gt; func   = class v8::internal::Handle&lt;v8::internal::JSFunction&gt;  class   v8::internal::Handle&lt;v8::internal::Object&gt; receiver = class   v8::internal::Handle&lt;v8::internal::Object&gt;  int argc = 100595660  class   v8::internal::Object *** args = 0x0650a6b9  bool * has_pending_exception =   0x06a221d5)+0x111              05fef8dc 03320bb8   chrome_28f0000!v8::internal::Execution::Call(class   v8::internal::Handle&lt;v8::internal::JSFunction&gt; func = class   v8::internal::Handle&lt;v8::internal::JSFunction&gt;  class   v8::internal::Handle&lt;v8::internal::Object&gt; receiver = class   v8::internal::Handle&lt;v8::internal::Object&gt;  int argc = 0  class   v8::internal::Object *** args = 0x00000000  bool * pending_exception =   0x05fef92b)+0x22              05fef96c 02a5e5ef chrome_28f0000!v8::Function::Call(class   v8::Handle&lt;v8::Object&gt; recv = class v8::Handle&lt;v8::Object&gt;  int argc = 0    class v8::Handle&lt;v8::Value&gt; * argv = 0x00000000)+0x108              05fef9a4 02ace0bf   chrome_28f0000!WebCore::V8Proxy::CallFunction(class   v8::Handle&lt;v8::Function&gt; function = class v8::Handle&lt;v8::Function&gt;  class   v8::Handle&lt;v8::Object&gt; receiver = class v8::Handle&lt;v8::Object&gt;  int argc =   0  class v8::Handle&lt;v8::Value&gt; * args = 0x00000000)+0x5f              05fefa20 035cb3da   chrome_28f0000!WebCore::ScheduledAction::execute(class   WebCore::ScriptExecutionContext * context = 0x07fb3054)+0xff              05fefa5c 036920c5   chrome_28f0000!WebCore::DOMTimer::fired(void)+0x12a              05fefa94 036921ea   chrome_28f0000!WebCore::ThreadTimers::fireTimers(double fireTime =   1239925679.601625  class WTF::Vector&lt;WebCore::TimerBase * 0&gt; * firingTimers   = 0x05fefaac)+0xb5              05fefac8 03692136   chrome_28f0000!WebCore::ThreadTimers::sharedTimerFiredInternal(void)+0xaa              05fefad0 02904562   chrome_28f0000!WebCore::ThreadTimers::sharedTimerFired(void)+0x16              05fefae0 02904fdc   chrome_28f0000!webkit_glue::WebKitClientImpl::DoTimeout(void)+0x22              05fefaec 02904af4   chrome_28f0000!DispatchToMethod&lt;webkit_glue::WebKitClientImpl void (class   webkit_glue::WebKitClientImpl * obj = 0x061a9020  &lt;function&gt; * method =   0x02904540  struct Tuple0 * arg = 0x05fefb03)+0xc              05fefb08 03ac4b29   chrome_28f0000!base::BaseTimer&lt;webkit_glue::WebKitClientImpl 0&gt;::TimerTask:  :Run(void)+0x54              05fefbbc 03ac4bd5 chrome_28f0000!MessageLoop::RunTask(class   Task * task = 0x12245020)+0xb9              05fefbcc 03ac5246   chrome_28f0000!MessageLoop::DeferOrRunPendingTask(struct   MessageLoop::PendingTask * pending_task = 0x05fefbf0)+0x35              05fefc10 03b51aa0   chrome_28f0000!MessageLoop::DoDelayedWork(class base::Time *   next_delayed_work_time = 0x05dc9038)+0x116              05fefcf8 03ac444b   chrome_28f0000!base::MessagePumpDefault::Run(class   base::MessagePump::Delegate * delegate = 0x05fefeb0)+0xf0              05fefda8 03ac42b0   chrome_28f0000!MessageLoop::RunInternal(void)+0xfb              05fefde0 03ac413a   chrome_28f0000!MessageLoop::RunHandler(void)+0x90              05fefe08 03ae9138 chrome_28f0000!MessageLoop::Run(void)+0x3a              05feffa4 03ae8271   chrome_28f0000!base::Thread::ThreadMain(void)+0xb8              05feffb4 7c80b713 chrome_28f0000!`anonymous   namespace'::ThreadFunc(void * closure = 0x05ded02c)+0x21              05feffec 00000000 kernel32!BaseThreadStart+0x37               </pre>