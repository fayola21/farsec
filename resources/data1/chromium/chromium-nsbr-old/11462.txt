<title>Issue 11462 -   chromium -    Memory leak in ui_tests in SafeBrowsingProtocolManager::HandleServiceResponse - Project Hosting on Google Code</title> <pre> Found by running   export GTEST_TOTAL_SHARDS=20   export GTEST_SHARD_INDEX=15   sh tools/valgrind/chrome_tests.sh -t ui  in a loop overnight on linux.   The tests run in that shard were  AutomationProxyTest.NavigateToURLAsync  CacheTest.SMaxAge  TabRestoreUITest.RestoreWithExistingSiteInstance  ResourceDispatcherTest.SyncXMLHttpRequest  SavePageTest.NoSave    Stack:  186 (36 direct  150 indirect) bytes in 1 blocks are definitely lost in loss record 108 of 260     at operator new(unsigned int) (vg_replace_malloc.c:195)     by SafeBrowsingProtocolManager::HandleServiceResponse(GURL const&amp;  char const*  int)  (task.h:343)     by SafeBrowsingProtocolManager::OnURLFetchComplete(URLFetcher const*  GURL const&amp;   URLRequestStatus const&amp;  int  std::vector&lt;std::string  std::allocator&lt;std::string&gt; &gt; const&amp;   std::string const&amp;) (protocol_manager.cc:245)     by URLFetcher::Core::OnCompletedURLRequest(URLRequestStatus const&amp;)  (url_fetcher.cc:274)     by RunnableMethod&lt;URLFetcher::Core  void (URLFetcher::Core::*)(URLRequestStatus  const&amp;)  Tuple1&lt;URLRequestStatus&gt; &gt;::Run() (tuple.h:393)     by MessageLoop::RunTask(Task*) (message_loop.cc:308) </pre>