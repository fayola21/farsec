<title>Issue 9678 -   chromium -    Regression: Chrome crash when selecting search Google for suggestion before closing IME candidate window - Project Hosting on Google Code</title> <pre> This is a regression  happens on Dev channel build and trunk build  OK on  Stable channel build.    Build: 2.0.173.0 (Developer Build 13054)     OS: Vista  Windows 7    Other Browsers:   Safari4: N/A  Firefox3: N/A       IE8: N/A    Steps:  1. Launch Chinese Chrome  2. Switch IME to Chinese Microsoft Pingyin IME  3. Type &quot;xu&quot; in Omnibox     &gt;&gt;Search Google for &quot;��_��_��___��_&quot;  &quot;��_��_��___��_��_��_��_��_��_��_&quot; should show up now  4. Leave IME candidate window open  5. Select any one of the search Google for suggestion  6. Observe    Result:  Chrome crash    Expected:  No crash    Notes:  1. This issue happens on my Vista and Windows 7  OK on my XP  2. Need Microsoft Pingyin IME to reproduce this issue  it is OK for Google  IME because search Google for suggestion will not show up till finalizing  input when using Google IME    Stack Trace:  ChildEBP RetAddr    0014ec74 6b3792a1 chrome_6ad90000!`anonymous  namespace'::InvalidParameter+0x4  [c:bslavechrome-officialbuildsrcchromeappchrome_dll_main.cc @ 101]  0014ec8c 6b34cb6d chrome_6ad90000!_invalid_parameter_noinfo+0xc  [f:spvctoolscrt_bldself_x86crtsrcinvarg.c @ 99]  0014ec90 6af02086  chrome_6ad90000!std::_Vector_const_iterator&lt;AutocompleteMatch::ACMatchClassification std::allocator&lt;AutocompleteMatch::ACMatchClassification&gt;  &gt;::operator-&gt;+0x19 [c:program files (x86)microsoft visual studio  8vcincludevector @ 112]  0014ed1c 6aeae71d  chrome_6ad90000!AutocompletePopupModel::URLsForCurrentSelection+0xfb  [c:bslavechrome-officialbuildsrcchromebrowserautocompleteautocomplete_popup_model.cc  @ 174]  0014edf8 6af01eef  chrome_6ad90000!AutocompleteEditModel::OnPopupDataChanged+0xb2  [c:bslavechrome-officialbuildsrcchromebrowserautocompleteautocomplete_edit.cc  @ 437]  0014ee64 6b34c12f  chrome_6ad90000!AutocompletePopupModel::SetSelectedLine+0xde  [c:bslavechrome-officialbuildsrcchromebrowserautocompleteautocomplete_popup_model.cc  @ 124]  0014ee90 6b34ba6b  chrome_6ad90000!AutocompletePopupViewWin::OnMouseMove+0x6f  [c:bslavechrome-officialbuildsrcchromebrowserautocompleteautocomplete_popup_view_win.cc  @ 344]  0014eeb8 6b2e7908  chrome_6ad90000!AutocompletePopupViewWin::ProcessWindowMessage+0x17a  [c:bslavechrome-officialbuildsrcchromebrowserautocompleteautocomplete_popup_view_win.h  @ 47]  0014ef08 7655f8d2  chrome_6ad90000!ATL::CWindowImplBaseT&lt;ATL::CWindow ATL::CWinTraits&lt;1073741824 0&gt;  &gt;::WindowProc+0x42 [c:program files (x86)microsoft visual studio  8vcatlmfcincludeatlwin.h @ 3078]  0014ef34 7655f794 USER32!InternalCallWinProc+0x23  0014efac 76560008 USER32!UserCallWinProcCheckWow+0x14b  0014f010 76560060 USER32!DispatchMessageWorker+0x322  0014f020 6b2e1534 USER32!DispatchMessageW+0xf  0014f02c 6b13ff32 chrome_6ad90000!views::AcceleratorHandler::Dispatch+0x43  [c:bslavechrome-officialbuildsrcchromeviewswidgetaccelerator_handler.cc  @ 32]  0014f038 6b13ffa4  chrome_6ad90000!base::MessagePumpForUI::ProcessMessageHelper+0x4e  [c:bslavechrome-officialbuildsrcbasemessage_pump_win.cc @ 356]  0014f070 6b13ff16  chrome_6ad90000!base::MessagePumpForUI::ProcessPumpReplacementMessage+0x4c  [c:bslavechrome-officialbuildsrcbasemessage_pump_win.cc @ 396]  0014f078 6b13fda0  chrome_6ad90000!base::MessagePumpForUI::ProcessMessageHelper+0x32  [c:bslavechrome-officialbuildsrcbasemessage_pump_win.cc @ 351]  0014f0a8 6b13fbdb chrome_6ad90000!base::MessagePumpForUI::DoRunLoop+0x40  [c:bslavechrome-officialbuildsrcbasemessage_pump_win.cc @ 204]  0014f0c4 6b1275fe  chrome_6ad90000!base::MessagePumpWin::RunWithDispatcher+0x38  [c:bslavechrome-officialbuildsrcbasemessage_pump_win.cc @ 54]  0014f0d0 6b1275d8 chrome_6ad90000!MessageLoop::RunInternal+0x20  [c:bslavechrome-officialbuildsrcbasemessage_loop.cc @ 198]     </pre>