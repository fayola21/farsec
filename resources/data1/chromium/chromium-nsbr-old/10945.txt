<title>Issue 10945 -   chromium -    Memory leak in base_unittests' JPEGCodec.DecodeCorrupted  - Project Hosting on Google Code</title> <pre> To reproduce:    valgrind  base_unitests --leak-check=full --gtest_filter=JPEGCodec.DecodeCorrupted     (This may have popped up when I started using -O1 in builds.)    16:18:25 valgrind_analyze.py [ERROR] Leak_DefinitelyLost  3 728 (168 direct  3 560 indirect) bytes in 2 blocks are definitely lost   in loss record 115 of 127    malloc (vg_replace_malloc.c:178)    jpeg_get_small (third_party/libjpeg/jmemnobs.c:37)    jinit_memory_mgr (third_party/libjpeg/jmemmgr.c:1059)    jpeg_CreateDecompress (third_party/libjpeg/jdapimin.c:58)    JPEGCodec::Decode(unsigned char const*  unsigned int    JPEGCodec::ColorFormat  std::vector&lt;unsigned char    std::allocator&lt;unsigned char&gt; &gt;*  int*  int*)   (base/gfx/jpeg_codec.cc:416)    JPEGCodec_DecodeCorrupted_Test::TestBody()   (base/gfx/jpeg_codec_unittest.cc:127)   </pre>