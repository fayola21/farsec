<title>Issue 18338 -   chromium -    Invalid read in ExtensionShelfGtk::LoadFromModel() in ui test AutomationProxyTest5.TestLifetimeOfDomAutomationController - Project Hosting on Google Code</title> <pre> In all my local runs of  AutomationProxyTest5.TestLifetimeOfDomAutomationController  (my source tree is at <a href="/p/chromium/source/detail?r=22245">r22245</a>  which happens to have changed  some of the code in this backtrace)  valgrind complains    08:37:18 memcheck_analyze.py [ERROR] InvalidRead  Invalid read of size 4    ExtensionShelfGtk::LoadFromModel() (sr/include/c++/4.3/bits/stl_vector.h:485)    ExtensionShelfGtk::Init(Profile*)  (chrome/browser/gtk/extension_shelf_gtk.cc:164)    ExtensionShelfGtk::ExtensionShelfGtk(Profile*  Browser*)  (chrome/browser/gtk/extension_shelf_gtk.cc:71)    BrowserWindowGtk::InitWidgets()  (chrome/browser/gtk/browser_window_gtk.cc:1300)    BrowserWindowGtk::BrowserWindowGtk(Browser*)  (chrome/browser/gtk/browser_window_gtk.cc:413)    BrowserWindow::CreateBrowserWindow(Browser*)  (chrome/browser/gtk/browser_window_factory_gtk.cc:12)    Browser::CreateBrowserWindow() (chrome/browser/browser.cc:279)    Browser::BuildPopupWindowHelper(TabContents*  TabContents*  gfx::Rect  const&amp;  Browser::Type  Profile*  bool) (chrome/browser/browser.cc:2734)    Browser::BuildPopupWindow(TabContents*  TabContents*  gfx::Rect const&amp;)  (chrome/browser/browser.cc:2719)    Browser::AddNewContents(TabContents*  TabContents*   WindowOpenDisposition  gfx::Rect const&amp;  bool) (chrome/browser/browser.cc:1824)    TabContents::AddNewContents(TabContents*  WindowOpenDisposition   gfx::Rect const&amp;  bool  GURL const&amp;)  (chrome/browser/tab_contents/tab_contents.cc:799)    TabContentsView::ShowCreatedWindow(int  WindowOpenDisposition  gfx::Rect  const&amp;  bool  GURL const&amp;)  (chrome/browser/tab_contents/tab_contents_view.cc:52)    RenderViewHost::OnMsgShowView(int  WindowOpenDisposition  gfx::Rect  const&amp;  bool  GURL const&amp;)  (chrome/browser/renderer_host/render_view_host.cc:871)    To reproduce  try   sh tools/valgrind/chrome_tests.sh -t ui  --gtest_filter=AutomationProxyTest5.TestLifetimeOfDomAutomationController   </pre>