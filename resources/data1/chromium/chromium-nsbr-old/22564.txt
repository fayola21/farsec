<title>Issue 22564 -   chromium -    Chrome DLL exporting hundred tcmalloc functions - Project Hosting on Google Code</title> <pre> Chrome.dll 3.0.195.10 and newer is exporting a great number of strange   functions.    It should be only exporting ChromeMain with the extern 'C' STD calling   convention.    This is probably a configuration error. I think some part of the   configuration build thinks that tcmalloc is being built as a DLL (!!)    Could this be the source of bugs?    depends.exe dump:  ======================================================================  MallocExtension::MallocExtension(class MallocExtension const &amp;)  MallocExtension::MallocExtension(void)  tcmalloc::StackTraceTable::StackTraceTable(void)  TCMalloc_CrashReporter::TCMalloc_CrashReporter(bool char const * int)  MallocExtension::~MallocExtension(void)  tcmalloc::StackTraceTable::~StackTraceTable(void)  class MallocExtension &amp; MallocExtension::operator=(class MallocExtension   const &amp;)  class MallocHook &amp; MallocHook::operator=(class MallocHook const &amp;)  class tcmalloc::Sampler &amp; tcmalloc::Sampler::operator=(class   tcmalloc::Sampler const &amp;)  class tcmalloc::StackTraceTable &amp;   tcmalloc::StackTraceTable::operator=(class tcmalloc::StackTraceTable const   &amp;)  class TCMalloc_CrashReporter &amp; TCMalloc_CrashReporter::operator=(class   TCMalloc_CrashReporter const &amp;)  const MallocExtension::`vftable'  void tcmalloc::StackTraceTable::AddTrace(struct tcmalloc::StackTrace const   &amp;)  void DumpSystemAllocatorStats(class TCMalloc_Printer *)  __int64   FLAG__namespace_do_not_use_directly_use_DECLARE_int64_instead::FLAGS_tcmall  oc_large_alloc_report_threshold  __int64   FLAG__namespace_do_not_use_directly_use_DECLARE_int64_instead::FLAGS_tcmall  oc_max_total_thread_cache_bytes  double   FLAG__namespace_do_not_use_directly_use_DECLARE_double_instead::FLAGS_tcmal  loc_release_rate  __int64   FLAG__namespace_do_not_use_directly_use_DECLARE_int64_instead::FLAGS_tcmall  oc_sample_parameter  bool   FLAG__namespace_do_not_use_directly_use_DECLARE_bool_instead::FLAGS_tcmallo  c_use_dynamic_thread_cache_sizes  int   FLAG__namespace_do_not_use_directly_use_DECLARE_int32_instead::FLAGS_verbos  e  double tcmalloc::Sampler::FastLog2(double const &amp;)  unsigned int MallocExtension::GetAllocatedSize(void *)  int MallocHook::GetCallerStackTrace(void * * int int)  void (*MallocHook::GetDeleteHook(void))(void const *)  unsigned int MallocExtension::GetEstimatedAllocatedSize(unsigned int)  void MallocExtension::GetHeapGrowthStacks(class   std::basic_string&lt;char struct std::char_traits&lt;char&gt; class   std::allocator&lt;char&gt; &gt; *)  void MallocExtension::GetHeapSample(class std::basic_string&lt;char struct   std::char_traits&lt;char&gt; class std::allocator&lt;char&gt; &gt; *)  double MallocExtension::GetMemoryReleaseRate(void)  void (*MallocHook::GetMmapHook(void))(void const * void const * unsigned   int int int int long)  void (*MallocHook::GetMremapHook(void))(void const * void const * unsigned   int unsigned int int void const *)  void (*MallocHook::GetMunmapHook(void))(void const * unsigned int)  void (*MallocHook::GetNewHook(void))(void const * unsigned int)  bool MallocExtension::GetNumericProperty(char const * unsigned int *)  void (*MallocHook::GetPreMmapHook(void))(void const * unsigned   int int int int long)  void (*MallocHook::GetPreSbrkHook(void))(int)  int tcmalloc::Sampler::GetSamplePeriod(void)  void (*MallocHook::GetSbrkHook(void))(void const * int)  int GetStackFrames(void * * int * int int)  int GetStackTrace(void * * int int)  void MallocExtension::GetStats(char * int)  void tcmalloc::Sampler::Init(unsigned int)  void tcmalloc::Sampler::InitStatics(void)  void MallocExtension::Initialize(void)  void MallocHook::InvokeDeleteHook(void const *)  void MallocHook::InvokeMmapHook(void const * void const * unsigned   int int int int long)  void MallocHook::InvokeMremapHook(void const * void const * unsigned   int unsigned int int void const *)  void MallocHook::InvokeMunmapHook(void const * unsigned int)  void MallocHook::InvokeNewHook(void const * unsigned int)  void MallocHook::InvokePreMmapHook(void const * unsigned   int int int int long)  void MallocHook::InvokePreSbrkHook(int)  void MallocHook::InvokeSbrkHook(void const * int)  bool MallocExtension::MallocMemoryStats(int * unsigned int * int * const)  void MallocExtension::MarkThreadIdle(void)  unsigned __int64 tcmalloc::Sampler::NextRandom(unsigned __int64)  unsigned int tcmalloc::Sampler::PickNextSamplingPoint(void)  void tcmalloc::Sampler::PopulateFastLog2Table(void)  void TCMalloc_CrashReporter::PrintfAndDie(char const * ...)  void * * MallocExtension::ReadHeapGrowthStackTraces(void)  void * * MallocExtension::ReadStackTraces(int *)  void * * tcmalloc::StackTraceTable::ReadStackTracesAndClear(void)  void MallocExtension::Register(class MallocExtension *)  bool RegisterSystemAllocator(class SysAllocator * int)  void MallocExtension::ReleaseFreeMemory(void)  bool tcmalloc::Sampler::SampleAllocation(unsigned int)  void (*MallocHook::SetDeleteHook(void (*)(void const *)))(void const *)  void MallocExtension::SetMemoryReleaseRate(double)  void (*MallocHook::SetMmapHook(void (*)(void const * void const * unsigned   int int int int long)))(void const * void const * unsigned   int int int int long)  void (*MallocHook::SetMremapHook(void (*)(void const * void const   * unsigned int unsigned int int void const *)))(void const * void const   * unsigned int unsigned int int void const *)  void (*MallocHook::SetMunmapHook(void (*)(void const * unsigned int)))(void   const * unsigned int)  void (*MallocHook::SetNewHook(void (*)(void const * unsigned int)))(void   const * unsigned int)  bool MallocExtension::SetNumericProperty(char const * unsigned int)  void (*MallocHook::SetPreMmapHook(void (*)(void const * unsigned   int int int int long)))(void const * unsigned int int int int long)  void (*MallocHook::SetPreSbrkHook(void (*)(int)))(int)  void (*MallocHook::SetSbrkHook(void (*)(void const * int)))(void const   * int)  bool MallocExtension::VerifyAllMemory(void)  bool MallocExtension::VerifyArrayNewMemory(void *)  bool MallocExtension::VerifyMallocMemory(void *)  bool MallocExtension::VerifyNewMemory(void *)  int tcmalloc::StackTraceTable::bucket_total(void)  int tcmalloc::StackTraceTable::depth_total(void)  int getpagesize(void)  class MallocExtension * MallocExtension::instance(void)  int const tcmalloc::Sampler::kFastlogMask  int const tcmalloc::Sampler::kFastlogNumBits  int const tcmalloc::StackTraceTable::kHashTableSize  double * tcmalloc::Sampler::log_table_  int safe_vsnprintf(char * unsigned int char const * char *)  MallocExtension_GetAllocatedSize  MallocExtension_GetEstimatedAllocatedSize  MallocExtension_GetNumericProperty  MallocExtension_GetStats  MallocExtension_MallocMemoryStats  MallocExtension_MarkThreadIdle  MallocExtension_ReleaseFreeMemory  MallocExtension_SetNumericProperty  MallocExtension_VerifyAllMemory  MallocExtension_VerifyArrayNewMemory  MallocExtension_VerifyMallocMemory  MallocExtension_VerifyNewMemory  __sbrk   </pre>