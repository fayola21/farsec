<title>Issue 20617 -   chromium -    Memory leak in AutomationProvider::WaitForAppModalDialogToBeShown() - Project Hosting on Google Code</title> <pre> Happened in 3 out of 3 runs in ui tests  UnloadTest.BrowserCloseBeforeUnloadOK and  UnloadTest.BrowserCloseBeforeUnloadCancel    Valgrind complains    144 (12 direct  132 indirect) bytes in 1 blocks are definitely lost in loss  record 6 367 of 6 952    operator new(unsigned int) (vg_replace_malloc.c:214)     __gnu_cxx::new_allocator&lt;NotificationRegistrar::Record&gt;::allocate(unsigned  int  void const*) (nclude/c++/4.2/ext/new_allocator.h:91)    std::_Vector_base&lt;NotificationRegistrar::Record   ...&gt;::_M_allocate(unsigned int) (nclude/c++/4.2/bits/stl_vector.h:128)    std::vector&lt;NotificationRegistrar::Record  ...&gt;::_M_insert_aux(...)  (nclude/c++/4.2/bits/vector.tcc:271)    std::vector&lt;NotificationRegistrar::Record  ...  &gt;::push_back(NotificationRegistrar::Record const&amp;)  (nclude/c++/4.2/bits/stl_vector.h:605)    NotificationRegistrar::Add(NotificationObserver*  NotificationType   NotificationSource const&amp;) (chrome/common/notification_registrar.cc:39)     AppModalDialogShownObserver::AppModalDialogShownObserver(AutomationProvider*   IPC::Message*) (chrome/browser/automation/automation_provider_observers.cc:383)    AutomationProvider::WaitForAppModalDialogToBeShown(IPC::Message*)  (chrome/browser/automation/automation_provider.cc:1989) </pre>