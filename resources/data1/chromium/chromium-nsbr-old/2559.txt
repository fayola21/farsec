<title>Issue 2559 -   chromium -    REGRESSION: Delayed tasks are not run during modal event loops - Project Hosting on Google Code</title> <pre>   1. Drag a bookmark from the bookmark bar. This starts a modal loop.  2. Hover the bookmark over a folder (other bookmarks  or whatever).    What is the expected output?     The other bookmarks drop down should show.    What do you see instead?    Nada.    Doing some debugging shows this is likely a regression in the message   loop/pump. When I drag over the other folder a delayed task is scheduled   (BookmarkBarView::ShowFolderDropMenuTask). When this hits the MessageLoop   (PostTask_Helper) it sees the incoming_queue_ as not being empty and   returns. As we're in a modal loop though MessagePumpWin::DoRunLoop() is   blocked and the timer scheduled in MessagePumpWin doesn't get reset. </pre>