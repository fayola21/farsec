<title>Issue 5561 -   chromium -    Channel changer needs to support system-level installs - Project Hosting on Google Code</title> <pre> We now have some distributions that install Google Chrome as a system (not   per-user) program. This means GoogleUpdate.exe will run as system and use   HKLM instead of HKCU to store data.    The channel changer should accommodate a system install as follows:      1. Check for the existence of      HKCUSoftwareGoogleUpdateClientState{8A69D345-D564-463C-AFF1-  A69D9E530F96}      2. If it exists  proceed as we do currently.      3. Else check for      HKLMSoftwareGoogleUpdateClientState{8A69D345-D564-463C-AFF1-  A69D9E530F96}        If it does not exist  bail out (I think we already have this bail out   code).      4. Try to update HKLM.        Step 4 is intentionally hand-wavy.     We should check whether the user can write the ap value. On Vista  I'm not   familiar with the APIs  but we need to prompt for elevation if that's   possible.     If the user is not Admin or elevation fails  we need to bail out with a   different error message (&quot;You must be an Administrator of this computer to   run this program.&quot;)    The admin-check is the hand-wavy part  and I leave it in Finnur's capable   hands.     </pre>