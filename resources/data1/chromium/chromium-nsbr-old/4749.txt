<title>Issue 4749 -   chromium -    Crash in ResourceDispatcherHost::RemovePendingRequest on browser shutdown. - Project Hosting on Google Code</title> <pre> After my checkin <a href="/p/chromium/source/detail?r=5881">r5881</a> to back out <a href="/p/chromium/source/detail?r=5252">r5252</a>  we started to see crashes in ResourceDispatcherHost::RemovePendingRequest in ChromeBot testing.  (<a href="/p/chromium/source/detail?r=5890">r5890</a>   is the first build after <a href="/p/chromium/source/detail?r=5881">r5881</a> tested by ChromeBot.)    These crashes seem closely related to the crashes that Ricardo is looking   at in issue 4731.    Here are some examples of the crash.    http://go/crash-staging/reportview?product=Chromium&amp;version=0.3.155.0-  5890&amp;signature=`anonymous+namespace'::PureCall()-7BC993    Thread 5 *CRASHED* (EXCEPTION_BREAKPOINT @0x026712b3)  0x026712b3 	[chrome.dll 	- chrome_dll_main.cc:61] 	`anonymous   namespace'::PureCall()  0x02bc0f30 	[chrome.dll 	- invarg.c:99] 	_invalid_parameter_noinfo  0x02751e0c 	[chrome.dll 	- resource_dispatcher_host.cc:1919] 	  ResourceDispatcherHost::RemovePendingRequest(std::_Tree&lt;std::_Tmap_traits&lt;R  esourceDispatcherHost::GlobalRequestID URLRequest   * std::less&lt;ResourceDispatcherHost::GlobalRequestID&gt; std::allocator&lt;std::pa  ir&lt;ResourceDispatcherHost::GlobalRequestID const  URLRequest *&gt; &gt; 0&gt;   &gt;::iterator const &amp;)  0x02752c52 	[chrome.dll 	- resource_dispatcher_host.cc:1900] 	  ResourceDispatcherHost::CancelRequestsForRenderView(int int)  0x02715d52 	[chrome.dll 	- render_widget_helper.cc:183] 	  RenderWidgetHelper::OnCancelResourceRequests(ResourceDispatcherHost * int)  0x027507a5 	[chrome.dll 	- task.h:312] 	  RunnableMethod&lt;RenderWidgetHelper void (   RenderWidgetHelper::*)(ResourceDispatcherHost   * int) Tuple2&lt;ResourceDispatcherHost * int&gt; &gt;::Run()  0x026824af 	[chrome.dll 	- message_loop.cc:308] 	  MessageLoop::RunTask(Task *)  0x02683009 	[chrome.dll 	- message_loop.cc:408] 	  MessageLoop::DoWork()  0x026931ed 	[chrome.dll 	- message_pump_win.cc:462] 	  base::MessagePumpForIO::DoRunLoop()  0x02692e2f 	[chrome.dll 	- message_pump_win.h:78] 	  base::MessagePumpWin::Run(base::MessagePump::Delegate *)  0x02682b86 	[chrome.dll 	- message_loop.cc:197] 	  MessageLoop::RunInternal()  0x02682d1f 	[chrome.dll 	- message_loop.cc:180] 	  MessageLoop::RunHandler()  0x026835bc 	[chrome.dll 	- message_loop.cc:154] 	MessageLoop::Run()  0x02be80f9 	[chrome.dll 	- thread.cc:156] 	  base::Thread::ThreadMain()  0x0268508c 	[chrome.dll 	- platform_thread_win.cc:26] 	`anonymous   namespace'::ThreadFunc(void *)  0x7c80b682 	[kernel32.dll 	+ 0x0000b682] 	BaseThreadStart     http://go/crash-staging/reportview?product=Chromium&amp;version=0.3.155.0-  5893&amp;signature=`anonymous+namespace'::InvalidParameter(wchar_t+const+* wcha  r_t+const+* wchar_t+const+* unsigned+int unsigned+int)-7BA863    Thread 6 *CRASHED* (EXCEPTION_BREAKPOINT @0x026712d3)  0x026712d3 	[chrome.dll 	- chrome_dll_main.cc:61] 	`anonymous   namespace'::InvalidParameter(wchar_t const * wchar_t const * wchar_t const   * unsigned int unsigned int)  0x02bc28c0 	[chrome.dll 	- invarg.c:99] 	_invalid_parameter_noinfo  0x0275075c 	[chrome.dll 	- resource_dispatcher_host.cc:1919] 	  ResourceDispatcherHost::RemovePendingRequest(std::_Tree&lt;std::_Tmap_traits&lt;R  esourceDispatcherHost::GlobalRequestID URLRequest   * std::less&lt;ResourceDispatcherHost::GlobalRequestID&gt; std::allocator&lt;std::pa  ir&lt;ResourceDispatcherHost::GlobalRequestID const  URLRequest *&gt; &gt; 0&gt;   &gt;::iterator const &amp;)  0x02751632 	[chrome.dll 	- resource_dispatcher_host.cc:1900] 	  ResourceDispatcherHost::CancelRequestsForRenderView(int int)  0x02714f42 	[chrome.dll 	- render_widget_helper.cc:183] 	  RenderWidgetHelper::OnCancelResourceRequests(ResourceDispatcherHost * int)  0x02761a75 	[chrome.dll 	- task.h:312] 	  RunnableMethod&lt;DownloadFileManager void (   DownloadFileManager::*)(int DownloadBuffer *) Tuple2&lt;int DownloadBuffer *&gt;   &gt;::Run()  0x02681c6f 	[chrome.dll 	- message_loop.cc:308] 	  MessageLoop::RunTask(Task *)  0x026827c9 	[chrome.dll 	- message_loop.cc:408] 	  MessageLoop::DoWork()  0x02692bad 	[chrome.dll 	- message_pump_win.cc:462] 	  base::MessagePumpForIO::DoRunLoop()  0x026927ef 	[chrome.dll 	- message_pump_win.h:78] 	  base::MessagePumpWin::Run(base::MessagePump::Delegate *)  0x02682346 	[chrome.dll 	- message_loop.cc:197] 	  MessageLoop::RunInternal()  0x026824df 	[chrome.dll 	- message_loop.cc:180] 	  MessageLoop::RunHandler()  0x02682d7c 	[chrome.dll 	- message_loop.cc:154] 	MessageLoop::Run()  0x02be9a99 	[chrome.dll 	- thread.cc:156] 	  base::Thread::ThreadMain()  0x0268480c 	[chrome.dll 	- platform_thread_win.cc:26] 	`anonymous   namespace'::ThreadFunc(void *)  0x7c80b682 	[kernel32.dll 	+ 0x0000b682] 	BaseThreadStart   </pre>