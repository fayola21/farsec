<title>Issue 20541 -   chromium -    Memory leak in net::X509Certificate::Verify() - Project Hosting on Google Code</title> <pre> Seen in local testing.   Probably uncovered by  <a href="http://codereview.chromium.org/174102">http://codereview.chromium.org/174102</a>    To try to reproduce:    sh tools/valgrind/chrome_tests.sh -t ui   --gtest_filter=BrowserEncodingTest.TestEncodingAliasMapping    Valgrind complains:    128 (64 direct  64 indirect) bytes in 1 blocks are definitely lost in loss  record 7 475 of 9 349    malloc_zone_malloc (vg_replace_malloc.c:199)    _CFRuntimeCreateInstance    CFRunLoopSourceCreate    CFMachPortCreateRunLoopSource    Security::MachPlusPlus::CFAutoPort::enable()    Security::SecurityServer::ThreadNotifier::ThreadNotifier()    Security::ThreadNexus&lt;Security::SecurityServer::ThreadNotifier&gt;::operator()()    Security::SecurityServer::EventListener::EventListener(unsigned int   unsigned int)    Security::KeychainCore::CCallbackMgr::CCallbackMgr()    CallbackMaker::CallbackMaker()    Security::ModuleNexus&lt;CallbackMaker&gt;::make()    Security::ModuleNexusCommon::create(void* (*)())    Security::ModuleNexus&lt;CallbackMaker&gt;::operator()()    Security::KeychainCore::CCallbackMgr::Instance()    Security::KeychainCore::CCallbackMgr::AddCallback(long (*)(unsigned long   SecKeychainCallbackInfo*  void*)  unsigned long  void*)    SecKeychainAddCallback    tsGetGlobalTrustSettings(unsigned int)    SecTrustSettingsEvaluateCert    TPCertInfo::evaluateTrustSettings(cssm_data const&amp;  char const*  unsigned  int  unsigned int  bool*  bool*)    TPCertGroup::buildCertGroup(TPClItemInfo const&amp;  TPCertGroup*   cssm_dl_db_list const*  long  long  char const*  unsigned int  cssm_data  const*  TPCertGroup&amp;  TPCertGroup*  int  unsigned int  cssm_data const*   char const*  unsigned int  unsigned int  int&amp;  int&amp;  int&amp;)    AppleTPSession::CertGroupConstructPriv(long  long  TPCertGroup&amp;   cssm_dl_db_list const*  char const*  unsigned int  cssm_data const*   unsigned int  cssm_data const*  char const*  unsigned int  unsigned int   TPCertGroup&amp;  int&amp;  int&amp;  int&amp;  TPCertGroup&amp;)    AppleTPSession::CertGroupVerify(long  long  cssm_certgroup const&amp;   cssm_tp_verify_context const*  cssm_tp_verify_context_result*)    cssm_CertGroupVerify(long  long  long  cssm_certgroup const*   cssm_tp_verify_context const*  cssm_tp_verify_context_result*)    CSSM_TP_CertGroupVerify    Security::CssmClient::TPImpl::certGroupVerify(Security::CertGroup const&amp;   Security::TPVerifyContext const&amp;  Security::TPVerifyResult*)    Security::KeychainCore::Trust::evaluate()    SecTrustEvaluate    net::X509Certificate::Verify(std::basic_string&lt;char   std::char_traits&lt;char&gt;  std::allocator&lt;char&gt; &gt; const&amp;  int   net::CertVerifyResult*) const (src/net/base/x509_certificate_mac.cc:515)   </pre>