<title>Issue 10508 -   chromium -    [linux] crash in net::HttpUtil::AssembleRawHeaders - Project Hosting on Google Code</title> <pre> Not sure how to repro.  Was using gmail at the time.  Here's the stack:    *** glibc detected *** /home/tc/www/nocrawl/chrome/chrome: corrupted  double-linked list: 0xf1b1a9c0 ***    (gdb) bt  #0  0xffffe405 in __kernel_vsyscall ()  #1  0xf7413335 in raise () from /lib32/libc.so.6  #2  0xf7414cb1 in abort () from /lib32/libc.so.6  #3  0xf744c6ec in __libc_message () from /lib32/libc.so.6  #4  0xf7452c3d in malloc_consolidate () from /lib32/libc.so.6  #5  0xf7454a6d in _int_malloc () from /lib32/libc.so.6  #6  0xf745683d in malloc () from /lib32/libc.so.6  #7  0xf75fb7e7 in operator new () from /usr/lib32/libstdc++.so.6  #8  0xf75d5891 in std::string::_Rep::_S_create ()     from /usr/lib32/libstdc++.so.6  #9  0xf75d64a8 in std::string::_Rep::_M_clone () from /usr/lib32/libstdc++.so.6  #10 0xf75d70b8 in std::string::reserve () from /usr/lib32/libstdc++.so.6  #11 0x0852e154 in net::HttpUtil::AssembleRawHeaders ()  #12 0x08525428 in net::HttpNetworkTransaction::DidReadResponseHeaders ()  #13 0x08525b1b in net::HttpNetworkTransaction::DoReadHeadersComplete ()  #14 0x08525fcb in net::HttpNetworkTransaction::DoLoop ()  #15 0x08527d4b in net::HttpNetworkTransaction::OnIOComplete ()  #16 0x0855531e in net::SSLClientSocketNSS::DoCallback ()  #17 0x08556e4c in net::TCPClientSocket::DoCallback ()  #18 0x08556ff1 in net::TCPClientSocket::DidCompleteRead ()  #19 0x0845632d in event_base_loop ()  #20 0x08329650 in base::MessagePumpLibevent::Run ()  #21 0x083256ce in MessageLoop::RunInternal ()  #22 0x08325798 in MessageLoop::Run ()  #23 0x08341d2e in base::Thread::ThreadMain ()  #24 0x0832c931 in ThreadFunc ()  #25 0xf76fa4fb in start_thread () from /lib32/libpthread.so.0  #26 0xf74c109e in clone () from /lib32/libc.so.6      The disassembly at #11  Dump of assembler code for function _ZN3net8HttpUtil18AssembleRawHeadersEPKci:  0x0852e130 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+0&gt;:	push   %ebp  0x0852e131 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+1&gt;:	mov    %esp %ebp  0x0852e133 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+3&gt;:	push   %edi  0x0852e134 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+4&gt;:	push   %esi  0x0852e135 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+5&gt;:	push   %ebx  0x0852e136 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+6&gt;:	sub    $0x6c %esp  0x0852e139 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+9&gt;:	mov    0xc(%ebp) %esi  0x0852e13c &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+12&gt;:	mov     0x10(%ebp) %ebx  0x0852e13f &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+15&gt;:	mov     0x8(%ebp) %eax  0x0852e142 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+18&gt;:	movl    $0x992207c (%eax)  0x0852e148 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+24&gt;:	mov     %ebx 0x4(%esp)  0x0852e14c &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+28&gt;:	mov    %eax (%esp)  0x0852e14f &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+31&gt;:	call   0x90e3010  &lt;_ZNSs7reserveEj@plt&gt;  0x0852e154 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+36&gt;:	lea     (%esi %ebx 1) %edx  0x0852e157 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+39&gt;:	mov     %edx -0x5c(%ebp)  0x0852e15a &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+42&gt;:	mov     %ebx 0x4(%esp)  0x0852e15e &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+46&gt;:	mov    %esi (%esp)  0x0852e161 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+49&gt;:	call   0x852d0c6  &lt;_ZN3net8HttpUtil23LocateStartOfStatusLineEPKci&gt;  0x0852e166 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+54&gt;:	lea     (%esi %eax 1) %edx  0x0852e169 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+57&gt;:	add    $0x1 %eax  0x0852e16c &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+60&gt;:	cmovne %edx %esi  0x0852e16f &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+63&gt;:	movl    $0x8e96571 -0x20(%ebp)  0x0852e176 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+70&gt;:	movl    $0x2 -0x1c(%ebp)  0x0852e17d &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+77&gt;:	mov     -0x5c(%ebp) %ebx  0x0852e180 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+80&gt;:	sub    %esi %ebx  0x0852e182 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+82&gt;:	mov     %esi -0x28(%ebp)  0x0852e185 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+85&gt;:	mov     %ebx -0x24(%ebp)  0x0852e188 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+88&gt;:	movl    $0x0 0x8(%esp)  0x0852e190 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+96&gt;:	lea     -0x20(%ebp) %eax  0x0852e193 &lt;_ZN3net8HttpUtil18AssembleRawHeadersEPKci+99&gt;:	mov    %eax 0x4( </pre>