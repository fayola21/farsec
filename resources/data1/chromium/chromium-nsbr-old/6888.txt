<title>Issue 6888 -   chromium -    Better address bar handling of javascript: (+etc.) URLs - Project Hosting on Google Code</title> <pre> When the user uses the address bar to navigate to:  * A javascript: URL  * A download  * Something ShellExecuted  * A mailto: link  ...or any other address that doesn't actually change the URL but just   triggers some other action  we should persist that in the bar until the   user explicitly hits &lt;esc&gt; -- in other words  leave the permanent_text   unchanged  but doesn't revert the user edit either.    Subtle tweak: If the page itself navigate  then we _should_ go ahead and   show that update.  So  perhaps the current place where we RevertAll() after   accepting the input should be changed to instead set some new member   variable like &quot;can revert on next update&quot; and then when we get an update we   go ahead and revert (and clear that) if it's set  or if the user types more   or something we clear that variable.  I think checking the locations where   we set user_input_in_progress_ will give us the locations where we might   need to fiddle with this variable.    Determining which URLs to do this for can maybe be done in the loader   (maybe these both look like a failed provisional load?). </pre>