<title>Issue 17184 -   chromium -    Memory leaks in WebCore::Pasteboard::writeSelection() - Project Hosting on Google Code</title> <pre> The command    sh tools/valgrind/valgrind_webkit_tests.sh LayoutTests/editing/pasteboard &amp;  creates a number of log files  one for each file in pasteboard/*   and then when done concatenates them all together.  Many of them  show memory leaks.  It is tempting to run that script on just a few files   but it doesn't work properly  so you have to do it on the big directory  and  look at the log files as they appear.    The first valgrind warning that shows up in its output is    2 214 (580 direct  1 634 indirect) bytes in 2 blocks are definitely lost in loss record 800 of  880     at malloc (vg_replace_malloc.c:193)     by WTF::fastMalloc(unsigned int) (FastMalloc.cpp:225)     by WebCore::StringImpl::operator new(unsigned int) (StringImpl.cpp:72)     by WebCore::StringImpl::adopt(WTF::Vector&lt;unsigned short  0u&gt;&amp;) (StringImpl.cpp:985)     by WebCore::createMarkup(WebCore::Range const*  WTF::Vector&lt;WebCore::Node*  0u&gt;*   WebCore::EAnnotateForInterchange  bool) (PlatformString.h:87)     by WebCore::Pasteboard::writeSelection(WebCore::Range*  bool  WebCore::Frame*)  (PasteboardChromium.cpp:73)     by WebCore::Editor::cut() (Editor.cpp:1023)     by WebCore::executeCut(WebCore::Frame*  WebCore::Event*   WebCore::EditorCommandSource  WebCore::String const&amp;) (EditorCommand.cpp:276)     by WebCore::Editor::Command::execute(WebCore::String const&amp;  WebCore::Event*) const  (EditorCommand.cpp:1480)     by WebCore::Document::execCommand(WebCore::String const&amp;  bool  WebCore::String  const&amp;) (Document.cpp:3217)     by WebCore::DocumentInternal::execCommandCallback(v8::Arguments const&amp;)  (V8Document.cpp:653)     by v8::internal::Builtin_HandleApiCall(int  v8::internal::Object**) (builtins.cc:381)       </pre>