<title>Issue 16209 -   chromium -    RenderWidgetHelper::AllocTransportDIB leak in Mac UI tests - Project Hosting on Google Code</title> <pre> This leak is showing up in a whole bunch of the UI tests under Valgrind on   the Mac. I got this with:    src/tools/valgrind/chrome_tests.sh  --build_dir src/xcodebuild/Debug -  -test ui --gtest_filter=BrowserTest.NoTitle  (I'm about to add a suppression for this for now  so you'll have to run   without suppressions or edit the suppressions_mac file (search for this bug   number) to repro this.)    ==67669== 40 bytes in 2 blocks are definitely lost in loss record 965 of   2 963  ==67669==    at 0x5D3AB7F: operator new(unsigned long)   (vg_replace_malloc.c:218)  ==67669==    by 0x3E4B13:   RenderWidgetHelper::AllocTransportDIB(unsigned long    base::FileDescriptor*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x40CD01:   ResourceMessageFilter::OnAllocTransportDIB(unsigned long    base::FileDescriptor*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x41450F: void   DispatchToMethod&lt;ResourceMessageFilter  void   (ResourceMessageFilter::*)(unsigned long  base::FileDescriptor*)  unsigned   long  base::FileDescriptor&gt;(ResourceMessageFilter*  void   (ResourceMessageFilter::*)(unsigned long  base::FileDescriptor*)    Tuple1&lt;unsigned long&gt; const&amp;  Tuple1&lt;base::FileDescriptor&gt;*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x41B178: bool   IPC::MessageWithReply&lt;Tuple1&lt;unsigned long&gt;    Tuple1&lt;base::FileDescriptor&amp;&gt; &gt;::Dispatch&lt;ResourceMessageFilter  void   (ResourceMessageFilter::*)(unsigned long    base::FileDescriptor*)&gt;(IPC::Message const*  ResourceMessageFilter*  void   (ResourceMessageFilter::*)(unsigned long  base::FileDescriptor*)) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x410904:   ResourceMessageFilter::OnMessageReceived(IPC::Message const&amp;) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x42CE9:   IPC::ChannelProxy::Context::TryFilters(IPC::Message const&amp;) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x8ED81:   IPC::SyncChannel::SyncContext::OnMessageReceived(IPC::Message const&amp;)   (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x3DB71:   IPC::Channel::ChannelImpl::ProcessIncomingMessages() (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x3EBBA:   IPC::Channel::ChannelImpl::OnFileCanReadWithoutBlocking(int) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x601C9E:   base::MessagePumpLibevent::OnLibeventNotification(int  short  void*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x7B938D: event_process_active (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x7B96C0: event_base_loop (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x602588:   base::MessagePumpLibevent::Run(base::MessagePump::Delegate*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x5F8B9A: MessageLoop::RunInternal() (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x5F8BB6: MessageLoop::RunHandler() (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x5F8C41: MessageLoop::Run() (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x63A7DE: base::Thread::ThreadMain() (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x60E8F5: ThreadFunc(void*) (in   /Volumes/Data/chromium/src/xcodebuild/Debug/Chromium.app/Content  s/MacOS/Chromium)  ==67669==    by 0x7CA1154: _pthread_start (in   /usr/lib/libSystem.B.dylib)  ==67669==    by 0x7CA1011: thread_start (in /usr/lib/libSystem.B.dylib) </pre>