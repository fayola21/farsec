<title>Issue 2920 -   chromium -    NULL ptr in WebCore::HTMLParser::handleError: document-&gt;documentElement() can return null - Project Hosting on Google Code</title> <pre> Repro: <a href="http://skypher.com/SkyLined/Repro/Chrome/AV-">http://skypher.com/SkyLined/Repro/Chrome/AV-</a>  Read%5B44%5D@chrome!ChromeMain+0x1f0af/repro.html    Expected: Page renders  optionally with JavaScript error.  Actual: NULL pointer AV in renderer.    Source:  bool HTMLParser::handleError(Node* n  bool flat  const AtomicString&amp;   localName  int tagPriority)  {  &lt;&lt;&lt;snip&gt;&gt;&gt;          } else if (h-&gt;hasLocalName(htmlTag)) {              if (!current-&gt;isDocumentNode() ) {                  if (document-&gt;documentElement()-&gt;hasTagName(htmlTag)) {                 The repro causes &quot;document.m_ documentElement&quot; to be NULL so &quot;document-&gt;   documentElement()&quot; returns NULL. &quot;hasTagName&quot; is therefore called with   &quot;this == NULL&quot; which causes an AV in &quot;WebCore::QualifiedName::matches&quot;.    This is a WebKit bug and repro's in Safari as well. It does not repro in   nightly  so it must have been fixed. </pre>