<title>Issue 15700 -   chromium -    install-build-deps.sh: if gold install fails  it leavs you with no working /usr/bin/ld - Project Hosting on Google Code</title> <pre>   1. Have chromium checkout on your Google desktop workstation.  2. Run install-build-deps.sh and choose to use gold.        I expect it to build and install gold. However  it fails to install gold  like this:    rm -f libgold.a  ar cru libgold.a archive.o binary.o common.o compressed_output.o  copy-relocs.o cref.o defstd.o descriptors.o dirsearch.o dynobj.o  dwarf_reader.o ehframe.o errors.o expression.o fileread.o gold.o  gold-threads.o layout.o mapfile.o merge.o object.o options.o output.o  parameters.o readsyms.o reduced_debug_output.o reloc.o resolve.o  script-sections.o script.o stringpool.o symtab.o target-select.o  version.o workqueue.o workqueue-threads.o  yyscript.o  ranlib libgold.a  g++ -W -Wall   -Werror -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64  -frandom-seed=ld-new -g -O2   -o ld-new  main.o i386.o x86_64.o  sparc.o powerpc.o libgold.a ../libiberty/libiberty.a    -lz  make[4]: Leaving directory `/home/phajdan/chromium/binutils-2.19.1/gold'  make[3]: Leaving directory `/home/phajdan/chromium/binutils-2.19.1/gold'  make[2]: Leaving directory `/home/phajdan/chromium/binutils-2.19.1/gold'  make[1]: Leaving directory `/home/phajdan/chromium/binutils-2.19.1'  make: stat: GNUmakefile: Permission denied  make: stat: makefile: Permission denied  make: stat: Makefile: Permission denied  make: stat: install: Permission denied  make: *** No rule to make target `install'.  Stop.  Installing gold as /usr/bin/ld.  To uninstall  do 'cd /usr/bin; sudo rm ld; sudo mv ld.orig ld'    Now /usr/bin looks like this:    phajdan@harrowdale:~/chromium$ ls -l /usr/bin/ld*  lrwxrwxrwx 1 root root     16 Jun 30 12:59 /usr/bin/ld -&gt; /usr/bin/ld.gold  lrwxrwxrwx 1 root root     22 Jun 30 12:59 /usr/bin/ld.gold -&gt;  /usr/local/gold/bin/ld  -rwxr-xr-x 1 root root 457416 Jan  3  2008 /usr/bin/ld.orig  lrwxrwxrwx 1 root root     10 Jun 23 16:46 /usr/bin/ldapadd -&gt; ldapmodify  -rwxr-xr-x 1 root root  56888 Aug  5  2008 /usr/bin/ldapcompare  -rwxr-xr-x 1 root root  57880 Aug  5  2008 /usr/bin/ldapdelete  -rwxr-xr-x 1 root root  66488 Aug  5  2008 /usr/bin/ldapmodify  -rwxr-xr-x 1 root root  56888 Aug  5  2008 /usr/bin/ldapmodrdn  -rwxr-xr-x 1 root root  57592 Aug  5  2008 /usr/bin/ldappasswd  -rwxr-xr-x 1 root root  74648 Aug  5  2008 /usr/bin/ldapsearch  -rwxr-xr-x 1 root root  56888 Aug  5  2008 /usr/bin/ldapwhoami  -rwxr-xr-x 1 root root   5871 Sep 12  2008 /usr/bin/ldd    And /usr/local/gold looks like this:    phajdan@harrowdale:~/chromium$ ls -l /usr/local/gold  ls: cannot access /usr/local/gold: No such file or directory  phajdan@harrowdale:~/chromium$ ls -l /usr/local  total 56  drwxr-xr-x  2 root root  4096 Jun 23 16:14 bin  drwxr-xr-x  5 root root  4096 Jun 23 16:59 buildtools  drwxr-xr-x  2 root root  4096 Jun 23 16:14 etc  drwxr-xr-x  2 root root  4096 Jun 23 16:14 games  drwxrwxrwt  9 root root  4096 Jun 29 17:06 google  drwxr-xr-x  2 root root  4096 Jun 23 16:14 include  drwxr-xr-x  5 root root  4096 Jun 23 16:18 lib  lrwxrwxrwx  1 root root     9 Jun 23 16:14 man -&gt; share/man  drwxr-xr-x  2 root root  4096 Jun 23 16:20 sbin  drwxr-xr-x  2 root root  4096 Jun 23 16:50 scripts  drwxr-xr-x 14 root root  4096 Jun 23 17:04 share  drwxr-xr-x  2 root root  4096 Jun 23 16:14 src  drwxr-xr-x  2 root root 12288 Jun 19 15:58 symlinks    This failure to install is another problem  but it also substitutes  /usr/bin/ld with a broken symlink. It should check if gold installed  successfully and only then perform the substitution etc. </pre>