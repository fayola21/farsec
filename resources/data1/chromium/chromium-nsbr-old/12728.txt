<title>Issue 12728 -   chromium -    Crash in RenderWidget::DoDeferredPaint - Project Hosting on Google Code</title> <pre> jrg: Any chance we need another graphics context here?    http://crash/reportview?product=Chrome_Mac&amp;version=3.0.182.1&amp;signature=-10004309F    stack:  Thread 2 *CRASHED* (EXC_BAD_ACCESS / KERN_INVALID_ADDRESS @0xffff07fc)    0xffff07fc			  0x925ecea9	 [ImageIO	 + 0x00002ea9]	 CGImageReadGetBytesAtOffset  0x925eea8f	 [ImageIO	 + 0x00004a8f]	 CGImageReadSessionGetBytes  0x9261e983	 [ImageIO	 + 0x00034983]	 fill_input_buffer  0x971e85e8	 [libJPEG.dylib	 + 0x000165e8]	  0x971da886	 [libJPEG.dylib	 + 0x00008886]	  0x971da5e8	 [libJPEG.dylib	 + 0x000085e8]	  0x971e920b	 [libJPEG.dylib	 + 0x0001720b]	  0x971d86be	 [libJPEG.dylib	 + 0x000066be]	  0x92628586	 [ImageIO	 + 0x0003e586]	 getBandProcJPGProg  0x9265d4c6	 [ImageIO	 + 0x000734c6]	 faultCacheData_cb  0x93ee65c8	 [CoreGraphics	 + 0x0056c5c8]	 faultDataAccessBytePointer  0x939f5093	 [CoreGraphics	 + 0x0007b093]	 CGDataProviderGetBytePtr  0x925f0e6f	 [ImageIO	 + 0x00006e6f]	 CGImagePlusCreateImage  0x0093fb5d	 [Google Chrome	 + 0x0093eb5d]	 WebCore::ImageSource::createFrameAtIndex(unsigned long)  0x0094cac5	 [Google Chrome	 + 0x0094bac5]	 WebCore::BitmapImage::cacheFrame(unsigned long)  0x0094d088	 [Google Chrome	 + 0x0094c088]	 WebCore::BitmapImage::frameAtIndex(unsigned long)  0x0093ec0e	 [Google Chrome	 + 0x0093dc0e]	 WebCore::BitmapImage::draw(WebCore::GraphicsContext*  WebCore::FloatRect const&amp;  WebCore::FloatRect const&amp;  WebCore::CompositeOperator)  0x00958ce6	 [Google Chrome	 + 0x00957ce6]	 WebCore::GraphicsContext::drawImage(WebCore::Image*  WebCore::FloatRect const&amp;  WebCore::FloatRect const&amp;  WebCore::CompositeOperator  bool)  0x00958dab	 [Google Chrome	 + 0x00957dab]	 WebCore::GraphicsContext::drawImage(WebCore::Image*  WebCore::IntRect const&amp;  WebCore::IntRect const&amp;  WebCore::CompositeOperator  bool)  0x00958f6a	 [Google Chrome	 + 0x00957f6a]	 WebCore::GraphicsContext::drawImage(WebCore::Image*  WebCore::IntRect const&amp;  WebCore::CompositeOperator  bool)  0x009c5f03	 [Google Chrome	 + 0x009c4f03]	 WebCore::RenderImage::paintReplaced(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009eb2c5	 [Google Chrome	 + 0x009ea2c5]	 WebCore::RenderReplaced::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x00990fcf	 [Google Chrome	 + 0x0098ffcf]	 WebCore::InlineBox::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x00993dfd	 [Google Chrome	 + 0x00992dfd]	 WebCore::InlineFlowBox::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x00993dfd	 [Google Chrome	 + 0x00992dfd]	 WebCore::InlineFlowBox::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x00a19f5c	 [Google Chrome	 + 0x00a18f5c]	 WebCore::RootInlineBox::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009d4cec	 [Google Chrome	 + 0x009d3cec]	 WebCore::RenderLineBoxList::paint(WebCore::RenderBoxModelObject*  WebCore::RenderObject::PaintInfo&amp;  int  int) const  0x009a7a84	 [Google Chrome	 + 0x009a6a84]	 WebCore::RenderBlock::paintContents(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7e24	 [Google Chrome	 + 0x009a6e24]	 WebCore::RenderBlock::paintObject(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a221c	 [Google Chrome	 + 0x009a121c]	 WebCore::RenderBlock::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7952	 [Google Chrome	 + 0x009a6952]	 WebCore::RenderBlock::paintChildren(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7e24	 [Google Chrome	 + 0x009a6e24]	 WebCore::RenderBlock::paintObject(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a221c	 [Google Chrome	 + 0x009a121c]	 WebCore::RenderBlock::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7952	 [Google Chrome	 + 0x009a6952]	 WebCore::RenderBlock::paintChildren(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7e24	 [Google Chrome	 + 0x009a6e24]	 WebCore::RenderBlock::paintObject(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a221c	 [Google Chrome	 + 0x009a121c]	 WebCore::RenderBlock::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7952	 [Google Chrome	 + 0x009a6952]	 WebCore::RenderBlock::paintChildren(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a7e24	 [Google Chrome	 + 0x009a6e24]	 WebCore::RenderBlock::paintObject(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009a221c	 [Google Chrome	 + 0x009a121c]	 WebCore::RenderBlock::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  0x009cf188	 [Google Chrome	 + 0x009ce188]	 WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*  WebCore::GraphicsContext*  WebCore::IntRect const&amp;  bool  WebCore::PaintRestriction    WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*  WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;  WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  bool  bool)  0x009cf365	 [Google Chrome	 + 0x009ce365]	 WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*  WebCore::GraphicsContext*  WebCore::IntRect const&amp;  bool  WebCore::PaintRestriction    WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*  WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;  WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  bool  bool)  0x009cf365	 [Google Chrome	 + 0x009ce365]	 WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*  WebCore::GraphicsContext*  WebCore::IntRect const&amp;  bool  WebCore::PaintRestriction    WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*  WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;  WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;    WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  bool  bool)  0x009cf580	 [Google Chrome	 + 0x009ce580]	 WebCore::RenderLayer::paint(WebCore::GraphicsContext*  WebCore::IntRect const&amp;  WebCore::PaintRestriction  WebCore::RenderObject*)  0x0092896b	 [Google Chrome	 + 0x0092796b]	 WebCore::FrameView::paintContents(WebCore::GraphicsContext*  WebCore::IntRect const&amp;)  0x0097cec1	 [Google Chrome	 + 0x0097bec1]	 WebCore::ScrollView::paint(WebCore::GraphicsContext*  WebCore::IntRect const&amp;)  0x0061d412	 [Google Chrome	 + 0x0061c412]	 WebFrameImpl::Paint(skia::PlatformCanvasMac*  WebKit::WebRect const&amp;)  0x002a07ed	 [Google Chrome	 + 0x0029f7ed]	 RenderWidget::PaintRect(gfx::Rect const&amp;  skia::PlatformCanvasMac*)  0x002a3e77	 [Google Chrome	 + 0x002a2e77]	 RenderWidget::DoDeferredPaint()  0x002a4098	 [Google Chrome	 + 0x002a3098]	 RenderWidget::OnPaintRectAck()  0x002a2a6c	 [Google Chrome	 + 0x002a1a6c]	 RenderWidget::OnMessageReceived(IPC::Message const&amp;)  0x0028edf2	 [Google Chrome	 + 0x0028ddf2]	 RenderView::OnMessageReceived(IPC::Message const&amp;)  0x0002d35b	 [Google Chrome	 + 0x0002c35b]	 MessageRouter::RouteMessage(IPC::Message const&amp;)  0x0001a5b1	 [Google Chrome	 + 0x000195b1]	 ChildThread::OnMessageReceived(IPC::Message const&amp;)  0x0002513a	 [Google Chrome	 + 0x0002413a]	 RunnableMethod&lt;IPC::ChannelProxy::Context  void (IPC::ChannelProxy::Context::*)(IPC::Message const&amp;)  Tuple1&lt;IPC::Message&gt; &gt;::Run()  0x002da615	 [Google Chrome	 + 0x002d9615]	 MessageLoop::RunTask(Task*)  0x002da65a	 [Google Chrome	 + 0x002d965a]	 MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const&amp;)  0x002db308	 [Google Chrome	 + 0x002da308]	 MessageLoop::DoWork()  0x002df65b	 [Google Chrome	 + 0x002de65b]	 base::MessagePumpDefault::Run(base::MessagePump::Delegate*)  0x002dabf0	 [Google Chrome	 + 0x002d9bf0]	 MessageLoop::RunInternal()  0x002dac9a	 [Google Chrome	 + 0x002d9c9a]	 MessageLoop::Run()  0x002f4a97	 [Google Chrome	 + 0x002f3a97]	 base::Thread::ThreadMain()  0x002e505c	 [Google Chrome	 + 0x002e405c]	 _ZL10ThreadFuncPv  0x91a24154	 [libSystem.B.dylib	 + 0x00032154]	 _pthread_start  0x91a24011	 [libSystem.B.dylib	 + 0x00032011]	 thread_start </pre>