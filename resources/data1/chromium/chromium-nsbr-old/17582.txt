<title>Issue 17582 -   chromium -    Crash on shutdown if a content script has an onunload handler - Project Hosting on Google Code</title> <pre> This may only happen in browser_tests.    Repro steps:  1. Add the following line to   src/chrome/test/data/extensions/good/Extensions/behllobkkfkfnphdnhnkndlbkcp  glgmj/1.0.0.0/script1.js:     window.onunload = function() {};  2. Run browser_tests --gtest_filter=ExtensionsStart*  3. See crash in BookmarkModelBeingDeleted    Call stack:   	  browser_tests.dll!BookmarkBarView::BookmarkModelBeingDeleted(BookmarkModel   * model=0x010e72f0)  Line 1072	C++   	browser_tests.dll!BookmarkModel::~BookmarkModel()  Line 125 + 0x36   bytes	C++   	browser_tests.dll!BookmarkModel::`scalar deleting destructor'()  +   0x16 bytes	C++   	browser_tests.dll!scoped_ptr&lt;BookmarkModel&gt;::reset(BookmarkModel *   p=0x00000000)  Line 81 + 0x24 bytes	C++   	browser_tests.dll!ProfileImpl::~ProfileImpl()  Line 672	C++   	browser_tests.dll!ProfileImpl::`scalar deleting destructor'()  +   0x16 bytes	C++   	browser_tests.dll!ProfileManager::~ProfileManager()  Line 57 + 0x29   bytes	C++   	browser_tests.dll!ProfileManager::`scalar deleting destructor'()  +   0x16 bytes	C++   	browser_tests.dll!scoped_ptr&lt;ProfileManager&gt;::reset(ProfileManager   * p=0x00000000)  Line 81 + 0x25 bytes	C++   	browser_tests.dll!BrowserProcessImpl::~BrowserProcessImpl()  Line   164	C++   </pre>