<title>Issue 17245 -   chromium -    Invalid Write in WebCore::SVGRenderBase::prepareToRenderSVGContent() - Project Hosting on Google Code</title> <pre> Happened in LayoutTests/svg/custom/mask-excessive-malloc.svg  during the fishing expedition   sh tools/valgrind/valgrind_webkit_tests.sh LayoutTests/svg  Presumably it would also be reproduced by more specific commands   sh tools/valgrind/valgrind_webkit_tests.sh LayoutTests/svg/custom  or   sh tools/valgrind/valgrind_webkit_tests.sh LayoutTests/svg/custom/  mask-excessive-malloc.svg  but I haven't verified that.    Valgrind complains  Invalid write of size 4     at WebCore::ImageBuffer::getImageData(WebCore::IntRect const&amp;) const  (ImageBufferSkia.cpp:138)     by WebCore::SVGResourceMasker::applyMask(WebCore::GraphicsContext*   WebCore::FloatRect const&amp;) (SVGResourceMasker.cpp:79)     by WebCore::SVGRenderBase::prepareToRenderSVGContent(WebCore::RenderObject*   WebCore::RenderObject::PaintInfo&amp;  WebCore::FloatRect const&amp;   WebCore::SVGResourceFilter*&amp;  WebCore::SVGResourceFilter*) (SVGRenderSupport.cpp:136)     by WebCore::RenderPath::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  (RenderPath.cpp:193)     by WebCore::RenderBox::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  (RenderBox.cpp:544)     by WebCore::RenderSVGRoot::paint(WebCore::RenderObject::PaintInfo&amp;  int  int)  (RenderSVGRoot.cpp:163)     by WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*   WebCore::GraphicsContext*  WebCore::IntRect const&amp;  WebCore::PaintRestriction   WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*   WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;   WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;   WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  unsigned int) (RenderLayer.cpp:2169)     by WebCore::RenderLayer::paintLayer(WebCore::RenderLayer*   WebCore::GraphicsContext*  WebCore::IntRect const&amp;  WebCore::PaintRestriction   WebCore::RenderObject*  WTF::HashMap&lt;WebCore::OverlapTestRequestClient*   WebCore::IntRect  WTF::PtrHash&lt;WebCore::OverlapTestRequestClient*&gt;   WTF::HashTraits&lt;WebCore::OverlapTestRequestClient*&gt;   WTF::HashTraits&lt;WebCore::IntRect&gt; &gt;*  unsigned int) (RenderLayer.cpp:2194)     by WebCore::RenderLayer::paint(WebCore::GraphicsContext*  WebCore::IntRect const&amp;   WebCore::PaintRestriction  WebCore::RenderObject*) (RenderLayer.cpp:1971)     by WebCore::FrameView::paintContents(WebCore::GraphicsContext*  WebCore::IntRect  const&amp;) (FrameView.cpp:1454)     by WebCore::ScrollView::paint(WebCore::GraphicsContext*  WebCore::IntRect const&amp;)  (ScrollView.cpp:755)     by WebFrameImpl::Paint(skia::PlatformCanvas*  WebKit::WebRect const&amp;)  (webframe_impl.cc:1498)     by WebViewImpl::paint(skia::PlatformCanvas*  WebKit::WebRect const&amp;)  (webview_impl.cc:989)     by TestShell::DumpImage(WebView*  std::basic_string&lt;wchar_t   std::char_traits&lt;wchar_t&gt;  std::allocator&lt;wchar_t&gt; &gt; const&amp;  std::string const&amp;)  (test_shell.cc:257)     by TestShell::Dump(TestShell*) (test_shell.cc:239)     by TestShell::TestFinished() (test_shell_gtk.cc:396) </pre>