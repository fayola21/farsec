<title>Issue 3457 -   chromium -    Crash in DownloadManager::Shutdown - Project Hosting on Google Code</title> <pre> I came across this when doing some testing.    DownloadManager::Shutdown has the following code:      for (std::set&lt;DownloadItem*&gt;::const_iterator rm_it = to_remove.begin();         rm_it != to_remove.end(); ++rm_it) {      DownloadItem* download = *rm_it;      download-&gt;Remove(true);      // Same as above  delete the download if it is not in 'downloads_'.      if (download-&gt;db_handle() == kUninitializedHandle)        delete download;    }    Invoking Remove deletes 'download'  so that the if is going to be   referencing a deleted object and we'll crash. </pre>