<title>Issue 9227 -   chromium -    DCHECK in ResolveProxyMsgHelperTest on POSIX - Project Hosting on Google Code</title> <pre> I was porting browser/net/resolve_proxy_msg_helper_unittest.cc and when  running the test it was hitting the following DCHECK:    [7348:7356:0324/134602:13700883171:FATAL:/home/ph/chromium-git/src/base/lock_impl_posix.cc(42)]  Check failed: rv == 0 (22 vs. 0)    Backtrace:  #0  DebugUtil::BreakDebugger () at  /home/ph/chromium-git/src/base/debug_util_posix.cc:109  #1  0x08df8801 in ~LogMessage (this=0xb670ed28)      at /home/ph/chromium-git/src/base/logging.cc:513  #2  0x08e39122 in LockImpl::Lock (this=0xbf9f7e94)      at /home/ph/chromium-git/src/base/lock_impl_posix.cc:42  #3  0x080a97ff in Lock::Acquire (this=0xbf9f7e94) at  /home/ph/chromium-git/src/base/lock.h:16  #4  0x080a981d in AutoLock (this=0xb670ee24  lock=@0xbf9f7e94)      at /home/ph/chromium-git/src/base/lock.h:43  #5  0x08e3fb74 in base::WaitableEvent::Signal (this=0xbf9f7e94)      at /home/ph/chromium-git/src/base/waitable_event_posix.cc:56  #6  0x081b3af1 in RunnerBridge::DoDestroy (this=0xbf9f7e7c)      at browser/net/resolve_proxy_msg_helper_unittest.cc:188  #7  0x081b1f3e in DispatchToMethod&lt;RunnerBridge  void (RunnerBridge::*)()&gt;  (obj=0xbf9f7e7c       method=0x81b3a96 &lt;RunnerBridge::DoDestroy()&gt;  arg=@0xb80311c)      at /home/ph/chromium-git/src/base/tuple.h:383  #8  0x081b1f79 in RunnableMethod&lt;RunnerBridge  void (RunnerBridge::*)()   Tuple0&gt;::Run (      this=0xb803100) at /home/ph/chromium-git/src/base/task.h:307      So  my changeset <a href="http://codereview.chromium.org/53007">http://codereview.chromium.org/53007</a> has a fix for this  bug and a more detailed explanation.    We should consider adding an equivalent DCHECK in Windows WaitableEvent  (when destroyed  nobody should be waiting on it). </pre>