<title>Issue 22999 -   chromium -    DCHECK when doing javascript:window.print() on pages with frames - Project Hosting on Google Code</title> <pre>   1. Navigate to <a href="http://www.htmlcodetutorial.com/frames/frameset.html">http://www.htmlcodetutorial.com/frames/frameset.html</a>  2. Type in javascript:window.print() and hit enter    Is this a regression? I think this used to work  but I don't have an old   enough build handy at the moment.     This DCHECKs in this function:    int WebFrameImpl::printBegin(const WebSize&amp; page_size) {    DCHECK_EQ(frame()-&gt;document()-&gt;isFrameSet()  false);      &gt;	chrome.dll!DebugUtil::BreakDebugger()  Line 221	C++   	chrome.dll!logging::LogMessage::~LogMessage()  Line 536	C++   	chrome.dll!WebFrameImpl::printBegin(const WebKit::WebSize &amp;   page_size={...})  Line 1069	C++   	  chrome.dll!PrepareFrameAndViewForPrint::PrepareFrameAndViewForPrint(const   ViewMsg_Print_Params &amp; print_params={...}  WebKit::WebFrame *   frame=0x11dafa80  WebView * web_view=0x06ee1300)  Line 55 + 0x25 bytes	C++   	chrome.dll!PrintWebViewHelper::Print(WebKit::WebFrame *   frame=0x11dafa80  bool script_initiated=true)  Line 81	C++   	chrome.dll!RenderView::Print(WebKit::WebFrame * frame=0x11dafa80    bool script_initiated=true)  Line 3508	C++   	chrome.dll!RenderView::printPage(WebKit::WebFrame *   frame=0x11dafa80)  Line 1380	C++   	chrome.dll!ChromeClientImpl::print(WebCore::Frame *   frame=0x12fd8800)  Line 509 + 0x2a bytes	C++   	chrome.dll!WebCore::Chrome::print(WebCore::Frame *   frame=0x12fd8800)  Line 390 + 0x1c bytes	C++   	chrome.dll!WebCore::DOMWindow::print()  Line 762	C++   	chrome.dll!WebCore::DOMWindowInternal::printCallback(const   v8::Arguments &amp; args={...})  Line 578	C++   	  chrome.dll!v8::internal::Builtin_HandleApiCall(v8::internal::Arguments   args={...})  Line 381 + 0x13 bytes	C++   	0242018b()	   	chrome.dll!v8::internal::Invoke(bool construct=false    v8::internal::Handle&lt;v8::internal::JSFunction&gt; func={...}    v8::internal::Handle&lt;v8::internal::Object&gt; receiver={...}  int argc=0    v8::internal::Object * * * args=0x00000000  bool *   has_pending_exception=0x045ae803)  Line 103 + 0x36 bytes	C++   	  chrome.dll!v8::internal::Execution::Call(v8::internal::Handle&lt;v8::internal:  :JSFunction&gt; func={...}  v8::internal::Handle&lt;v8::internal::Object&gt;   receiver={...}  int argc=0  v8::internal::Object * * * args=0x00000000    bool * pending_exception=0x045ae803)  Line 129 + 0x1f bytes	C++   	chrome.dll!v8::Script::Run()  Line 1148 + 0x19 bytes	C++   	chrome.dll!WebCore::V8Proxy::runScript(v8::Handle&lt;v8::Script&gt;   script={...}  bool isInlineCode=true)  Line 407 + 0x13 bytes	C++   	chrome.dll!WebCore::V8Proxy::evaluate(const   WebCore::ScriptSourceCode &amp; source={...}  WebCore::Node * node=0x00000000)    Line 367 + 0x27 bytes	C++   	chrome.dll!WebCore::ScriptController::evaluate(const   WebCore::ScriptSourceCode &amp; sourceCode={...})  Line 226	C++   	chrome.dll!WebCore::FrameLoader::executeScript(const   WebCore::ScriptSourceCode &amp; sourceCode={...})  Line 786	C++   	chrome.dll!WebCore::FrameLoader::executeScript(const   WebCore::String &amp; script=&quot;window.print()&quot;  bool forceUserGesture=true)    Line 773 + 0x59 bytes	C++   	chrome.dll!WebFrameImpl::LoadJavaScriptURL(const WebCore::KURL &amp;   url=&quot;javascript:window.print()&quot;)  Line 1896	C++   	chrome.dll!WebFrameImpl::loadRequest(const WebKit::WebURLRequest &amp;   request={...})  Line 754	C++   	chrome.dll!RenderView::OnNavigate(const ViewMsg_Navigate_Params &amp;   params={...})  Line 731 + 0x16 bytes	C++   	chrome.dll!DispatchToMethod&lt;RenderView void (__thiscall   RenderView::*)(ViewMsg_Navigate_Params const   &amp;) ViewMsg_Navigate_Params&gt;(RenderView * obj=0x12fd8000  void (const   ViewMsg_Navigate_Params &amp;)* method=0x6730a960  const   Tuple1&lt;ViewMsg_Navigate_Params&gt; &amp; arg={...})  Line 422 + 0x1f bytes	C++   	chrome.dll!IPC::MessageWithTuple&lt;Tuple1&lt;ViewMsg_Navigate_Params&gt;   &gt;::Dispatch&lt;RenderView void (__thiscall   RenderView::*)(ViewMsg_Navigate_Params const &amp;)&gt;(const IPC::Message *   msg=0x13324568  RenderView * obj=0x12fd8000  void (const   ViewMsg_Navigate_Params &amp;)* func=0x6730a960)  Line 998 + 0x26 bytes	C++   	chrome.dll!RenderView::OnMessageReceived(const IPC::Message &amp;   message={...})  Line 358 + 0x4a bytes	C++   	chrome.dll!MessageRouter::RouteMessage(const IPC::Message &amp;   msg={...})  Line 41 + 0x13 bytes	C++   	chrome.dll!MessageRouter::OnMessageReceived(const IPC::Message &amp;   msg={...})  Line 32 + 0x13 bytes	C++   	chrome.dll!ChildThread::OnMessageReceived(const IPC::Message &amp;   msg={...})  Line 114 + 0x17 bytes	C++   	chrome.dll!IPC::ChannelProxy::Context::OnDispatchMessage(const   IPC::Message &amp; message={...})  Line 204 + 0x1b bytes	C++   	chrome.dll!DispatchToMethod&lt;IPC::ChannelProxy::Context void   (__thiscall IPC::ChannelProxy::Context::*)(IPC::Message const   &amp;) IPC::Message&gt;(IPC::ChannelProxy::Context * obj=0x023663c0  void (const   IPC::Message &amp;)* method=0x66e0d530  const Tuple1&lt;IPC::Message&gt; &amp; arg={...})    Line 422 + 0xf bytes	C++   	chrome.dll!RunnableMethod&lt;IPC::ChannelProxy::Context void   (__thiscall IPC::ChannelProxy::Context::*)(IPC::Message const   &amp;) Tuple1&lt;IPC::Message&gt; &gt;::Run()  Line 307 + 0x1e bytes	C++   	chrome.dll!MessageLoop::RunTask(Task * task=0x13324540)  Line 314 +   0xf bytes	C++   	chrome.dll!MessageLoop::DeferOrRunPendingTask(const   MessageLoop::PendingTask &amp; pending_task={...})  Line 325	C++   	chrome.dll!MessageLoop::DoWork()  Line 429 + 0xc bytes	C++   	chrome.dll!base::MessagePumpForUI::DoRunLoop()  Line 209 + 0x1d   bytes	C++   	  chrome.dll!base::MessagePumpWin::RunWithDispatcher(base::MessagePump::Deleg  ate * delegate=0x045af784  base::MessagePumpWin::Dispatcher *   dispatcher=0x00000000)  Line 52 + 0xf bytes	C++   	chrome.dll!base::MessagePumpWin::Run(base::MessagePump::Delegate *   delegate=0x045af784)  Line 78 + 0x1c bytes	C++   	chrome.dll!MessageLoop::RunInternal()  Line 199 + 0x2a bytes	C++   	chrome.dll!MessageLoop::RunHandler()  Line 182	C++   	chrome.dll!MessageLoop::Run()  Line 156	C++   	chrome.dll!base::Thread::Run(MessageLoop * message_loop=0x045af784)    Line 133	C++   	chrome.dll!base::Thread::ThreadMain()  Line 153 + 0x16 bytes	C++   	chrome.dll!`anonymous namespace'::ThreadFunc(void *   closure=0x0232ca20)  Line 26 + 0xf bytes	C++   	kernel32.dll!75ede4a5() 	   	[Frames below may be incorrect and/or missing  no symbols loaded   for kernel32.dll]	   	ntdll.dll!7712cfed() 	   	ntdll.dll!7712d1ff() 	   </pre>