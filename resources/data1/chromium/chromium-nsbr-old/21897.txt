<title>Issue 21897 -   chromium -    Browser Crash @ LockImpl::Lock() - Project Hosting on Google Code</title> <pre> ToT (<a href="/p/chromium/source/detail?r=26224">r26224</a>)    Filing this after showing demo to Carlos.    -Start Chromium with FRUI.  -Perform imports from IE from FRUI. ( I have around 80 bookmarks in IE)  -Right click on other bookmarks and select open all bookmarks in [New  Window/Incognito window]  -While all the page are loading  Close Incognito window.    Browser window crashes.    Crash Analysis  ##############  FAULTING_IP:   ntdll!RtlpWaitForCriticalSection+8c  7c91b21a ff4010          inc     dword ptr [eax+10h]    EXCEPTION_RECORD:  ffffffff -- (.exr 0xffffffffffffffff)  ExceptionAddress: 7c91b21a (ntdll!RtlpWaitForCriticalSection+0x0000008c)     ExceptionCode: c0000005 (Access violation)    ExceptionFlags: 00000000  NumberParameters: 2     Parameter[0]: 00000001     Parameter[1]: 00000010  Attempt to write to address 00000010    PROCESS_NAME:  chrome.exe    ERROR_CODE: (NTSTATUS) 0xc0000005 - The instruction at &quot;0x%08lx&quot; referenced  memory at &quot;0x%08lx&quot;. The memory could not be &quot;%s&quot;.    EXCEPTION_CODE: (NTSTATUS) 0xc0000005 - The instruction at &quot;0x%08lx&quot;  referenced memory at &quot;0x%08lx&quot;. The memory could not be &quot;%s&quot;.    EXCEPTION_PARAMETER1:  00000001    EXCEPTION_PARAMETER2:  00000010    WRITE_ADDRESS:  00000010     FOLLOWUP_IP:   chrome_1c30000!LockImpl::Lock+7  [c:bslavechromium-rel-xpbuildsrcbaselock_impl_win.cc @ 56]  01fee5b7 c3              ret    CRITICAL_SECTION:  01a114c0 -- (!cs -s 01a114c0)    FAULTING_THREAD:  000044e8    BUGCHECK_STR:   APPLICATION_FAULT_NULL_CLASS_PTR_DEREFERENCE_INVALID_POINTER_WRITE    PRIMARY_PROBLEM_CLASS:  NULL_CLASS_PTR_DEREFERENCE    DEFAULT_BUCKET_ID:  NULL_CLASS_PTR_DEREFERENCE    LAST_CONTROL_TRANSFER:  from 7c901046 to 7c91b21a    STACK_TEXT:    0172f080 7c901046 00a114c0 01fee5b7 01a114c0  ntdll!RtlpWaitForCriticalSection+0x8c  0172f088 01fee5b7 01a114c0 0213eeec 08412900 ntdll!RtlEnterCriticalSection+0x46  0172f090 0213eeec 08412900 01a114b0 02d30000  chrome_1c30000!LockImpl::Lock+0x7  [c:bslavechromium-rel-xpbuildsrcbaselock_impl_win.cc @ 56]  0172f128 021715b1 0172f22c 08412900 00000000  chrome_1c30000!net::StrictTransportSecurityState::IsEnabledForHost+0x6c  [c:bslavechromium-rel-xpbuildsrcnetbasestrict_transport_security_state.cc  @ 64]  0172f2e0 0214c804 08412900 0172f39c 00a6f500  chrome_1c30000!URLRequestHttpJob::Factory+0x161  [c:bslavechromium-rel-xpbuildsrcneturl_requesturl_request_http_job.cc  @ 52]  0172f3bc 0211fcf0 08412900 08412900 01c59a08  chrome_1c30000!URLRequestJobManager::CreateJob+0x254  [c:bslavechromium-rel-xpbuildsrcneturl_requesturl_request_job_manager.cc  @ 93]  0172f3c8 01c59a08 00a6f500 0172f83c 08412900  chrome_1c30000!URLRequest::Start+0x10  [c:bslavechromium-rel-xpbuildsrcneturl_requesturl_request.cc @ 341]  0172f480 01c5a446 08412900 00a6f500 00a6f500  chrome_1c30000!ResourceDispatcherHost::BeginRequestInternal+0x1b8  [c:bslavechromium-rel-xpbuildsrcchromebrowserrenderer_hostresource_dispatcher_host.cc  @ 1286]  0172f7fc 01c5b1c3 00000000 0172f83c 00000000  chrome_1c30000!ResourceDispatcherHost::BeginRequest+0x7e6  [c:bslavechromium-rel-xpbuildsrcchromebrowserrenderer_hostresource_dispatcher_host.cc  @ 605]  0172f818 01c5b881 0172fc20 00000000 0172f83c  chrome_1c30000!ResourceDispatcherHost::OnRequestResource+0x23  [c:bslavechromium-rel-xpbuildsrcchromebrowserrenderer_hostresource_dispatcher_host.cc  @ 377]  0172f9e8 01c5b91d 0172fc20 00a6f500 01c5b1a0  chrome_1c30000!IPC::MessageWithTuple&lt;Tuple2&lt;int ViewHostMsg_Resource_Request&gt;  &gt;::Dispatch&lt;ResourceDispatcherHost int ViewHostMsg_Resource_Request const  &amp;&gt;+0x51 [c:bslavechromium-rel-xpbuildsrcipcipc_message_utils.h @ 1024]  0172fa08 01e9dc4c 0172fc20 03b1fc48 0172fabb  chrome_1c30000!ResourceDispatcherHost::OnMessageReceived+0x5d  [c:bslavechromium-rel-xpbuildsrcchromebrowserrenderer_hostresource_dispatcher_host.cc  @ 359]  0172fabc 022a24f6 0172fc20 065896e0 0172fc20  chrome_1c30000!ResourceMessageFilter::OnMessageReceived+0x3c  [c:bslavechromium-rel-xpbuildsrcchromebrowserrenderer_hostresource_message_filter.cc  @ 259]  0172fad4 022a1700 0172fc20 03b2a5f4 03b2a498  chrome_1c30000!IPC::ChannelProxy::Context::TryFilters+0x46  [c:bslavechromium-rel-xpbuildsrcipcipc_channel_proxy.cc @ 65]  0172fae8 022a561b 0172fc20 03b2a404 03b2a400  chrome_1c30000!IPC::SyncChannel::SyncContext::OnMessageReceived+0x10  [c:bslavechromium-rel-xpbuildsrcipcipc_sync_channel.cc @ 277]  0172fc3c 022a57d2 03b2a5f4 0000019c 00000000  chrome_1c30000!IPC::Channel::ChannelImpl::ProcessIncomingMessages+0x2eb  [c:bslavechromium-rel-xpbuildsrcipcipc_channel_win.cc @ 317]  0172fce8 02007dd1 03b2a404 0000019c 00000000  chrome_1c30000!IPC::Channel::ChannelImpl::OnIOCompleted+0xb2  [c:bslavechromium-rel-xpbuildsrcipcipc_channel_win.cc @ 409]  0172fda8 0200849b 00000000 00000000 00a9b580  chrome_1c30000!base::MessagePumpForIO::WaitForIOCompletion+0xf1  [c:bslavechromium-rel-xpbuildsrcbasemessage_pump_win.cc @ 505]  0172fdbc 02008110 0172fef0 0172fef0 0172fef0  chrome_1c30000!base::MessagePumpForIO::DoRunLoop+0x2b  [c:bslavechromium-rel-xpbuildsrcbasemessage_pump_win.cc @ 451]  0172fddc 01fdc760 0172fef0 00a9b340 00a9b340  chrome_1c30000!base::MessagePumpWin::Run+0x40  [c:bslavechromium-rel-xpbuildsrcbasemessage_pump_win.h @ 78]  0172fe80 01fdcb90 976d0499 00a9b358 00a9b340  chrome_1c30000!MessageLoop::RunInternal+0xc0  [c:bslavechromium-rel-xpbuildsrcbasemessage_loop.cc @ 199]  0172feb4 01fdd42d 00000001 0172fe00 00000000  chrome_1c30000!MessageLoop::RunHandler+0xa0  [c:bslavechromium-rel-xpbuildsrcbasemessage_loop.cc @ 182]  0172fed0 01ff065b 0172ffac 01ff091c 0172fef0  chrome_1c30000!MessageLoop::Run+0x3d  [c:bslavechromium-rel-xpbuildsrcbasemessage_loop.cc @ 156]  0172fed8 01ff091c 0172fef0 01f838c7 00a84000  chrome_1c30000!base::Thread::Run+0xb  [c:bslavechromium-rel-xpbuildsrcbasethread.cc @ 133]  0172ffac 01fed93d 0172ffec 7c80b729 00a9b340  chrome_1c30000!base::Thread::ThreadMain+0x8c  [c:bslavechromium-rel-xpbuildsrcbasethread.cc @ 156]  0172ffb4 7c80b729 00a9b340 01f838c7 00a84000 chrome_1c30000!`anonymous  namespace'::ThreadFunc+0xd  [c:bslavechromium-rel-xpbuildsrcbaseplatform_thread_win.cc @ 27]  0172ffec 00000000 01fed930 00a9b340 00000000 kernel32!BaseThreadStart+0x37      STACK_COMMAND:  ~7s; .ecxr ; kb    FAULTING_SOURCE_CODE:    No source found for  'c:bslavechromium-rel-xpbuildsrcbaselock_impl_win.cc'      SYMBOL_STACK_INDEX:  2    SYMBOL_NAME:  chrome_1c30000!LockImpl::Lock+7    FOLLOWUP_NAME:  MachineOwner    MODULE_NAME: chrome_1c30000    IMAGE_NAME:  chrome.dll    DEBUG_FLR_IMAGE_TIMESTAMP:  4aafd32d    FAILURE_BUCKET_ID:   NULL_CLASS_PTR_DEREFERENCE_c0000005_chrome.dll!LockImpl::Lock    BUCKET_ID:   APPLICATION_FAULT_NULL_CLASS_PTR_DEREFERENCE_INVALID_POINTER_WRITE_chrome_1c30000!LockImpl::Lock+7    WATSON_STAGEONE_URL:   <a href="http://watson.microsoft.com/StageOne/chrome_exe/0_0_0_0/4aafd359/ntdll_dll/5_1_2600_5755/49901d48/c0000005/0001b21a.htm?Retriage=1">http://watson.microsoft.com/StageOne/chrome_exe/0_0_0_0/4aafd359/ntdll_dll/5_1_2600_5755/49901d48/c0000005/0001b21a.htm?Retriage=1</a> </pre>