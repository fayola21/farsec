<title>Issue 20006 -   chromium -    Unplugging USB audio device during playback causes ugly log message - Project Hosting on Google Code</title> <pre>   1.  *Configure alsa to make the USB audio device the &quot;default.&quot;  2.  Play back a movie  3.  Unplug the device mid-stream.        It's okay to have a notification that the device error unexpectedly  but   the log messge should be prettier that what is currently printed.  In   particular  the &quot;Cannot close audio device&quot;  message seems to have a   garbled string  and the message also says &quot;Leaking handle.&quot; which might not   be true in this case.    Here is the output:  [6134:6223:3395704547059:ERROR:media/audio/linux/alsa_output.cc(445)]   Failed to write to pcm device: No such device  [6134:6223:3395704547543:ERROR:media/audio/linux/alsa_output.cc(522)]   Cannot close audio device (��_��__  $��_��__��_��__��_��__��_��__��_��__��_��__��_��__(��_��__��_��__��_��__`��_��__��_��__X��_��__��_��__X��_��__��_��__`��_��__��_��__`��_��__��_��__h��_��__��_��__h��_��__��_��__p��_��__��_��__p��_��__��_��__x��_��__��_��__x��_��__��_��__��_��__��_��__��_��__��_��__��_��__��_��__  ��_��__��_��__��_��__��_��__��_��__��_��__p��_��__��_��__��_��__): No such device  [6134:6223:3395704547559:WARNING:media/audio/linux/alsa_output.cc(370)]   Unable to close audio device. Leaking handle.      * configuring alsa isn't super trivial.  You may need to create a   ~/.asoundrc file to remap the USB audio device to &quot;default&quot;.  To see which   card number was assigned to your device  do:    $ cat /proc/asound/cards    0 [some_name        ]: blah-device                        More device info at 0xabcd  irq 1   1 [default        ]: USB-Audio - C-Media USB Headphone Set                          C-Media USB Headphone Set   at usb-0000:00:0b.1-  2.4.1.2  full speed    From here  you can see that &quot;1&quot; is assigned to default.  But to be certain    you can make a .asoundrc that looks like this:    pcm.!default {      type plug      slave.pcm &quot;hw:1 0&quot;  }  ctl.!default {      type hw      card 1  }    Where the hw:1 0 means &quot;card 1  device 0&quot;.  The first stanza configures the   pcm output default.  The second stanza configures the mixer/control   default.    After this  you should make sure to unmute your audio card.  I use the   command-line program &quot;alsamixer&quot; to do this since since the gnome-widgets   are probably still bound to the original default device.    Similarly  to test  I use mpg123 piped into aplay to avoid a program having   cached the old device handle.       mpg123 -s something.mp3 | aplay -f S16_LE -r 44100 -c 2    Should work.    Have fun!    Oh  and this setup ends up without pcm device sharing  so only one program   can have the device open at a time.  Make sure anything using the pcm   device is closed before testing  otherwise sound-playback will fail due to   not being able to open the sound device. </pre>