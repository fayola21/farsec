<title>Issue 9370 -   chromium -    Mem leak in net_unittests - X509CertificateTest.WebkitCertParsing - Project Hosting on Google Code</title> <pre> Valgrind on Mac thinks that net_unittests leaks memory.  We want to enable auto-analysis on valgrind output  before which the detected leaks need to   be fixed (or suppressed).    I'm marking it to you since you were the last person to have touched this. If this is an error    please feel free to reassign to someone more appropriate (or bounce back to me).    The leaking test is: X509CertificateTest.WebkitCertParsing  The following is valgrind's output. (Refer waterfall for latest).    ==9839== 55 007 (6 544 direct  48 463 indirect) bytes in 18 blocks are definitely lost in loss   record 239 of 248  ==9839==    at 0x17FFD63: malloc (vg_replace_malloc.c:193)  ==9839==    by 0x194341A: DefaultAllocator::malloc(unsigned long) (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x193DF2B: Security::CssmAllocatorMemoryFunctions::relayMalloc(unsigned   long  void*) (in /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x193E0D7: Security::CssmMemoryFunctions::malloc(unsigned long) const (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x193DFB0: Security::CssmMemoryFunctionsAllocator::malloc(unsigned long)   (in /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x18900BD: Attachment::upcallMalloc(long  unsigned int) (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x191236A: Security::PluginSession::malloc(unsigned long) (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x18B7D6D: DecodedCert::getAllParsedCertFields(unsigned int&amp;  cssm_field*&amp;)   (in /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x18BF8B2: AppleX509CLSession::CertGetAllFields(Security::CssmData const&amp;    unsigned int&amp;  cssm_field*&amp;) (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x1913F95: cssm_CertGetAllFields(long  cssm_data const*  unsigned int*    cssm_field**) (in /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x189B8DA: CSSM_CL_CertGetAllFields (in   /System/Library/Frameworks/Security.framework/Versions/A/Security)  ==9839==    by 0x1FC2F9: net::(anonymous   namespace)::GetCertFieldsForOID(OpaqueSecCertificateRef*  cssm_data  unsigned int*    cssm_field**) (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x1FC36B: net::(anonymous   namespace)::GetCertDateForOID(OpaqueSecCertificateRef*  cssm_data  base::Time*) (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x1FC6E8: net::X509Certificate::Initialize() (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x1F84D6: net::X509Certificate::X509Certificate(OpaqueSecCertificateRef*    net::X509Certificate::Source) (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x1F9388: net::X509Certificate::CreateFromHandle(OpaqueSecCertificateRef*    net::X509Certificate::Source) (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x1F940C: net::X509Certificate::CreateFromBytes(char const*  int) (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0xB23F8: net::X509CertificateTest_WebkitCertParsing_Test::TestBody() (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x2FDE61: testing::Test::Run() (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x302950: testing::internal::TestInfoImpl::Run() (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x3085CC: testing::internal::TestInfoImpl::RunTest(testing::TestInfo*) (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x303306: void testing::internal::List&lt;testing::TestInfo*&gt;::ForEach&lt;void   (*)(testing::TestInfo*)&gt;(void (*)(testing::TestInfo*)) const (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x302839: testing::TestCase::Run() (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x3085B0: testing::TestCase::RunTestCase(testing::TestCase*) (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x30314C: void testing::internal::List&lt;testing::TestCase*&gt;::ForEach&lt;void   (*)(testing::TestCase*)&gt;(void (*)(testing::TestCase*)) const (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x3026A6: testing::internal::UnitTestImpl::RunAllTests() (in   src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x30279B: testing::UnitTest::Run() (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x888E9: TestSuite::Run() (in src/xcodebuild/Debug/net_unittests)  ==9839==    by 0x879D1: main (in src/xcodebuild/Debug/net_unittests)   </pre>