<title>Issue 7146 -   chromium -    IPC::Channel unit test fails on large messages on POSIX - Project Hosting on Google Code</title> <pre> The following patch causes the IPC::Channel unit tests to fail on the Mac  (possibly Linux too):    Description:  Fix an UMR in IPCChannelTest.ChannelTest (message might have been  much smaller than intended)      Please review this at <a href="http://codereview.chromium.org/18845">http://codereview.chromium.org/18845</a>    SVN Base: svn://chrome-svn/chrome/trunk/src/    Affected files:   M     chrome/common/ipc_tests.cc      Index: chrome/common/ipc_tests.cc  ===================================================================  --- chrome/common/ipc_tests.cc  (<a href="/p/chromium/source/detail?r=8654">revision 8654</a>)  +++ chrome/common/ipc_tests.cc  (working copy)  @@ -153 8 +153 9 @@    message-&gt;WriteInt(message_index++);    message-&gt;WriteString(std::string(text));    -  // make sure we can handle large messages  +  // Make sure we can handle large messages.    char junk[50000];  +  memset(junk  'a'  sizeof(junk)-1);    junk[sizeof(junk)-1] = 0; </pre>