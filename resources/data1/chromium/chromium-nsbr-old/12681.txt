<title>Issue 12681 -   chromium -    CHECK(new_cost &gt;= 0) failed during ExtensionViewTest.BottomBar - Project Hosting on Google Code</title> <pre> The following CHECK failed once during the ExtensionViewTest.BottomBar test   on the &quot;Vista Tests&quot; buildbot:    <a href="http://build.chromium.org/buildbot/waterfall/builders/Vista%20Tests/builds/">http://build.chromium.org/buildbot/waterfall/builders/Vista%20Tests/builds/</a>  6838/steps/unit_tests/logs/stdio    [----------] 2 tests from ExtensionViewTest  [ RUN      ] ExtensionViewTest.Index  [       OK ] ExtensionViewTest.Index (665 ms)  [ RUN      ] ExtensionViewTest.BottomBar  C:bslavechromium-rel-builderbuildsrcbase/test_suite.h(77): error:   Failed  [3584:2128:0526/141952:12532125:FATAL:resource_dispatcher_host.cc(971)]   Check failed: new_cost &gt;= 0.  program finished with exit code -1073741819    The relevant source code is:    int ResourceDispatcherHost::IncrementOutstandingRequestsMemoryCost(      int cost  int process_id) {    // Retrieve the previous value (defaulting to 0 if not found).    OutstandingRequestsMemoryCostMap::iterator prev_entry =        outstanding_requests_memory_cost_map_.find(process_id);    int new_cost = 0;    if (prev_entry != outstanding_requests_memory_cost_map_.end())      new_cost = prev_entry-&gt;second;      // Insert/update the total; delete entries when their value reaches 0.    new_cost += cost;    CHECK(new_cost &gt;= 0);  &lt;=== FAILED    if (new_cost == 0)      outstanding_requests_memory_cost_map_.erase(prev_entry);    else      outstanding_requests_memory_cost_map_[process_id] = new_cost;      return new_cost;  }    Eric  you added this code to resource_dispatcher_host.cc in <a href="/p/chromium/source/detail?r=9298">r9298</a>  so I   assigned this bug to you.  Feel free to mark the bug WontFix if there's not   enough info for you to fix it. </pre>