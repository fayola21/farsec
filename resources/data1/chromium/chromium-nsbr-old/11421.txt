<title>Issue 11421 -   chromium -    Browser hang when a plugin does a JS alert while responding to a Windows message - Project Hosting on Google Code</title> <pre> While looking through the code  it hit me that if a plugin  in response to   a synchonous Windows message  executes a script on the page that does a JS   alert  Chrome is hung. This is because the browser UI thread isn't running   a nested message loop  and so doesn't get to dispatch the IPC message.  I   verified this with a ui test.    I'm still investigating if a robust workaround exists  or whether we need   to spend more time to research splitting the plugin HWND from the   renderview.    Can we put up the alert on a different thread other than the UI?  If not    can we detect that the browser is sending a message to the plugin  and the   alert is a direct result of that message?  If so  how can we run code on   the UI thread?  It doesn't look like even APCs will get executed in this   case  since the UI thread is in user32.dll!_NtUserRedrawWindow@16() during   a paint.  Need to investigate further.    Carlos is looking into <a title="Windowed plugins are janktastic"  href="/p/chromium/issues/detail?id=11247">issue 11247</a> which is to separate the plugin hwnd   from the renderview.   </pre>