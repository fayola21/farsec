<title>Issue 16740 -   chromium -    Empty cache block-files not reused. - Project Hosting on Google Code</title> <pre> The disk cache code incorrectly skips over block files after they reach the   size limit  instead of only when they are almost full.    bool NeedToGrowBlockFile(const disk_cache::BlockFileHeader* header                            int block_count  bool* use_next_file) {    if ((header-&gt;max_entries &gt; disk_cache::kMaxBlocks * 9 / 10) &amp;&amp;        header-&gt;next_file) {    header-&gt;max_entries should be the space currently used  not the maximum for   this file.    Additionally  now that we have a bunch of empty files  we need to do some   cleanup and delete them. </pre>