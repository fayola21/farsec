<title>Issue 12475 -   chromium -    In-process browser tests run BrowserMain() multiple times  leading to bugs - Project Hosting on Google Code</title> <pre> in_process_browser_test.cc:SetUp() runs BrowserMain() directly.  This means   that for a suite that contains multiple test cases (such as   interactive_ui_tests' BrowserFocusTest.*)  BrowserMain() gets run multiple   times in the same process.    This exposes problems that normal Chrome processes never encounter.  For   example  OffTheRecordObserver::Register() is called multiple times  when it   expects to only be called once.    There are probable multiple fixes here: OffTheRecordObserver should probably   be a Singleton rather than a static  and BrowserMain() should probably only   get run once per process.  I don't know how to make the latter happen off the   top of my head; perhaps some funky test trickery? </pre>