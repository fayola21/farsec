<title>Issue 17676 -   chromium -    Make the filename decoding in Content-Disposition take care of %-encoded legacy encodings as well - Project Hosting on Google Code</title> <pre> I was reading a thread on C-D handling in the HTTP-WG list and found this:     <a href="http://markmail.org/message/yi4lzgjf4rhby7k7#query:http-wg%20content-disposition+page:1+mid:xqygbmcwo4b44jrm+state:results">http://markmail.org/message/yi4lzgjf4rhby7k7#query:http-wg%20content-disposition+page:1+mid:xqygbmcwo4b44jrm+state:results</a>    -----------------------------quote-------------    For IE  the only way (I'm aware of) to provide non-ASCII characters in   the Content-Disposition filename parameter is to use percent encoding    such as       Content-Disposition: attachment;       filename=%c3%a4%c3%b6%c3%bc%c3%9f%e2%82%ac.txt    for a filename of &quot;��__��__��__��_��_��_��_&quot;.    The issue with that is that what character encoding IE chooses to   *decode* the byte sequence depends on locale and IE configuration. For   instance  in western countries it uses UTF-8  while in Asian locales  it   uses something else  *except* when the config option &quot;send URLs in   UTF-8&quot; is selected (which IMHO is *not* the default over there).    And even *if* this would work across all IE installations  it would   break all the other UAs  which take the parameter value verbatim.    ---------------------quote-------------    Currently  we support only %-encoded UTF-8. I have a TODO comment about supporting %-encoded referer charset and %-encoded   OS default charset. As for the raw 8bit byte sequence  we already do that.      </pre>