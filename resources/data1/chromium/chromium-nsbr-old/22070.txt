<title>Issue 22070 -   chromium -    Toolstrip theme background not updated when resizing Chrome window - Project Hosting on Google Code</title> <pre>   1. Open Chrome with extensions in the toolstrip  2. Install theme  3. Make sure the extension shelf is visible outside the NTP.  3. Resize the browser window. Notice that the toolstrip background isn't   updated to reflect that the background shifted when you resized.    Supposedly this is an easy fix. Just add...     background_needs_repaint_ = true;  ... to ExtensionShelf::LayoutItems (right above the line where we call   SchedulePaint).    Unfortunately  this introduces a painting glitch when resizing the window on   the New Tab page with the ExtensionShelf in *detached* mode. What I see is   Skia throwing first-chance exceptions and temporarily refusing to paint the   background. Resize some more and Skia stops throwing exceptions and paints   correctly.    Someone seems to be catching these first-chance exceptions and resuming   execution so Chrome doesn't crash. I thought we didn't do that so I'm a bit   confused. :s    I'm pretty sure this is due to the code in ExtensionShelf::InitBackground   being wrong  but I can't put my finger on what it is.   </pre>