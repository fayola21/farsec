<title>Issue 6777 -   chromium -    Focus/activation messages not sent properly when a modal alert pops up - Project Hosting on Google Code</title> <pre> If a JS alert pops up in a non-activated browser window  the series of   focus/activation messages we send doesn't seem to be right.    I was working in one window (let's call is &quot;A&quot;) when my Calendar tab (I   can't remember if it was foreground or background) in a different window   (&quot;B&quot;) popped up an alert.  This switched activation to window B.  I cleared   the message box by clicking &quot;OK&quot; and refocused window A.    At this point I noticed that the omnibox in window B had a visible   selection over the entire address.  Because the omnibox hides the selection   when it loses focus  this should not be possible.  Re-activating window B    verifying that focus was in the omnibox  and then re-activating window A   fixed the problem.    I conclude that somehow during this sequence we haven't sent the right   series of activation/focus messages to the right places  since the omnibox   in window B thought it got focus but never thought it lost it.  This sort   of thing could potentially cause worrisome problems like the &quot;black   omnibox&quot; bug.    Imported from Buganizer #1208548 (originally filed by pkasting) </pre>