<title>Issue 14212 -   chromium -    Can leak in DnsMaster if resolutions complete synchronously - Project Hosting on Google Code</title> <pre> DnsMaster::LookupRequest::Start needs to handle synchronous completion case.    It currently does all cleanup in OnLookupFinished()  however this is not reached in the case where   Resolve() completes synchronously. Hence cleanup is not done properly and stuff is leaked.    While the handling of synchronous completion is not a recent regression  it was not possible for   HostResolver::Resolve()'s previous implementation to complete synchronously. Now that caching is   added  it may complete synchronously (fairly likely in fact)  and hence tickle this bug. </pre>