<title>Issue 10618 -   chromium -    Convenient abstraction for writing important files - Project Hosting on Google Code</title> <pre> See <a title="Follow Ted Ts'o's advice on writing important files (prefs  etc.)" class=closed_ref href="/p/chromium/issues/detail?id=8516"> issue 8516 </a> for background info.    There are cases where we are saving important files (like preferences etc)  and don't want to corrupt the file on application crash or system hang/BSOD/...    The general pattern is to create a temporary file  write to it  and then  rename it to target path. It works and is used in the code  but in form of  repeated pattern. It may help a bit to extract the temp-and-replace logic   to have it in one place and make the code using it more readable. </pre>