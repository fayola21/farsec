<title>Issue 10607 -   chromium -    ConditionVariableTest.MultiThreadConsumerTest random failure - Project Hosting on Google Code</title> <pre>   1. Run base_unittests --gtest_filter=ConditionVariableTest.* on a loaded system. Happens more often on a   VM.      The test inconsistently fail. Here's an example on the mac:    [----------] 4 tests from ConditionVariableTest  [ RUN      ] ConditionVariableTest.StartupShutdownTest  [       OK ] ConditionVariableTest.StartupShutdownTest (104 ms)  [ RUN      ] ConditionVariableTest.TimeoutTest  [       OK ] ConditionVariableTest.TimeoutTest (354 ms)  [ RUN      ] ConditionVariableTest.MultiThreadConsumerTest  /b/slave/mac/build/src/base/condition_variable_unittest.cc:355: Failure  Value of: queue.GetMinCompletionsByWorkerThread()    Actual: 1  Expected: 2  /b/slave/mac/build/src/base/condition_variable_unittest.cc:356: Failure  Value of: queue.GetNumberOfCompletedTasks()    Actual: 15  Expected: 20  /b/slave/mac/build/src/base/condition_variable_unittest.cc:371: Failure  Value of: queue.GetNumThreadsCompletingTasks()    Actual: 9  Expected: 10  /b/slave/mac/build/src/base/condition_variable_unittest.cc:372: Failure  Value of: queue.task_count()    Actual: 8  Expected: 0  /b/slave/mac/build/src/base/condition_variable_unittest.cc:374: Failure  Value of: queue.GetMinCompletionsByWorkerThread()    Actual: 0  Expected: 2  /b/slave/mac/build/src/base/condition_variable_unittest.cc:375: Failure  Value of: queue.GetNumberOfCompletedTasks()    Actual: 12  Expected: 20  [  FAILED  ] ConditionVariableTest.MultiThreadConsumerTest (1050 ms)  [ RUN      ] ConditionVariableTest.LargeFastTaskTest  [       OK ] ConditionVariableTest.LargeFastTaskTest (1997 ms)  [----------] 4 tests from ConditionVariableTest (3505 ms total)    This test is full of &quot;Should take about 60 ms&quot;. Each PlatformThread::Sleep() should be evaluated and   replaced with an array of WaitableEvent as necessary. </pre>