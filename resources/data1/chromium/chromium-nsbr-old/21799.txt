<title>Issue 21799 -   chromium -    MediaTest.VideoBarTheora might be hanging due to a media pipeline problem - Project Hosting on Google Code</title> <pre> webmediaplayer_impl.cc:    void WebMediaPlayerImpl::Destroy() {    DCHECK(MessageLoop::current() == main_loop_);      // Make sure to kill the pipeline so there's no more media threads   running.    // TODO(hclam): stopping the pipeline might block for a long time.    pipeline_-&gt;Stop(NULL);    pipeline_thread_.Stop();    Logs (excerpt):    C:bslavechromium-dbg-builderbuildsrcchrometestuiui_test.cc(419):   error: Value of: process_count    Actual: 1  Expected: 0  Unable to quit all browser processes. Original PID 3916 Leftover PIDs: [   3916 ]    Failed this way 1 time(s). First failure was on 2009-08-31  and last on   2009-08-31.  C:bslavechromium-dbg-builderbuildsrcchrometestuiui_test.cc(419):   error: Value of: process_count    Actual: 1  Expected: 0  Unable to quit all browser processes. Original PID 1044 Leftover PIDs: [   1044 ]    Failed this way 1 time(s). First failure was on 2009-08-31  and last on   2009-08-31.    I'm going to take a look and add more logging to see if the problem is   really with the pipeline. scherkus  thanks for showing me this place in   code. </pre>