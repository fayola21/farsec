<title>Issue 3795 -   chromium -    Check: CrashForBitmapAllocationfailure()  - Project Hosting on Google Code</title> <pre> I'm logging this for the record. I don't know what we can do other than look for GDI leaks.   This is a common crash in 154.6  albeit with very little data so far.       Thread 1 *CRASHED*  0x67644e69 [chrome.dll] - logging.cc:497 logging::LogMessage::~LogMessage()  0x677a475d [chrome.dll] - bitmap_platform_device_win.cc:126 gfx::`anonymous   namespace'::CrashForBitmapAllocationFailure(int int)    ** NOTE: the following call is:    // If we run out of GDI objects or some other error occurs  we won't get a    // bitmap here. This will cause us to crash later because the data pointer is    // NULL. To make sure that we can assign blame for those crashes to this code     // we deliberately crash here  even in release mode.    if (!hbitmap)      CrashForBitmapAllocationFailure(width  height);    0x677a493e [chrome.dll] - bitmap_platform_device_win.cc:285   gfx::BitmapPlatformDeviceWin::create(HDC__ * int int bool void *)  0x677a533a [chrome.dll] - platform_canvas_win.cc:75   gfx::PlatformCanvasWin::createPlatformDevice(int int bool void *)  0x677a524d [chrome.dll] - platform_canvas_win.cc:41   gfx::PlatformCanvasWin::initialize(int int bool void *)  0x677a51f0 [chrome.dll] - platform_canvas_win.cc:22   gfx::PlatformCanvasWin::PlatformCanvasWin(int int bool)  0x67670d4d [chrome.dll] - webframe_impl.cc:1492 WebFrameImpl::CaptureImage(bool)  0x677ae79f [chrome.dll] - render_view.cc:692 RenderView::CaptureThumbnail(WebFrame   * int int SkBitmap * ThumbnailScore *)  0x677adaed [chrome.dll] - render_view.cc:366 RenderView::SendThumbnail()  0x677ae6c8 [chrome.dll] - render_view.cc:640 RenderView::CapturePageInfo(int bool)  0x677b51ef [chrome.dll] - task.h:202 ScopedRunnableMethodFactory&lt;RenderView&gt;::RunnableMethod&lt;void (   RenderView::*)(int bool) Tuple2&lt;int bool&gt; &gt;::Run()  0x6764c09a [chrome.dll] - message_loop.cc:303 MessageLoop::RunTask(Task *)  0x6764c0d6 [chrome.dll] - message_loop.cc:311   MessageLoop::DeferOrRunPendingTask(MessageLoop::PendingTask const &amp;)  0x6764c391 [chrome.dll] - message_loop.cc:430 MessageLoop::DoDelayedWork(Time *)  0x67658125 [chrome.dll] - message_pump_default.cc:27   base::MessagePumpDefault::Run(base::MessagePump::Delegate *)  0x6764bddd [chrome.dll] - message_loop.cc:192 MessageLoop::RunInternal()  0x6764bd4c [chrome.dll] - message_loop.cc:175 MessageLoop::RunHandler()  0x6764bcef [chrome.dll] - message_loop.cc:149 MessageLoop::Run()  0x67ac3510 [chrome.dll] - thread.cc:156 base::Thread::ThreadMain()  0x6764dd5f [chrome.dll] - platform_thread_win.cc:28 `anonymous namespace'::ThreadFunc(void *)  0x67bd3039 [chrome.dll] - threadex.c:348 _callthreadstartex  0x67bd30de [chrome.dll] - threadex.c:326 _threadstartex  0x77cd4910 [kernel32.dll] +0x00044910 BaseThreadInitThunk  0x77dae4b5 [ntdll.dll] +0x0003e4b5 __RtlUserThreadStart  0x77dae488 [ntdll.dll] +0x0003e488 _RtlUserThreadStart        The full crash report details can be found internally at: http://go/crash/reportdetail?  reportid=6fd0abe0727d57ee&amp;product=Chrome&amp;version=0.3.154.6&amp;signature=logging%3A%3ALogMessage%3A%3A%7  ELogMessage()-59848B     </pre>