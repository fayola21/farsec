<title>Issue 3985 -   chromium -    Omnibox is requesting &quot;too many&quot; DNS lookups during typing - Project Hosting on Google Code</title> <pre>   1. Type something into the omnibox  such as maps.google.com  2. Visit about:dns  3. Observe that about 13 new entries have been listed under &quot;Prefetching   DNS records revealed non-existance for ...&quot;  4. If you have a debug build  you'll actually see a table of all possible   substrings of the entered text  each of which will have been resolved via   DNS.    This excessive use of DNS is surely purging the OS cache  and significantly   reducing performance when users type into the omnibox :-(.  It is pretty   remarkable that the histogrammed performance is so good (the prefetcher   system actually detects probably cache evictions an works around them)  but   I'm sure this is a significant performance loss.    The fix will hopefully be quite small  but the gains quite measurable.    I've put this to P1 and Mstone-1.0 to &quot;get it on the radar &quot; but Mark   should adjust it more correctly.    What is the expected output?     Per design (prior to regression?)  I'd only see lookups for things with a   dot that were top-level-domains.  For example  I would only see a false   lookup for &quot;maps.google.co&quot;.    What do you see instead?    Far too many names :-(    The following is an example of my about:dns page for code just beyond the   tip of tree (its format is a little different  as it explicitly blames the   omnibox for these lookups):    Prefetching DNS records revealed non-existance for 15 hostnames    maps.google.	2318	2318	08:03	[omnibox]  maps.		2265	2265	08:01	[omnibox]  ebay.co		2496	2496	03:29	[omnibox]  maps.google.co	2581	2581	22:50	[omnibox]  microsoft.co	2949	2949	14:09	[omnibox]  www.msn.co	2475	2475	01:31	[omnibox]  myspace.co	2423	2423	07:00	[omnibox]  maps.g		2349	2349	08:01	[omnibox]  maps.go		2351	2351	08:01	[omnibox]  maps.goo	2336	2336	08:02	[omnibox]  maps.goog	2338	2338	08:02	[omnibox]  maps.googl	2346	2346	08:02	[omnibox]  maps.google	2308	2308	08:03	[omnibox]  ma		2336	2336	08:01	[omnibox]  maps		2262	2262	08:01	[omnibox]   </pre>