<title>Issue 18539 -   chromium -    Invalid write in NSRectFill() in ui tests on mac - Project Hosting on Google Code</title> <pre> Only seen once so far.  This is like <a title="Invalid write in NSRectFill() ... in StatusBubbleMac::Create() in ui tests on mac"  href="/p/chromium/issues/detail?id=18189">bug 18189</a>  but the rectangle is from the system instead of us here.  Happened during ui test AutomationProxyTest.NavigateToURLAsync    Since it's not yet repeatable  maybe this is just random  memory scribbles causing strange delayed symptoms.    Valgrind complained:    Invalid write of size 8    sseCGSFill8by1 (/System/.../CoreGraphics)    argb32_mark_constshape (/System/.../CoreGraphics)    argb32_mark (/System/.../CoreGraphics)    ripl_BltShape (/System/.../Resources/libRIP.A.dylib)    ripc_Render (/System/.../Resources/libRIP.A.dylib)    ripc_DrawRects (/System/.../Resources/libRIP.A.dylib)    CGContextFillRects (/System/.../CoreGraphics)    CGContextFillRect (/System/.../CoreGraphics)    NSRectFill (/System/.../AppKit)    _NXAllocateImageCache (/System/.../AppKit)    -[NSCachedImageRep _initWithSize:depth:separate:alpha:allowDeep:]  (/System/.../AppKit)    -[NSImage _focusOnCache:creatingWithSizeInPixels:] (/System/.../AppKit)    -[NSImage _cacheRepresentation:toSizeInPixels:stayFocused:]  (/System/.../AppKit)    -[NSImage drawInRect:fromRect:operation:fraction:] (/System/.../AppKit)    -[NSImage  _drawMappingAlignmentRectToRect:withState:backgroundStyle:operation:fraction:flip:]  (/System/.../AppKit)    -[NSImageCell drawInteriorWithFrame:inView:] (/System/.../AppKit)    -[NSImageCell drawWithFrame:inView:] (/System/.../AppKit)    -[NSControl drawRect:] (/System/.../AppKit)    -[NSView(NSInternal)  _recursive:displayRectIgnoringOpacity:inContext:topView:] (/System/.../AppKit)    -[NSView(NSLayerKitGlue) drawLayer:inContext:] (/System/.../AppKit)    -[CALayer drawInContext:] (/System/.../QuartzCore)    -[CALayer _display] (/System/.../QuartzCore)    CALayerDisplayIfNeeded (/System/.../QuartzCore)    CAContextCommitTransaction (/System/.../QuartzCore)    CATransactionCommit (/System/.../QuartzCore)    __CFRunLoopDoObservers (/System/.../CoreFoundation)   </pre>