<title>Issue 14220 -   chromium -    Incorrect handling of trailing lws at the end of http response headers. - Project Hosting on Google Code</title> <pre> The code of HttpResponseHeaders::Update has some assumptions about the presence of NULLs at the end of each header.    Adding       { &quot;HTTP/1.1 200 OKn&quot;        &quot;Content-Length: 450n&quot;           &quot;HTTP/1/1 304 Not Modifiedn&quot;        &quot;connection: keep-aliven&quot;        &quot;Cache-control: max-age=10000   n&quot;           &quot;HTTP/1.1 200 OKn&quot;        &quot;Cache-control: max-age=10000n&quot;        &quot;Content-Length: 450n&quot;      }   to the list of tests of HttpResponseHeadersTest.Update fails  and the   result is:    Actual: &quot;HTTP/1.1 200 OK  Cache-control: max-age=10000 Content-Length: 450    so two headers are merged together.    The same assumption seems to be prevalent in the code of the class so maybe   instead of fixing all cases we should instead change Parse or   AssembleRawHeaders to remove lws at the end of each header? </pre>