<title>Issue 11594 -   chromium -    Session restore creates one too many tabs - Project Hosting on Google Code</title> <pre> Steps:  - Launch chromium  - Go to google.com  - Create an app shortcut (anywhere). Window switches from tabs to app mode.  Keep this window open so Chromium remains running.  - Launch chromium again (not from the app shortcut) to create a new tabbed  window.  - Go to prefs and set the startup pref to &quot;restore the pages that were last  open&quot;  - Close the tabbed window with a single tab in it.  - Launch Chromium a third time.    Expected:  - window with 1 tab (the last session)    Actual:  - tabbed window has 2 tabs (both NTP).    The reason is because creating the new window uses  Browser::OpenEmptyWindow() which always adds a blank tab. The  SessionService asynchronously restores the last session (also a blank tab)  so you end up with two. If the window had 5 tabs in it when you closed it   you'll end up with 6 when you re-launch. You always get N + 1 and the +1  will be the NTP. </pre>