<title>Issue 4606 -   chromium -    ClientSocketPool should check not only the socket is connected but also the socket has not received data. - Project Hosting on Google Code</title> <pre> When deciding whether to close a socket  ClientSocketPool should  check not only the socket is connected but also the socket has  not received data.  If the socket has received data  the data  will be mistaken for the response for the next request when the  socket is reused.    An SSL socket can also receive data when the server closes the  SSL connection.  The SSL protocol requires a party to send the  close_notify alert message before closing the underlying TCP  connection.    One reason it's important to close idle sockets that have received  data *as soon as possible* is that the received data may cause  BSOD on Windows XP under some conditions.  The recommended workaround  is &quot;to have read notifications in the application (using WSAAsyncSelect   WSAEventSelect or select calls) that notify applications of available  data as soon as it arrives. Posting a receive call subsequently will  avoid data lurking in AFD layer and the problem at hand can be  eliminated.&quot;    Eric  this means the kCleanupInterval value that I asked you to  increase from 5 seconds to 10 seconds must not be increased  further.  We should add a comment to prevent that.   </pre>