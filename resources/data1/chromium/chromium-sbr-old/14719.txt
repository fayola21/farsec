<title>Issue 14719 -   chromium -    Security: possible memory corruption in v8 regex execution engine - Project Hosting on Google Code</title> <pre> This bug actually surfaced as a reliability issue. The UI-driven test case is:    1) Go to <a href="http://www.iit.edu/~laksvij/language/tamil.html">http://www.iit.edu/~laksvij/language/tamil.html</a>  2) Click in the &quot;Type your text here&quot; textarea.  3) Instant tab death.    We're getting crash reports of this in the wild.    In my debugger  I see this:    #5  0x09a6512c in CheckHelper (      file=0xa6d2554  &quot;/usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc&quot;   line=1217        source=0xa6d2888 &quot;static_cast&lt;size_t&gt;(old_stack_top - stack_pointer) &lt;=  size&quot;  condition=false)      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/checks.h:62  #6  0x09a6612c in v8::internal::RegExpMacroAssemblerIA32::GrowStack (      stack_pointer=0xb7fb900 &quot;��__��_��_&quot;  stack_top=0xf6f82cd8)      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1217  ---Type &lt;return&gt; to continue  or q &lt;return&gt; to quit---  #7  0xf3ef1718 in ?? ()  #8  0x0b7fb900 in ?? ()  #9  0xf6f82cd8 in ?? ()  #10 0xf6f82a98 in ?? ()  #11 0x098fb74d in StringShape (this=0xf58360d9  str=0x10)      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/objects-inl.h:191  #12 0x09a66cbf in v8::internal::RegExpMacroAssemblerIA32::Execute (      code=0xf3ed4101  input=0xf58360d9  start_offset=16        input_start=0xb77b644 &quot;N&quot;  input_end=0xb77b6ba &quot;&quot;  output=0xb80e760        at_start=true)      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1048  #13 0x09a66f98 in v8::internal::RegExpMacroAssemblerIA32::Match (regexp_code=        {location_ = 0xb76bc94}  subject={location_ = 0xb76bc84}        offsets_vector=0xb80e760  offsets_vector_length=116  previous_index=0)      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/ia32/regexp-macro-assembler-ia32.cc:1005  #14 0x09a4ddd2 in v8::internal::RegExpImpl::IrregexpExec (jsregexp=        {location_ = 0xb76bc80}  subject={location_ = 0xb76bc84}        previous_index=0  last_match_info={location_ = 0xb76bc88})      at  /usr/local/google/cevans/chrome/home/chrome-svn/tarball/chromium/src/v8/src/jsregexp.cc:444    Looks like some form of stack overflow condition which can be a serious  security issue. Therefore marking as security.    In addition  there are traces in the wild indicating memory corruption in  this area:    http://crash/reportdetail?reportid=53a0687f9ac1a7b4&amp;product=Chrome&amp;version=2.0.172.31&amp;date=&amp;signature=RtlpLowFragHeapFree-D4FE92    (Random sample):  Thread 1 *CRASHED* (EXCEPTION_ACCESS_VIOLATION @0xffffffffcd14d61e)  0x771059c3 	[ntdll.dll 	+ 0x000659c3] 	RtlpLowFragHeapFree  0x77105882 	[ntdll.dll 	+ 0x00065882] 	RtlFreeHeap  0x76a5c56e 	[kernel32.dll 	+ 0x0004c56e] 	HeapFree  0x6bb8c6fc 	[chrome.dll 	- free.c:109] 	free  0x6bbebfe3 	[chrome.dll 	- regexp-stack.cc:82]   v8::internal::RegExpStack::EnsureCapacity(unsigned int)  0x6bc3fed7 	[chrome.dll 	- regexp-macro-assembler-ia32.cc:1216]   v8::internal::RegExpMacroAssemblerIA32::GrowStack(unsigned char * unsigned  char * *)  0x6bbc47d9 	[chrome.dll 	- objects.cc:3797]   v8::internal::String::ReadBlockIntoBuffer(v8::internal::String  * v8::internal::String::ReadBlockBuffer * unsigned int * unsigned int)  0x00000072 			  0x6bc41b44 	[chrome.dll 	- regexp-macro-assembler-ia32.cc:1047]   v8::internal::RegExpMacroAssemblerIA32::Execute(v8::internal::Code  * v8::internal::String * int unsigned char const * unsigned char const  * int * bool)  0x6bc421b2 	[chrome.dll 	- regexp-macro-assembler-ia32.cc:1004]   v8::internal::RegExpMacroAssemblerIA32::Match(v8::internal::Handle&lt;v8::internal::Code&gt; v8::internal::Handle&lt;v8::internal::String&gt; int  * int int)  0x6bc27cb8 	[chrome.dll 	- jsregexp.cc:441]   v8::internal::RegExpImpl::IrregexpExec(v8::internal::Handle&lt;v8::internal::JSRegExp&gt; v8::internal::Handle&lt;v8::internal::String&gt; int v8::internal::Handle&lt;v8::internal::JSArray&gt;)  0x6bc292a8 	[chrome.dll 	- jsregexp.cc:197]   v8::internal::RegExpImpl::Exec(v8::internal::Handle&lt;v8::internal::JSRegExp&gt; v8::internal::Handle&lt;v8::internal::String&gt; int v8::internal::Handle&lt;v8::internal::JSArray&gt;)  0x6bc0fbc2 	[chrome.dll 	- runtime.cc:1047] 	v8::internal::Runtime_RegExpExec    </pre>