Localizer.substitutePropertyExpressions() is called twice when Localizer.getString() is called    When you call getString() on a component this component calls Localizer.getString(). This method then calls Localizer.getStringIgnoreSettings() which calls Localizer.substitutePropertyExpressions() for the first time. The return value of getStringIgnoreSettings() is then again passed to substitutePropertyExpressions().Actually I'm not sure if this is a bug or if this is desired behaviour  but it can lead to problems if you throw an Exception when a resource cannot be found and the value that is put into a string is  for whatever reason  in the format ${foobar}.   