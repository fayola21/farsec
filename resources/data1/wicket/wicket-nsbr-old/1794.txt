WicketTester.clickLink and IndexedParamUrlCodingStrategy don't work together    IndexedParamUrlCodingStrategy.appendParameters expects String-&gt;String map:.... while (parameters.containsKey(String.valueOf)) { String value = (String)parameters.get(String.valueOf);...but BaseWicketTester.clickLink converts page params to String-&gt;String[] map:.... PageParameters parameters = (PageParameters)getParametersMethod.invoke( bookmarkablePageLink  (Object[])null); setParametersForNextRequest(parameters.toRequestParameters());...And as result we have type cast exception.   