Calls to enabled and visibleInHierarchy should not be done in component resolving.    Currently  the check(s) on whether a component may receive a call is done too early  namely during resolving the request target. This is a problem when components depend on things being initialized in the page or component using detachement. There is also some code duplication. The proper place for this check is in RequestListenerInterface#invoke.   