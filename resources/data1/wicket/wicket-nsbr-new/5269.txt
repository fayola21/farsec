XmlAjaxResponse restores wrong response    XmlAjaxResponse#writeComponent() erroneously sets the passed response into the requestCycle  although it never was the old (=original) response: @Overrideprotected void writeComponent(Response response  ...){ ... // Restore original response RequestCycle.get().setResponse(response);}AjaxRequestHandler#respond(...) restores the correct old response afterwards  but temporarily the current response of the RequestCycle is wrong.   