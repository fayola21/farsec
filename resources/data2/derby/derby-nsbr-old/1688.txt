ConsistencyToken.hashCode() is not thread safe    If ConsistencyToken.hashCode() is run concurrently by different threads  some of the threads may see a partial result instead of the correct hash code. This is not a problem in the current code since all calls to that method are synchronized on a higher level  but it would be good to fix in case the method will be used differently in the future.   