Embedded ResultSet.getStatement() does not return the Statement object that created it  for a connection returned from EmbeddedXADataSource    May also be the case for connections obtained from EmbeddedConnectionPoolDataSource.ResultSet.getStatement() is returning the undetlying 'physical' java.sql.Statement object  not the brokered object.Bug as applications can then get at the underlying 'physical' connection and thus continue to use a connection that may have been assigned to someone else. Causes FAIL messages in thenew jdbcapi/XATest  real checks should be added in checkDataSource to ensure all the possibleconnection objects are checked.   