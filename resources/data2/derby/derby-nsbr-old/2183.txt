Trigger recompilation problem when trigger action has its table not qualified with a schema    Trigger recompilation problem when trigger action has its table not qualified with a schema.SPSs in SYS.SYSSTATEMENTS get invalidated for recompilation when sqlj.install_jar  sqlj.remove_jar  sqlj.replace_jar are called  or when a database upgrade is performed. The problem arises when the trigger action statement does not qualify the table with an explicit schema name. During recompilation it uses the default schema instead of using the original schema that was persisted in SYS.SYSSTATEMENTS causing an exception to occur. e.g.:C:/derby/trunk&gt;java -classpath classes;. org.apache.derby.tools.ijij version 10.3ij&gt; connect 'jdbc:derby:wombat;create=true';ij&gt; create table app.t1 (i int  j int);0 rows inserted/updated/deletedij&gt; insert into app.t1 values (1 10);1 row inserted/updated/deleted&#8211; notice trigger action's update statement did not qualify table t1 with a schema nameij&gt; create trigger app.tr1 after update of i on app.t1 update t1 set j = 1;0 rows inserted/updated/deletedij&gt; update app.t1 set i=i+1;1 row inserted/updated/deletedij&gt; select * from app.t1;I |J-----------------------2 |11 row selected&#8211; this action invalidates the SPS and mark for recompilationij&gt; call sqlj.install_jar('c:/derby/procs/Procs.jar'  'APP.Procs'  0);0 rows inserted/updated/deletedij&gt; disconnect;ij&gt; connect 'jdbc:derby:wombat' user 'user1';&#8211; recompilation occurs but uses 'USER1' as the schema to compile instead of 'APP'  resulting in errorij&gt; update app.t1 set i=i+1;ERROR 42Y07: Schema 'USER1' does not existij&gt;   